function clearAlerts(){for(var e=document.getElementsByClassName("alert");e.length>0;)e[0].parentNode.removeChild(e[0])}function webGl(){"use strict";var e,t=document.getElementById("xp-webgl"),n=document.getElementById("fallback-webgl");return t&&(e={pathImg:window.config.webglOptions.pathImg,path3d:window.config.webglOptions.path3d,container:document.querySelector(".xp"),zoom:{value:80,min:40,max:150,inc:20},zoomMobile:{value:100,min:40,max:100,inc:20},fallback:function(e){n.style.display="flex"},progress:function(e){},complete:function(){}},window.webglXp=new XP(e,window.config.webglConfig),[].forEach.call(document.querySelectorAll(".bt-load-xp"),function(e){e.addEventListener("click",function(){window.webglXp.load(),window.webglXp.play(),window.webglXpPlaying=!0})}),[].forEach.call(document.querySelectorAll(".bt-pause-xp"),function(e){e.addEventListener("click",function(){window.webglXp.pause(),window.webglXpPlaying=!1})})),{}}!function(){return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){return i(t[a][1][e]||e)},u,u.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}}()({1:[function(e,t,n){},{}],2:[function(e,t,n){!function(e,r){"object"==typeof n&&"object"==typeof t?t.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof n?n.Choices=r():e.Choices=r()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="/assets/scripts/dist/",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=r(n(2)),l=r(n(3)),c=r(n(4)),u=n(31),d=n(32);n(33);var h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[data-choice]",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(0,d.isType)("String",t)){var r=document.querySelectorAll(t);if(r.length>1)for(var i=1;i<r.length;i++){new e(r[i],n)}}var o={silent:!1,items:[],choices:[],renderChoiceLimit:-1,maxItemCount:-1,addItems:!0,removeItems:!0,removeItemButton:!1,editItems:!1,duplicateItems:!0,delimiter:",",paste:!0,searchEnabled:!0,searchChoices:!0,searchFloor:1,searchResultLimit:4,searchFields:["label","value"],position:"auto",resetScrollPosition:!0,regexFilter:null,shouldSort:!0,shouldSortItems:!1,sortFilter:d.sortByAlpha,placeholder:!0,placeholderValue:null,searchPlaceholderValue:null,prependValue:null,appendValue:null,renderSelectedChoices:"auto",loadingText:"Loading...",noResultsText:"No results found",noChoicesText:"No choices to choose from",itemSelectText:"Press to select",addItemText:function(e){return'Press Enter to add <b>"'+(0,d.stripHTML)(e)+'"</b>'},maxItemText:function(e){return"Only "+e+" values can be added."},itemComparer:function(e,t){return e===t},uniqueItemText:"Only unique values can be added.",classNames:{containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button",activeState:"is-active",focusState:"is-focused",openState:"is-open",disabledState:"is-disabled",highlightedState:"is-highlighted",hiddenState:"is-hidden",flippedState:"is-flipped",loadingState:"is-loading",noResults:"has-no-results",noChoices:"has-no-choices"},fuseOptions:{include:"score"},callbackOnInit:null,callbackOnCreateTemplates:null};if(this.idNames={itemChoice:"item-choice"},this.config=(0,d.extend)(o,n),"auto"!==this.config.renderSelectedChoices&&"always"!==this.config.renderSelectedChoices&&(this.config.silent||console.warn("renderSelectedChoices: Possible values are 'auto' and 'always'. Falling back to 'auto'."),this.config.renderSelectedChoices="auto"),this.store=new c.default(this.render),this.initialised=!1,this.currentState={},this.prevState={},this.currentValue="",this.element=t,this.passedElement=(0,d.isType)("String",t)?document.querySelector(t):t,this.passedElement)if(this.isTextElement="text"===this.passedElement.type,this.isSelectOneElement="select-one"===this.passedElement.type,this.isSelectMultipleElement="select-multiple"===this.passedElement.type,this.isSelectElement=this.isSelectOneElement||this.isSelectMultipleElement,this.isValidElementType=this.isTextElement||this.isSelectElement,this.isIe11=!(!navigator.userAgent.match(/Trident/)||!navigator.userAgent.match(/rv[ :]11/)),this.isScrollingOnIe=!1,!0===this.config.shouldSortItems&&this.isSelectOneElement&&(this.config.silent||console.warn("shouldSortElements: Type of passed element is 'select-one', falling back to false.")),this.highlightPosition=0,this.canSearch=this.config.searchEnabled,this.placeholder=!1,this.isSelectOneElement||(this.placeholder=!!this.config.placeholder&&(this.config.placeholderValue||this.passedElement.getAttribute("placeholder"))),this.presetChoices=this.config.choices,this.presetItems=this.config.items,this.passedElement.value&&(this.presetItems=this.presetItems.concat(this.passedElement.value.split(this.config.delimiter))),this.baseId=(0,d.generateId)(this.passedElement,"choices-"),this.render=this.render.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this.wasTap=!0,"classList"in document.documentElement||this.config.silent||console.error("Choices: Your browser doesn't support Choices"),(0,d.isElement)(this.passedElement)&&this.isValidElementType){if("active"===this.passedElement.getAttribute("data-choice"))return;this.init()}else this.config.silent||console.error("Incompatible input passed");else this.config.silent||console.error("Passed element not found")}return a(e,[{key:"init",value:function(){if(!0!==this.initialised){var e=this.config.callbackOnInit;this.initialised=!0,this._createTemplates(),this._createInput(),this.store.subscribe(this.render),this.render(),this._addEventListeners(),e&&(0,d.isType)("Function",e)&&e.call(this)}}},{key:"destroy",value:function(){if(!1!==this.initialised){this._removeEventListeners(),this.passedElement.classList.remove(this.config.classNames.input,this.config.classNames.hiddenState),this.passedElement.removeAttribute("tabindex");var e=this.passedElement.getAttribute("data-choice-orig-style");Boolean(e)?(this.passedElement.removeAttribute("data-choice-orig-style"),this.passedElement.setAttribute("style",e)):this.passedElement.removeAttribute("style"),this.passedElement.removeAttribute("aria-hidden"),this.passedElement.removeAttribute("data-choice"),this.passedElement.value=this.passedElement.value,this.containerOuter.parentNode.insertBefore(this.passedElement,this.containerOuter),this.containerOuter.parentNode.removeChild(this.containerOuter),this.clearStore(),this.config.templates=null,this.initialised=!1}}},{key:"renderGroups",value:function(e,t,n){var r=this,i=n||document.createDocumentFragment(),o=this.config.sortFilter;return this.config.shouldSort&&e.sort(o),e.forEach(function(e){var n=t.filter(function(t){return r.isSelectOneElement?t.groupId===e.id:t.groupId===e.id&&!t.selected});if(n.length>=1){var o=r._getTemplate("choiceGroup",e);i.appendChild(o),r.renderChoices(n,i,!0)}}),i}},{key:"renderChoices",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t||document.createDocumentFragment(),a=this.config,s=a.renderSelectedChoices,l=a.searchResultLimit,c=a.renderChoiceLimit,u=this.isSearching?d.sortByScore:this.config.sortFilter,h=e;"auto"!==s||this.isSelectOneElement||(h=e.filter(function(e){return!e.selected}));var f=h.reduce(function(e,t){return t.placeholder?e.placeholderChoices.push(t):e.normalChoices.push(t),e},{placeholderChoices:[],normalChoices:[]}),p=f.placeholderChoices,m=f.normalChoices;(this.config.shouldSort||this.isSearching)&&m.sort(u);var v=h.length,g=[].concat(o(p),o(m));this.isSearching?v=l:c>0&&!r&&(v=c);for(var y=0;y<v;y++)g[y]&&function(e){if("auto"!==s||n.isSelectOneElement||!e.selected){var t=n._getTemplate("choice",e);i.appendChild(t)}}(g[y]);return i}},{key:"renderItems",value:function(e){var t=this,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||document.createDocumentFragment();if(this.config.shouldSortItems&&!this.isSelectOneElement&&e.sort(this.config.sortFilter),this.isTextElement){var r=this.store.getItemsReducedToValues(e).join(this.config.delimiter);this.passedElement.setAttribute("value",r),this.passedElement.value=r}else{var i=document.createDocumentFragment();e.forEach(function(e){var n=t._getTemplate("option",e);i.appendChild(n)}),this.passedElement.innerHTML="",this.passedElement.appendChild(i)}return e.forEach(function(e){var r=t._getTemplate("item",e);n.appendChild(r)}),n}},{key:"render",value:function(){if(!this.store.isLoading()&&(this.currentState=this.store.getState(),this.currentState!==this.prevState)){if((this.currentState.choices!==this.prevState.choices||this.currentState.groups!==this.prevState.groups||this.currentState.items!==this.prevState.items)&&this.isSelectElement){var e=this.store.getGroupsFilteredByActive(),t=this.store.getChoicesFilteredByActive(),n=document.createDocumentFragment();this.choiceList.innerHTML="",this.config.resetScrollPosition&&(this.choiceList.scrollTop=0),e.length>=1&&!0!==this.isSearching?n=this.renderGroups(e,t,n):t.length>=1&&(n=this.renderChoices(t,n));var r=this.store.getItemsFilteredByActive(),i=this._canAddItem(r,this.input.value);if(n.childNodes&&n.childNodes.length>0)i.response?(this.choiceList.appendChild(n),this._highlightChoice()):this.choiceList.appendChild(this._getTemplate("notice",i.notice));else{var o=void 0,a=void 0;this.isSearching?(a=(0,d.isType)("Function",this.config.noResultsText)?this.config.noResultsText():this.config.noResultsText,o=this._getTemplate("notice",a,"no-results")):(a=(0,d.isType)("Function",this.config.noChoicesText)?this.config.noChoicesText():this.config.noChoicesText,o=this._getTemplate("notice",a,"no-choices")),this.choiceList.appendChild(o)}}if(this.currentState.items!==this.prevState.items){var s=this.store.getItemsFilteredByActive();if(this.itemList.innerHTML="",s&&s){var l=this.renderItems(s);l.childNodes&&this.itemList.appendChild(l)}}this.prevState=this.currentState}}},{key:"highlightItem",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return this;var n=e.id,r=e.groupId,i=r>=0?this.store.getGroupById(r):null;return this.store.dispatch((0,u.highlightItem)(n,!0)),t&&(i&&i.value?(0,d.triggerEvent)(this.passedElement,"highlightItem",{id:n,value:e.value,label:e.label,groupValue:i.value}):(0,d.triggerEvent)(this.passedElement,"highlightItem",{id:n,value:e.value,label:e.label})),this}},{key:"unhighlightItem",value:function(e){if(!e)return this;var t=e.id,n=e.groupId,r=n>=0?this.store.getGroupById(n):null;return this.store.dispatch((0,u.highlightItem)(t,!1)),r&&r.value?(0,d.triggerEvent)(this.passedElement,"unhighlightItem",{id:t,value:e.value,label:e.label,groupValue:r.value}):(0,d.triggerEvent)(this.passedElement,"unhighlightItem",{id:t,value:e.value,label:e.label}),this}},{key:"highlightAll",value:function(){var e=this;return this.store.getItems().forEach(function(t){e.highlightItem(t)}),this}},{key:"unhighlightAll",value:function(){var e=this;return this.store.getItems().forEach(function(t){e.unhighlightItem(t)}),this}},{key:"removeItemsByValue",value:function(e){var t=this;return e&&(0,d.isType)("String",e)?(this.store.getItemsFilteredByActive().forEach(function(n){n.value===e&&t._removeItem(n)}),this):this}},{key:"removeActiveItems",value:function(e){var t=this;return this.store.getItemsFilteredByActive().forEach(function(n){n.active&&e!==n.id&&t._removeItem(n)}),this}},{key:"removeHighlightedItems",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.store.getItemsFilteredByActive().forEach(function(n){n.highlighted&&n.active&&(e._removeItem(n),t&&e._triggerChange(n.value))}),this}},{key:"showDropdown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=document.body,n=document.documentElement,r=Math.max(t.scrollHeight,t.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight);this.containerOuter.classList.add(this.config.classNames.openState),this.containerOuter.setAttribute("aria-expanded","true"),this.dropdown.classList.add(this.config.classNames.activeState),this.dropdown.setAttribute("aria-expanded","true");var i=this.dropdown.getBoundingClientRect(),o=Math.ceil(i.top+window.scrollY+this.dropdown.offsetHeight),a=!1;return"auto"===this.config.position?a=o>=r:"top"===this.config.position&&(a=!0),a&&this.containerOuter.classList.add(this.config.classNames.flippedState),e&&this.canSearch&&document.activeElement!==this.input&&this.input.focus(),(0,d.triggerEvent)(this.passedElement,"showDropdown",{}),this}},{key:"hideDropdown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.containerOuter.classList.contains(this.config.classNames.flippedState);return this.containerOuter.classList.remove(this.config.classNames.openState),this.containerOuter.setAttribute("aria-expanded","false"),this.dropdown.classList.remove(this.config.classNames.activeState),this.dropdown.setAttribute("aria-expanded","false"),t&&this.containerOuter.classList.remove(this.config.classNames.flippedState),e&&this.canSearch&&document.activeElement===this.input&&this.input.blur(),(0,d.triggerEvent)(this.passedElement,"hideDropdown",{}),this}},{key:"toggleDropdown",value:function(){return this.dropdown.classList.contains(this.config.classNames.activeState)?this.hideDropdown():this.showDropdown(!0),this}},{key:"getValue",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=[];return this.store.getItemsFilteredByActive().forEach(function(r){e.isTextElement?n.push(t?r.value:r):r.active&&n.push(t?r.value:r)}),this.isSelectOneElement?n[0]:n}},{key:"setValue",value:function(e){var t=this;if(!0===this.initialised){var n=[].concat(o(e)),r=function(e){var n=(0,d.getType)(e);if("Object"===n){if(!e.value)return;t.isTextElement?t._addItem(e.value,e.label,e.id,void 0,e.customProperties,e.placeholder):t._addChoice(e.value,e.label,!0,!1,-1,e.customProperties,e.placeholder)}else"String"===n&&(t.isTextElement?t._addItem(e):t._addChoice(e,e,!0,!1,-1,null))};n.length>1?n.forEach(function(e){r(e)}):r(n[0])}return this}},{key:"setValueByChoice",value:function(e){var t=this;if(!this.isTextElement){var n=this.store.getChoices();((0,d.isType)("Array",e)?e:[e]).forEach(function(e){var r=n.find(function(n){return t.config.itemComparer(n.value,e)});r?r.selected?t.config.silent||console.warn("Attempting to select choice already selected"):t._addItem(r.value,r.label,r.id,r.groupId,r.customProperties,r.placeholder,r.keyCode):t.config.silent||console.warn("Attempting to select choice that does not exist")})}return this}},{key:"setChoices",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!0===this.initialised&&this.isSelectElement){if(!(0,d.isType)("Array",e)||!t)return this;i&&this._clearChoices(),this._setLoading(!0),e&&e.length&&(this.containerOuter.classList.remove(this.config.classNames.loadingState),e.forEach(function(e){e.choices?r._addGroup(e,e.id||null,t,n):r._addChoice(e[t],e[n],e.selected,e.disabled,void 0,e.customProperties,e.placeholder)})),this._setLoading(!1)}return this}},{key:"clearStore",value:function(){return this.store.dispatch((0,u.clearAll)()),this}},{key:"clearInput",value:function(){return this.input.value&&(this.input.value=""),this.isSelectOneElement||this._setInputWidth(),!this.isTextElement&&this.config.searchEnabled&&(this.isSearching=!1,this.store.dispatch((0,u.activateChoices)(!0))),this}},{key:"enable",value:function(){return this.initialised&&(this.passedElement.disabled=!1,this.containerOuter.classList.contains(this.config.classNames.disabledState)&&(this._addEventListeners(),this.passedElement.removeAttribute("disabled"),this.input.removeAttribute("disabled"),this.containerOuter.classList.remove(this.config.classNames.disabledState),this.containerOuter.removeAttribute("aria-disabled"),this.isSelectOneElement&&this.containerOuter.setAttribute("tabindex","0"))),this}},{key:"disable",value:function(){return this.initialised&&(this.passedElement.disabled=!0,!this.containerOuter.classList.contains(this.config.classNames.disabledState)&&(this._removeEventListeners(),this.passedElement.setAttribute("disabled",""),this.input.setAttribute("disabled",""),this.containerOuter.classList.add(this.config.classNames.disabledState),this.containerOuter.setAttribute("aria-disabled","true"),this.isSelectOneElement&&this.containerOuter.setAttribute("tabindex","-1"))),this}},{key:"ajax",value:function(e){var t=this;return!0===this.initialised&&this.isSelectElement&&(requestAnimationFrame(function(){t._handleLoadingState(!0)}),e(this._ajaxCallback())),this}},{key:"_triggerChange",value:function(e){e&&(0,d.triggerEvent)(this.passedElement,"change",{value:e})}},{key:"_handleButtonAction",value:function(e,t){if(e&&t&&this.config.removeItems&&this.config.removeItemButton){var n=t.parentNode.getAttribute("data-id"),r=e.find(function(e){return e.id===parseInt(n,10)});this._removeItem(r),this._triggerChange(r.value),this.isSelectOneElement&&this._selectPlaceholderChoice()}}},{key:"_selectPlaceholderChoice",value:function(){var e=this.store.getPlaceholderChoice();e&&(this._addItem(e.value,e.label,e.id,e.groupId,null,e.placeholder),this._triggerChange(e.value))}},{key:"_handleItemAction",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e&&t&&this.config.removeItems&&!this.isSelectOneElement){var i=t.getAttribute("data-id");e.forEach(function(e){e.id!==parseInt(i,10)||e.highlighted?r||e.highlighted&&n.unhighlightItem(e):n.highlightItem(e)}),document.activeElement!==this.input&&this.input.focus()}}},{key:"_handleChoiceAction",value:function(e,t){if(e&&t){var n=t.getAttribute("data-id"),r=this.store.getChoiceById(n),i=e[0]&&e[0].keyCode?e[0].keyCode:null,o=this.dropdown.classList.contains(this.config.classNames.activeState);r.keyCode=i,(0,d.triggerEvent)(this.passedElement,"choice",{choice:r}),!r||r.selected||r.disabled||this._canAddItem(e,r.value).response&&(this._addItem(r.value,r.label,r.id,r.groupId,r.customProperties,r.placeholder,r.keyCode),this._triggerChange(r.value)),this.clearInput(),o&&this.isSelectOneElement&&(this.hideDropdown(),this.containerOuter.focus())}}},{key:"_handleBackspace",value:function(e){if(this.config.removeItems&&e){var t=e[e.length-1],n=e.some(function(e){return e.highlighted});this.config.editItems&&!n&&t?(this.input.value=t.value,this._setInputWidth(),this._removeItem(t),this._triggerChange(t.value)):(n||this.highlightItem(t,!1),this.removeHighlightedItems(!0))}}},{key:"_canAddItem",value:function(e,t){var n=!0,r=(0,d.isType)("Function",this.config.addItemText)?this.config.addItemText(t):this.config.addItemText;return(this.isSelectMultipleElement||this.isTextElement)&&this.config.maxItemCount>0&&this.config.maxItemCount<=e.length&&(n=!1,r=(0,d.isType)("Function",this.config.maxItemText)?this.config.maxItemText(this.config.maxItemCount):this.config.maxItemText),this.isTextElement&&this.config.addItems&&n&&this.config.regexFilter&&(n=this._regexFilter(t)),!e.some(function(e){return(0,d.isType)("String",t)?e.value===t.trim():e.value===t})||this.config.duplicateItems||this.isSelectOneElement||!n||(n=!1,r=(0,d.isType)("Function",this.config.uniqueItemText)?this.config.uniqueItemText(t):this.config.uniqueItemText),{response:n,notice:r}}},{key:"_handleLoadingState",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.itemList.querySelector("."+this.config.classNames.placeholder);e?(this.containerOuter.classList.add(this.config.classNames.loadingState),this.containerOuter.setAttribute("aria-busy","true"),this.isSelectOneElement?t?t.innerHTML=this.config.loadingText:(t=this._getTemplate("placeholder",this.config.loadingText),this.itemList.appendChild(t)):this.input.placeholder=this.config.loadingText):(this.containerOuter.classList.remove(this.config.classNames.loadingState),this.isSelectOneElement?t.innerHTML=this.placeholder||"":this.input.placeholder=this.placeholder||"")}},{key:"_ajaxCallback",value:function(){var e=this;return function(t,n,r){if(t&&n){var i=(0,d.isType)("Object",t)?[t]:t;i&&(0,d.isType)("Array",i)&&i.length?(e._handleLoadingState(!1),e._setLoading(!0),i.forEach(function(t){if(t.choices){var i=t.id||null;e._addGroup(t,i,n,r)}else e._addChoice(t[n],t[r],t.selected,t.disabled,void 0,t.customProperties,t.placeholder)}),e._setLoading(!1),e.isSelectOneElement&&e._selectPlaceholderChoice()):e._handleLoadingState(!1),e.containerOuter.removeAttribute("aria-busy")}}}},{key:"_searchChoices",value:function(e){var t=(0,d.isType)("String",e)?e.trim():e,n=(0,d.isType)("String",this.currentValue)?this.currentValue.trim():this.currentValue;if(t.length>=1&&t!==n+" "){var r=this.store.getSearchableChoices(),i=t,o=(0,d.isType)("Array",this.config.searchFields)?this.config.searchFields:[this.config.searchFields],a=Object.assign(this.config.fuseOptions,{keys:o}),l=new s.default(r,a).search(i);return this.currentValue=t,this.highlightPosition=0,this.isSearching=!0,this.store.dispatch((0,u.filterChoices)(l)),l.length}return 0}},{key:"_handleSearch",value:function(e){if(e){var t=this.store.getChoices().some(function(e){return!e.active});if(this.input===document.activeElement)if(e&&e.length>=this.config.searchFloor){var n=0;this.config.searchChoices&&(n=this._searchChoices(e)),(0,d.triggerEvent)(this.passedElement,"search",{value:e,resultCount:n})}else t&&(this.isSearching=!1,this.store.dispatch((0,u.activateChoices)(!0)))}}},{key:"_addEventListeners",value:function(){document.addEventListener("keyup",this._onKeyUp),document.addEventListener("keydown",this._onKeyDown),document.addEventListener("click",this._onClick),document.addEventListener("touchmove",this._onTouchMove),document.addEventListener("touchend",this._onTouchEnd),document.addEventListener("mousedown",this._onMouseDown),document.addEventListener("mouseover",this._onMouseOver),this.isSelectOneElement&&(this.containerOuter.addEventListener("focus",this._onFocus),this.containerOuter.addEventListener("blur",this._onBlur)),this.input.addEventListener("input",this._onInput),this.input.addEventListener("paste",this._onPaste),this.input.addEventListener("focus",this._onFocus),this.input.addEventListener("blur",this._onBlur)}},{key:"_removeEventListeners",value:function(){document.removeEventListener("keyup",this._onKeyUp),document.removeEventListener("keydown",this._onKeyDown),document.removeEventListener("click",this._onClick),document.removeEventListener("touchmove",this._onTouchMove),document.removeEventListener("touchend",this._onTouchEnd),document.removeEventListener("mousedown",this._onMouseDown),document.removeEventListener("mouseover",this._onMouseOver),this.isSelectOneElement&&(this.containerOuter.removeEventListener("focus",this._onFocus),this.containerOuter.removeEventListener("blur",this._onBlur)),this.input.removeEventListener("input",this._onInput),this.input.removeEventListener("paste",this._onPaste),this.input.removeEventListener("focus",this._onFocus),this.input.removeEventListener("blur",this._onBlur)}},{key:"_setInputWidth",value:function(){this.placeholder?this.input.value&&this.input.value.length>=this.placeholder.length/1.25&&(this.input.style.width=(0,d.getWidthOfInput)(this.input)):this.input.style.width=(0,d.getWidthOfInput)(this.input)}},{key:"_onKeyDown",value:function(e){var t,n=this;if(e.target===this.input||this.containerOuter.contains(e.target)){var r=e.target,o=this.store.getItemsFilteredByActive(),a=this.input===document.activeElement,s=this.dropdown.classList.contains(this.config.classNames.activeState),l=this.itemList&&this.itemList.children,c=String.fromCharCode(e.keyCode),u=e.ctrlKey||e.metaKey;this.isTextElement||!/[a-zA-Z0-9-_ ]/.test(c)||s||this.showDropdown(!0),this.canSearch=this.config.searchEnabled;var h=function(){if(s||n.isSelectOneElement){s||n.showDropdown(!0),n.canSearch=!1;var t=40===e.keyCode||34===e.keyCode?1:-1,r=void 0;if(e.metaKey||34===e.keyCode||33===e.keyCode)r=t>0?Array.from(n.dropdown.querySelectorAll("[data-choice-selectable]")).pop():n.dropdown.querySelector("[data-choice-selectable]");else{var i=n.dropdown.querySelector("."+n.config.classNames.highlightedState);r=i?(0,d.getAdjacentEl)(i,"[data-choice-selectable]",t):n.dropdown.querySelector("[data-choice-selectable]")}r&&((0,d.isScrolledIntoView)(r,n.choiceList,t)||n._scrollToChoice(r,t),n._highlightChoice(r)),e.preventDefault()}},f=function(){!a||e.target.value||n.isSelectOneElement||(n._handleBackspace(o),e.preventDefault())},p=(i(t={},65,function(){u&&l&&(n.canSearch=!1,n.config.removeItems&&!n.input.value&&n.input===document.activeElement&&n.highlightAll())}),i(t,13,function(){if(n.isTextElement&&r.value){var t=n.input.value;n._canAddItem(o,t).response&&(s&&n.hideDropdown(),n._addItem(t),n._triggerChange(t),n.clearInput())}if(r.hasAttribute("data-button")&&(n._handleButtonAction(o,r),e.preventDefault()),s){e.preventDefault();var i=n.dropdown.querySelector("."+n.config.classNames.highlightedState);i&&(o[0]&&(o[0].keyCode=13),n._handleChoiceAction(o,i))}else n.isSelectOneElement&&(s||(n.showDropdown(!0),e.preventDefault()))}),i(t,27,function(){s&&(n.toggleDropdown(),n.containerOuter.focus())}),i(t,38,h),i(t,33,h),i(t,40,h),i(t,34,h),i(t,8,f),i(t,46,f),t);p[e.keyCode]&&p[e.keyCode]()}}},{key:"_onKeyUp",value:function(e){if(e.target===this.input){var t=this.input.value,n=this.store.getItemsFilteredByActive(),r=this._canAddItem(n,t);if(this.isTextElement){var i=this.dropdown.classList.contains(this.config.classNames.activeState);if(t){if(r.notice){var o=this._getTemplate("notice",r.notice);this.dropdown.innerHTML=o.outerHTML}!0===r.response?i||this.showDropdown():!r.notice&&i&&this.hideDropdown()}else i&&this.hideDropdown()}else 46!==e.keyCode&&8!==e.keyCode||e.target.value?this.canSearch&&r.response&&this._handleSearch(this.input.value):!this.isTextElement&&this.isSearching&&(this.isSearching=!1,this.store.dispatch((0,u.activateChoices)(!0)));this.canSearch=this.config.searchEnabled}}},{key:"_onInput",value:function(){this.isSelectOneElement||this._setInputWidth()}},{key:"_onTouchMove",value:function(){!0===this.wasTap&&(this.wasTap=!1)}},{key:"_onTouchEnd",value:function(e){var t=e.target||e.touches[0].target,n=this.dropdown.classList.contains(this.config.classNames.activeState);!0===this.wasTap&&this.containerOuter.contains(t)&&(t!==this.containerOuter&&t!==this.containerInner||this.isSelectOneElement||(this.isTextElement?document.activeElement!==this.input&&this.input.focus():n||this.showDropdown(!0)),e.stopPropagation()),this.wasTap=!0}},{key:"_onMouseDown",value:function(e){var t=e.target;if(t===this.choiceList&&this.isIe11&&(this.isScrollingOnIe=!0),this.containerOuter.contains(t)&&t!==this.input){var n=void 0,r=this.store.getItemsFilteredByActive(),i=e.shiftKey;(n=(0,d.findAncestorByAttrName)(t,"data-button"))?this._handleButtonAction(r,n):(n=(0,d.findAncestorByAttrName)(t,"data-item"))?this._handleItemAction(r,n,i):(n=(0,d.findAncestorByAttrName)(t,"data-choice"))&&this._handleChoiceAction(r,n),e.preventDefault()}}},{key:"_onClick",value:function(e){var t=e.target,n=this.dropdown.classList.contains(this.config.classNames.activeState),r=this.store.getItemsFilteredByActive();this.containerOuter.contains(t)?(t.hasAttribute("data-button")&&this._handleButtonAction(r,t),n?this.isSelectOneElement&&t!==this.input&&!this.dropdown.contains(t)&&this.hideDropdown(!0):this.isTextElement?document.activeElement!==this.input&&this.input.focus():this.canSearch?this.showDropdown(!0):(this.showDropdown(),this.containerOuter.focus())):(r.some(function(e){return e.highlighted})&&this.unhighlightAll(),this.containerOuter.classList.remove(this.config.classNames.focusState),n&&this.hideDropdown())}},{key:"_onMouseOver",value:function(e){(e.target===this.dropdown||this.dropdown.contains(e.target))&&e.target.hasAttribute("data-choice")&&this._highlightChoice(e.target)}},{key:"_onPaste",value:function(e){e.target!==this.input||this.config.paste||e.preventDefault()}},{key:"_onFocus",value:function(e){var t=this,n=e.target;if(this.containerOuter.contains(n)){var r=this.dropdown.classList.contains(this.config.classNames.activeState);({text:function(){n===t.input&&t.containerOuter.classList.add(t.config.classNames.focusState)},"select-one":function(){t.containerOuter.classList.add(t.config.classNames.focusState),n===t.input&&(r||t.showDropdown())},"select-multiple":function(){n===t.input&&(t.containerOuter.classList.add(t.config.classNames.focusState),r||t.showDropdown(!0))}})[this.passedElement.type]()}}},{key:"_onBlur",value:function(e){var t=this,n=e.target;if(this.containerOuter.contains(n)&&!this.isScrollingOnIe){var r=this.store.getItemsFilteredByActive(),i=this.dropdown.classList.contains(this.config.classNames.activeState),o=r.some(function(e){return e.highlighted});({text:function(){n===t.input&&(t.containerOuter.classList.remove(t.config.classNames.focusState),o&&t.unhighlightAll(),i&&t.hideDropdown())},"select-one":function(){t.containerOuter.classList.remove(t.config.classNames.focusState),n===t.containerOuter&&i&&!t.canSearch&&t.hideDropdown(),n===t.input&&i&&t.hideDropdown()},"select-multiple":function(){n===t.input&&(t.containerOuter.classList.remove(t.config.classNames.focusState),i&&t.hideDropdown(),o&&t.unhighlightAll())}})[this.passedElement.type]()}else this.isScrollingOnIe=!1,this.input.focus()}},{key:"_regexFilter",value:function(e){if(!e)return!1;var t=this.config.regexFilter;return new RegExp(t.source,"i").test(e)}},{key:"_scrollToChoice",value:function(e,t){var n=this;if(e){var r=this.choiceList.offsetHeight,i=e.offsetHeight,o=e.offsetTop+i,a=this.choiceList.scrollTop+r,s=t>0?this.choiceList.scrollTop+o-a:e.offsetTop;requestAnimationFrame(function(e){!function e(){var r=n.choiceList.scrollTop,i=!1,o=void 0,a=void 0;t>0?(a=(o=(s-r)/4)>1?o:1,n.choiceList.scrollTop=r+a,r<s&&(i=!0)):(a=(o=(r-s)/4)>1?o:1,n.choiceList.scrollTop=r-a,r>s&&(i=!0)),i&&requestAnimationFrame(function(t){e()})}()})}}},{key:"_highlightChoice",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=Array.from(this.dropdown.querySelectorAll("[data-choice-selectable]")),r=t;n&&n.length&&(Array.from(this.dropdown.querySelectorAll("."+this.config.classNames.highlightedState)).forEach(function(t){t.classList.remove(e.config.classNames.highlightedState),t.setAttribute("aria-selected","false")}),r?this.highlightPosition=n.indexOf(r):(r=n.length>this.highlightPosition?n[this.highlightPosition]:n[n.length-1])||(r=n[0]),r.classList.add(this.config.classNames.highlightedState),r.setAttribute("aria-selected","true"),this.containerOuter.setAttribute("aria-activedescendant",r.id))}},{key:"_addItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=(0,d.isType)("String",e)?e.trim():e,l=a,c=this.store.getItems(),h=t||s,f=parseInt(n,10)||-1,p=r>=0?this.store.getGroupById(r):null,m=c?c.length+1:1;return this.config.prependValue&&(s=this.config.prependValue+s.toString()),this.config.appendValue&&(s+=this.config.appendValue.toString()),this.store.dispatch((0,u.addItem)(s,h,m,f,r,i,o,l)),this.isSelectOneElement&&this.removeActiveItems(m),p&&p.value?(0,d.triggerEvent)(this.passedElement,"addItem",{id:m,value:s,label:h,groupValue:p.value,keyCode:l}):(0,d.triggerEvent)(this.passedElement,"addItem",{id:m,value:s,label:h,keyCode:l}),this}},{key:"_removeItem",value:function(e){if(!e||!(0,d.isType)("Object",e))return this;var t=e.id,n=e.value,r=e.label,i=e.choiceId,o=e.groupId,a=o>=0?this.store.getGroupById(o):null;return this.store.dispatch((0,u.removeItem)(t,i)),a&&a.value?(0,d.triggerEvent)(this.passedElement,"removeItem",{id:t,value:n,label:r,groupValue:a.value}):(0,d.triggerEvent)(this.passedElement,"removeItem",{id:t,value:n,label:r}),this}},{key:"_addChoice",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;if(void 0!==e&&null!==e){var l=this.store.getChoices(),c=t||e,d=l?l.length+1:1,h=this.baseId+"-"+this.idNames.itemChoice+"-"+d;this.store.dispatch((0,u.addChoice)(e,c,d,i,r,h,o,a,s)),n&&this._addItem(e,c,d,void 0,o,a,s)}}},{key:"_clearChoices",value:function(){this.store.dispatch((0,u.clearChoices)())}},{key:"_addGroup",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"value",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"label",o=(0,d.isType)("Object",e)?e.choices:Array.from(e.getElementsByTagName("OPTION")),a=t||Math.floor((new Date).valueOf()*Math.random()),s=!!e.disabled&&e.disabled;o?(this.store.dispatch((0,u.addGroup)(e.label,a,!0,s)),o.forEach(function(e){var t=e.disabled||e.parentNode&&e.parentNode.disabled;n._addChoice(e[r],(0,d.isType)("Object",e)?e[i]:e.innerHTML,e.selected,t,a,e.customProperties,e.placeholder)})):this.store.dispatch((0,u.addGroup)(e.label,e.id,!1,e.disabled))}},{key:"_getTemplate",value:function(e){if(!e)return null;for(var t=this.config.templates,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t[e].apply(t,r)}},{key:"_createTemplates",value:function(){var e=this,t=this.config.classNames,n={containerOuter:function(n){return(0,d.strToEl)('\n          <div\n            class="'+t.containerOuter+'"\n            '+(e.isSelectElement?e.config.searchEnabled?'role="combobox" aria-autocomplete="list"':'role="listbox"':"")+'\n            data-type="'+e.passedElement.type+'"\n            '+(e.isSelectOneElement?'tabindex="0"':"")+'\n            aria-haspopup="true"\n            aria-expanded="false"\n            dir="'+n+'"\n            >\n          </div>\n        ')},containerInner:function(){return(0,d.strToEl)('\n          <div class="'+t.containerInner+'"></div>\n        ')},itemList:function(){var n,r=(0,l.default)(t.list,(i(n={},t.listSingle,e.isSelectOneElement),i(n,t.listItems,!e.isSelectOneElement),n));return(0,d.strToEl)('\n          <div class="'+r+'"></div>\n        ')},placeholder:function(e){return(0,d.strToEl)('\n          <div class="'+t.placeholder+'">\n            '+e+"\n          </div>\n        ")},item:function(n){var r,o,a=(0,l.default)(t.item,(i(r={},t.highlightedState,n.highlighted),i(r,t.itemSelectable,!n.highlighted),i(r,t.placeholder,n.placeholder),r));return e.config.removeItemButton?(a=(0,l.default)(t.item,(i(o={},t.highlightedState,n.highlighted),i(o,t.itemSelectable,!n.disabled),i(o,t.placeholder,n.placeholder),o)),(0,d.strToEl)('\n            <div\n              class="'+a+'"\n              data-item\n              data-id="'+n.id+'"\n              data-value="'+n.value+'"\n              data-deletable\n              '+(n.active?'aria-selected="true"':"")+"\n              "+(n.disabled?'aria-disabled="true"':"")+"\n              >\n              "+n.label+'\x3c!--\n           --\x3e<button\n                type="button"\n                class="'+t.button+'"\n                data-button\n                aria-label="Remove item: \''+n.value+"'\"\n                >\n                Remove item\n              </button>\n            </div>\n          ")):(0,d.strToEl)('\n          <div\n            class="'+a+'"\n            data-item\n            data-id="'+n.id+'"\n            data-value="'+n.value+'"\n            '+(n.active?'aria-selected="true"':"")+"\n            "+(n.disabled?'aria-disabled="true"':"")+"\n            >\n            "+n.label+"\n          </div>\n        ")},choiceList:function(){return(0,d.strToEl)('\n          <div\n            class="'+t.list+'"\n            dir="ltr"\n            role="listbox"\n            '+(e.isSelectOneElement?"":'aria-multiselectable="true"')+"\n            >\n          </div>\n        ")},choiceGroup:function(e){var n=(0,l.default)(t.group,i({},t.itemDisabled,e.disabled));return(0,d.strToEl)('\n          <div\n            class="'+n+'"\n            data-group\n            data-id="'+e.id+'"\n            data-value="'+e.value+'"\n            role="group"\n            '+(e.disabled?'aria-disabled="true"':"")+'\n            >\n            <div class="'+t.groupHeading+'">'+e.value+"</div>\n          </div>\n        ")},choice:function(n){var r,o=(0,l.default)(t.item,t.itemChoice,(i(r={},t.itemDisabled,n.disabled),i(r,t.itemSelectable,!n.disabled),i(r,t.placeholder,n.placeholder),r));return(0,d.strToEl)('\n          <div\n            class="'+o+'"\n            data-select-text="'+e.config.itemSelectText+'"\n            data-choice\n            data-id="'+n.id+'"\n            data-value="'+n.value+'"\n            '+(n.disabled?'data-choice-disabled aria-disabled="true"':"data-choice-selectable")+'\n            id="'+n.elementId+'"\n            '+(n.groupId>0?'role="treeitem"':'role="option"')+"\n            >\n            "+n.label+"\n          </div>\n        ")},input:function(){var e=(0,l.default)(t.input,t.inputCloned);return(0,d.strToEl)('\n          <input\n            type="text"\n            class="'+e+'"\n            autocomplete="off"\n            autocapitalize="off"\n            spellcheck="false"\n            role="textbox"\n            aria-autocomplete="list"\n            >\n        ')},dropdown:function(){var e=(0,l.default)(t.list,t.listDropdown);return(0,d.strToEl)('\n          <div\n            class="'+e+'"\n            aria-expanded="false"\n            >\n          </div>\n        ')},notice:function(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=(0,l.default)(t.item,t.itemChoice,(i(n={},t.noResults,"no-results"===r),i(n,t.noChoices,"no-choices"===r),n));return(0,d.strToEl)('\n          <div class="'+o+'">\n            '+e+"\n          </div>\n        ")},option:function(e){return(0,d.strToEl)('\n          <option value="'+e.value+'" selected>'+e.label+"</option>\n        ")}},r=this.config.callbackOnCreateTemplates,o={};r&&(0,d.isType)("Function",r)&&(o=r.call(this,d.strToEl)),this.config.templates=(0,d.extend)(n,o)}},{key:"_setLoading",value:function(e){this.store.dispatch((0,u.setIsLoading)(e))}},{key:"_createInput",value:function(){var e=this,t=this.passedElement.getAttribute("dir")||"ltr",n=this._getTemplate("containerOuter",t),r=this._getTemplate("containerInner"),i=this._getTemplate("itemList"),o=this._getTemplate("choiceList"),a=this._getTemplate("input"),s=this._getTemplate("dropdown");this.containerOuter=n,this.containerInner=r,this.input=a,this.choiceList=o,this.itemList=i,this.dropdown=s,this.passedElement.classList.add(this.config.classNames.input,this.config.classNames.hiddenState),this.passedElement.tabIndex="-1";var l=this.passedElement.getAttribute("style");if(Boolean(l)&&this.passedElement.setAttribute("data-choice-orig-style",l),this.passedElement.setAttribute("style","display:none;"),this.passedElement.setAttribute("aria-hidden","true"),this.passedElement.setAttribute("data-choice","active"),(0,d.wrap)(this.passedElement,r),(0,d.wrap)(r,n),this.isSelectOneElement?a.placeholder=this.config.searchPlaceholderValue||"":this.placeholder&&(a.placeholder=this.placeholder,a.style.width=(0,d.getWidthOfInput)(a)),this.config.addItems||this.disable(),n.appendChild(r),n.appendChild(s),r.appendChild(i),this.isTextElement||s.appendChild(o),this.isSelectMultipleElement||this.isTextElement?r.appendChild(a):this.canSearch&&s.insertBefore(a,s.firstChild),this.isSelectElement){var c=Array.from(this.passedElement.getElementsByTagName("OPTGROUP"));if(this.highlightPosition=0,this.isSearching=!1,this._setLoading(!0),c&&c.length)c.forEach(function(t){e._addGroup(t,t.id||null)});else{var u=Array.from(this.passedElement.options),h=this.config.sortFilter,f=this.presetChoices;u.forEach(function(e){f.push({value:e.value,label:e.innerHTML,selected:e.selected,disabled:e.disabled||e.parentNode.disabled,placeholder:e.hasAttribute("placeholder")})}),this.config.shouldSort&&f.sort(h);var p=f.some(function(e){return e.selected});f.forEach(function(t,n){if(e.isSelectOneElement){var r=p||!p&&n>0;e._addChoice(t.value,t.label,!r||t.selected,!!r&&t.disabled,void 0,t.customProperties,t.placeholder)}else e._addChoice(t.value,t.label,t.selected,t.disabled,void 0,t.customProperties,t.placeholder)})}this._setLoading(!1)}else this.isTextElement&&this.presetItems.forEach(function(t){var n=(0,d.getType)(t);if("Object"===n){if(!t.value)return;e._addItem(t.value,t.label,t.id,void 0,t.customProperties,t.placeholder)}else"String"===n&&e._addItem(t)})}}]),e}();e.exports=h},function(e,t,n){!function(t){"use strict";function n(){console.log.apply(console,arguments)}function r(e,t){var n;for(n in this.list=e,this.options=t=t||{},a)a.hasOwnProperty(n)&&("boolean"==typeof a[n]?this.options[n]=n in t?t[n]:a[n]:this.options[n]=t[n]||a[n])}function i(e){return"[object Array]"===Object.prototype.toString.call(e)}function o(e,t){t=t||{},this.options=t,this.options.location=t.location||o.defaultOptions.location,this.options.distance="distance"in t?t.distance:o.defaultOptions.distance,this.options.threshold="threshold"in t?t.threshold:o.defaultOptions.threshold,this.options.maxPatternLength=t.maxPatternLength||o.defaultOptions.maxPatternLength,this.pattern=t.caseSensitive?e:e.toLowerCase(),this.patternLen=e.length,this.patternLen<=this.options.maxPatternLength&&(this.matchmask=1<<this.patternLen-1,this.patternAlphabet=this._calculatePatternAlphabet())}var a={id:null,caseSensitive:!1,include:[],shouldSort:!0,searchFn:o,sortFn:function(e,t){return e.score-t.score},getFn:function e(t,n,r){var o,a,s,l,c,u;if(n){if(-1!==(s=n.indexOf("."))?(o=n.slice(0,s),a=n.slice(s+1)):o=n,null!==(l=t[o])&&void 0!==l)if(a||"string"!=typeof l&&"number"!=typeof l)if(i(l))for(c=0,u=l.length;c<u;c++)e(l[c],a,r);else a&&e(l,a,r);else r.push(l)}else r.push(t);return r},keys:[],verbose:!1,tokenize:!1,matchAllTokens:!1,tokenSeparator:/ +/g,minMatchCharLength:1,findAllMatches:!1};r.VERSION="2.7.3",r.prototype.set=function(e){return this.list=e,e},r.prototype.search=function(e){return this.options.verbose&&n("\nSearch term:",e,"\n"),this.pattern=e,this.results=[],this.resultMap={},this._keyMap=null,this._prepareSearchers(),this._startSearch(),this._computeScore(),this._sort(),this._format()},r.prototype._prepareSearchers=function(){var e=this.options,t=this.pattern,n=e.searchFn,r=t.split(e.tokenSeparator),i=0,o=r.length;if(this.options.tokenize)for(this.tokenSearchers=[];i<o;i++)this.tokenSearchers.push(new n(r[i],e));this.fullSeacher=new n(t,e)},r.prototype._startSearch=function(){var e,t,n,r,i=this.options.getFn,o=this.list,a=o.length,s=this.options.keys,l=s.length,c=null;if("string"==typeof o[0])for(n=0;n<a;n++)this._analyze("",o[n],n,n);else for(this._keyMap={},n=0;n<a;n++)for(c=o[n],r=0;r<l;r++){if("string"!=typeof(e=s[r])){if(t=1-e.weight||1,this._keyMap[e.name]={weight:t},e.weight<=0||e.weight>1)throw new Error("Key weight has to be > 0 and <= 1");e=e.name}else this._keyMap[e]={weight:1};this._analyze(e,i(c,e,[]),c,n)}},r.prototype._analyze=function(e,t,r,o){var a,s,l,c,u,d,h,f,p,m,v,g,y,_,b,w=this.options,x=!1;if(void 0!==t&&null!==t){s=[];var S=0;if("string"==typeof t){if(a=t.split(w.tokenSeparator),w.verbose&&n("---------\nKey:",e),this.options.tokenize){for(_=0;_<this.tokenSearchers.length;_++){for(f=this.tokenSearchers[_],w.verbose&&n("Pattern:",f.pattern),p=[],g=!1,b=0;b<a.length;b++){m=a[b];var T={};(v=f.search(m)).isMatch?(T[m]=v.score,x=!0,g=!0,s.push(v.score)):(T[m]=1,this.options.matchAllTokens||s.push(1)),p.push(T)}g&&S++,w.verbose&&n("Token scores:",p)}for(c=s[0],d=s.length,_=1;_<d;_++)c+=s[_];c/=d,w.verbose&&n("Token score average:",c)}h=this.fullSeacher.search(t),w.verbose&&n("Full text score:",h.score),u=h.score,void 0!==c&&(u=(u+c)/2),w.verbose&&n("Score average:",u),y=!this.options.tokenize||!this.options.matchAllTokens||S>=this.tokenSearchers.length,w.verbose&&n("Check Matches",y),(x||h.isMatch)&&y&&((l=this.resultMap[o])?l.output.push({key:e,score:u,matchedIndices:h.matchedIndices}):(this.resultMap[o]={item:r,output:[{key:e,score:u,matchedIndices:h.matchedIndices}]},this.results.push(this.resultMap[o])))}else if(i(t))for(_=0;_<t.length;_++)this._analyze(e,t[_],r,o)}},r.prototype._computeScore=function(){var e,t,r,i,o,a,s,l,c=this._keyMap,u=this.results;for(this.options.verbose&&n("\n\nComputing score:\n"),e=0;e<u.length;e++){for(r=0,o=(i=u[e].output).length,s=1,t=0;t<o;t++)l=i[t].score*(a=c?c[i[t].key].weight:1),1!==a?s=Math.min(s,l):(r+=l,i[t].nScore=l);u[e].score=1===s?r/o:s,this.options.verbose&&n(u[e])}},r.prototype._sort=function(){var e=this.options;e.shouldSort&&(e.verbose&&n("\n\nSorting...."),this.results.sort(e.sortFn))},r.prototype._format=function(){var e,t,r,i,o=this.options,a=o.getFn,s=[],l=this.results,c=o.include;for(o.verbose&&n("\n\nOutput:\n\n",l),r=o.id?function(e){l[e].item=a(l[e].item,o.id,[])[0]}:function(){},i=function(e){var t,n,r,i,o,a=l[e];if(c.length>0){if(t={item:a.item},-1!==c.indexOf("matches"))for(r=a.output,t.matches=[],n=0;n<r.length;n++)o={indices:(i=r[n]).matchedIndices},i.key&&(o.key=i.key),t.matches.push(o);-1!==c.indexOf("score")&&(t.score=l[e].score)}else t=a.item;return t},e=0,t=l.length;e<t;e++)r(e),s.push(i(e));return s},o.defaultOptions={location:0,distance:100,threshold:.6,maxPatternLength:32},o.prototype._calculatePatternAlphabet=function(){var e={},t=0;for(t=0;t<this.patternLen;t++)e[this.pattern.charAt(t)]=0;for(t=0;t<this.patternLen;t++)e[this.pattern.charAt(t)]|=1<<this.pattern.length-t-1;return e},o.prototype._bitapScore=function(e,t){var n=e/this.patternLen,r=Math.abs(this.options.location-t);return this.options.distance?n+r/this.options.distance:r?1:n},o.prototype.search=function(e){var t,n,r,i,o,a,s,l,c,u,d,h,f,p,m,v,g,y,_,b,w,x,S,T=this.options;if(e=T.caseSensitive?e:e.toLowerCase(),this.pattern===e)return{isMatch:!0,score:0,matchedIndices:[[0,e.length-1]]};if(this.patternLen>T.maxPatternLength){if(_=!!(y=e.match(new RegExp(this.pattern.replace(T.tokenSeparator,"|")))))for(w=[],t=0,x=y.length;t<x;t++)S=y[t],w.push([e.indexOf(S),S.length-1]);return{isMatch:_,score:_?.5:1,matchedIndices:w}}for(i=T.findAllMatches,o=T.location,r=e.length,a=T.threshold,s=e.indexOf(this.pattern,o),b=[],t=0;t<r;t++)b[t]=0;for(-1!=s&&(a=Math.min(this._bitapScore(0,s),a),-1!=(s=e.lastIndexOf(this.pattern,o+this.patternLen))&&(a=Math.min(this._bitapScore(0,s),a))),s=-1,v=1,g=[],u=this.patternLen+r,t=0;t<this.patternLen;t++){for(l=0,c=u;l<c;)this._bitapScore(t,o+c)<=a?l=c:u=c,c=Math.floor((u-l)/2+l);for(u=c,d=Math.max(1,o-c+1),h=i?r:Math.min(o+c,r)+this.patternLen,(f=Array(h+2))[h+1]=(1<<t)-1,n=h;n>=d;n--)if((m=this.patternAlphabet[e.charAt(n-1)])&&(b[n-1]=1),f[n]=(f[n+1]<<1|1)&m,0!==t&&(f[n]|=(p[n+1]|p[n])<<1|1|p[n+1]),f[n]&this.matchmask&&(v=this._bitapScore(t,n-1))<=a){if(a=v,s=n-1,g.push(s),s<=o)break;d=Math.max(1,2*o-s)}if(this._bitapScore(t+1,o)>a)break;p=f}return w=this._getMatchedIndices(b),{isMatch:s>=0,score:0===v?.001:v,matchedIndices:w}},o.prototype._getMatchedIndices=function(e){for(var t,n=[],r=-1,i=-1,o=0,a=e.length;o<a;o++)(t=e[o])&&-1===r?r=o:t||-1===r||((i=o-1)-r+1>=this.options.minMatchCharLength&&n.push([r,i]),r=-1);return e[o-1]&&o-1-r+1>=this.options.minMatchCharLength&&n.push([r,o-1]),n},e.exports=r}()},function(e,t,n){var r;!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r))e.push(n.apply(null,r));else if("object"===o)for(var a in r)i.call(r,a)&&r[a]&&e.push(a)}}return e.join(" ")}var i={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=n:void 0!==(r=function(){return n}.apply(t,[]))&&(e.exports=r)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(5),o=function(e){return e&&e.__esModule?e:{default:e}}(n(26)),a=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.store=(0,i.createStore)(o.default,window.devToolsExtension?window.devToolsExtension():void 0)}return r(e,[{key:"getState",value:function(){return this.store.getState()}},{key:"dispatch",value:function(e){this.store.dispatch(e)}},{key:"subscribe",value:function(e){this.store.subscribe(e)}},{key:"isLoading",value:function(){return this.store.getState().general.loading}},{key:"getItems",value:function(){return this.store.getState().items}},{key:"getItemsFilteredByActive",value:function(){return this.getItems().filter(function(e){return!0===e.active},[])}},{key:"getItemsReducedToValues",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getItems()).reduce(function(e,t){return e.push(t.value),e},[])}},{key:"getChoices",value:function(){return this.store.getState().choices}},{key:"getChoicesFilteredByActive",value:function(){return this.getChoices().filter(function(e){return!0===e.active})}},{key:"getChoicesFilteredBySelectable",value:function(){return this.getChoices().filter(function(e){return!0!==e.disabled})}},{key:"getSearchableChoices",value:function(){return this.getChoicesFilteredBySelectable().filter(function(e){return!0!==e.placeholder})}},{key:"getChoiceById",value:function(e){return!!e&&this.getChoicesFilteredByActive().find(function(t){return t.id===parseInt(e,10)})}},{key:"getGroups",value:function(){return this.store.getState().groups}},{key:"getGroupsFilteredByActive",value:function(){var e=this.getGroups(),t=this.getChoices();return e.filter(function(e){var n=!0===e.active&&!1===e.disabled,r=t.some(function(e){return!0===e.active&&!1===e.disabled});return n&&r},[])}},{key:"getGroupById",value:function(e){return this.getGroups().find(function(t){return t.id===e})}},{key:"getPlaceholderChoice",value:function(){return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(this.getChoices())).reverse().find(function(e){return!0===e.placeholder})}}]),e}();t.default=a,e.exports=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=void 0;var i=r(n(6)),o=r(n(21)),a=r(n(23)),s=r(n(24)),l=r(n(25));r(n(22)),t.createStore=i.default,t.combineReducers=o.default,t.bindActionCreators=a.default,t.applyMiddleware=s.default,t.compose=l.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.ActionTypes=void 0,t.default=function e(t,n,r){function s(){m===p&&(m=p.slice())}function l(){return f}function c(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return s(),m.push(e),function(){if(t){t=!1,s();var n=m.indexOf(e);m.splice(n,1)}}}function u(e){if(!(0,i.default)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(v)throw new Error("Reducers may not dispatch actions.");try{v=!0,f=h(f,e)}finally{v=!1}for(var t=p=m,n=0;n<t.length;n++)(0,t[n])();return e}var d;if("function"==typeof n&&void 0===r&&(r=n,n=void 0),void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(e)(t,n)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var h=t,f=n,p=[],m=p,v=!1;return u({type:a.INIT}),(d={dispatch:u,subscribe:c,getState:l,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");h=e,u({type:a.INIT})}})[o.default]=function(){var e,t=c;return(e={subscribe:function(e){function n(){e.next&&e.next(l())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:t(n)}}})[o.default]=function(){return this},e},d};var i=r(n(7)),o=r(n(17)),a=t.ActionTypes={INIT:"@@redux/INIT"}},function(e,t,n){var r=n(8),i=n(14),o=n(16),a="[object Object]",s=Function.prototype,l=Object.prototype,c=s.toString,u=l.hasOwnProperty,d=c.call(Object);e.exports=function(e){if(!o(e)||r(e)!=a)return!1;var t=i(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==d}},function(e,t,n){var r=n(9),i=n(12),o=n(13),a="[object Null]",s="[object Undefined]",l=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:a:l&&l in Object(e)?i(e):o(e)}},function(e,t,n){var r=n(10).Symbol;e.exports=r},function(e,t,n){var r=n(11),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,function(){return this}())},function(e,t,n){var r=n(9),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(15)(Object.getPrototypeOf,Object);e.exports=r},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){e.exports=n(18)},function(e,t,n){(function(e,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=function(e){return e&&e.__esModule?e:{default:e}}(n(20));i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var a=(0,o.default)(i);t.default=a}).call(t,function(){return this}(),n(19)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function o(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:a.ActionTypes.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+a.ActionTypes.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}t.__esModule=!0,t.default=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var a=t[r];"function"==typeof e[a]&&(n[a]=e[a])}var s=Object.keys(n),l=void 0;try{o(n)}catch(e){l=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(l)throw l;for(var r=!1,o={},a=0;a<s.length;a++){var c=s[a],u=n[c],d=e[c],h=u(d,t);if(void 0===h){var f=i(c,t);throw new Error(f)}o[c]=h,r=r||h!==d}return r?o:e}};var a=n(6);r((r(n(7)),n(22)))},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}},function(e,t){"use strict";function n(e,t){return function(){return t(e.apply(void 0,arguments))}}t.__esModule=!0,t.default=function(e,t){if("function"==typeof e)return n(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(e),i={},o=0;o<r.length;o++){var a=r[o],s=e[a];"function"==typeof s&&(i[a]=n(s,t))}return i}},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,o,a){var s,l=e(n,o,a),c=l.dispatch,u={getState:l.getState,dispatch:function(e){return c(e)}};return s=t.map(function(e){return e(u)}),c=i.default.apply(void 0,s)(l.dispatch),r({},l,{dispatch:c})}}};var i=function(e){return e&&e.__esModule?e:{default:e}}(n(25))},function(e,t){"use strict";t.__esModule=!0,t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=r(n(27)),a=r(n(28)),s=r(n(29)),l=r(n(30)),c=(0,i.combineReducers)({items:o.default,groups:a.default,choices:s.default,general:l.default});t.default=function(e,t){var n=e;return"CLEAR_ALL"===t.type&&(n=void 0),c(n,t)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case"ADD_ITEM":return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e),[{id:t.id,choiceId:t.choiceId,groupId:t.groupId,value:t.value,label:t.label,active:!0,highlighted:!1,customProperties:t.customProperties,placeholder:t.placeholder||!1,keyCode:null}]).map(function(e){return e.highlighted&&(e.highlighted=!1),e});case"REMOVE_ITEM":return e.map(function(e){return e.id===t.id&&(e.active=!1),e});case"HIGHLIGHT_ITEM":return e.map(function(e){return e.id===t.id&&(e.highlighted=t.highlighted),e});default:return e}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case"ADD_GROUP":return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e),[{id:t.id,value:t.value,active:t.active,disabled:t.disabled}]);case"CLEAR_CHOICES":return e.groups=[];default:return e}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case"ADD_CHOICE":return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e),[{id:t.id,elementId:t.elementId,groupId:t.groupId,value:t.value,label:t.label||t.value,disabled:t.disabled||!1,selected:!1,active:!0,score:9999,customProperties:t.customProperties,placeholder:t.placeholder||!1,keyCode:null}]);case"ADD_ITEM":var n=e;return t.activateOptions&&(n=e.map(function(e){return e.active=t.active,e})),t.choiceId>-1&&(n=e.map(function(e){return e.id===parseInt(t.choiceId,10)&&(e.selected=!0),e})),n;case"REMOVE_ITEM":return t.choiceId>-1?e.map(function(e){return e.id===parseInt(t.choiceId,10)&&(e.selected=!1),e}):e;case"FILTER_CHOICES":var r=t.results;return e.map(function(e){return e.active=r.some(function(t){return t.item.id===e.id&&(e.score=t.score,!0)}),e});case"ACTIVATE_CHOICES":return e.map(function(e){return e.active=t.active,e});case"CLEAR_CHOICES":return e.choices=[];default:return e}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1},t=arguments[1];switch(t.type){case"LOADING":return{loading:t.isLoading};default:return e}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addItem=function(e,t,n,r,i,o,a,s){return{type:"ADD_ITEM",value:e,label:t,id:n,choiceId:r,groupId:i,customProperties:o,placeholder:a,keyCode:s}},t.removeItem=function(e,t){return{type:"REMOVE_ITEM",id:e,choiceId:t}},t.highlightItem=function(e,t){return{type:"HIGHLIGHT_ITEM",id:e,highlighted:t}},t.addChoice=function(e,t,n,r,i,o,a,s,l){return{type:"ADD_CHOICE",value:e,label:t,id:n,groupId:r,disabled:i,elementId:o,customProperties:a,placeholder:s,keyCode:l}},t.filterChoices=function(e){return{type:"FILTER_CHOICES",results:e}},t.activateChoices=function(){return{type:"ACTIVATE_CHOICES",active:!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}},t.clearChoices=function(){return{type:"CLEAR_CHOICES"}},t.addGroup=function(e,t,n,r){return{type:"ADD_GROUP",value:e,id:t,active:n,disabled:r}},t.clearAll=function(){return{type:"CLEAR_ALL"}},t.setIsLoading=function(e){return{type:"LOADING",isLoading:e}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=(t.capitalise=function(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})},t.generateChars=function(e){for(var t="",n=0;n<e;n++)t+=l(0,36).toString(36);return t}),i=(t.generateId=function(e,t){var n=e.id||e.name&&e.name+"-"+r(2)||r(4);return t+(n=n.replace(/(:|\.|\[|\]|,)/g,""))},t.getType=function(e){return Object.prototype.toString.call(e).slice(8,-1)}),o=t.isType=function(e,t){var n=i(t);return void 0!==t&&null!==t&&n===e},a=(t.isNode=function(e){return"object"===("undefined"==typeof Node?"undefined":n(Node))?e instanceof Node:e&&"object"===(void 0===e?"undefined":n(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},t.isElement=function(e){return"object"===("undefined"==typeof HTMLElement?"undefined":n(HTMLElement))?e instanceof HTMLElement:e&&"object"===(void 0===e?"undefined":n(e))&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},t.extend=function e(){for(var t={},n=arguments.length,r=0;r<n;r++){var i=arguments[r];o("Object",i)&&function(n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o("Object",n[r])?t[r]=e(!0,t[r],n[r]):t[r]=n[r])}(i)}return t},t.whichTransitionEvent=function(){var e,t=document.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(void 0!==t.style[e])return n[e]},t.whichAnimationEvent=function(){var e,t=document.createElement("fakeelement"),n={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(e in n)if(void 0!==t.style[e])return n[e]}),s=(t.getParentsUntil=function(e,t,n){for(var r=[];e&&e!==document;e=e.parentNode){if(t){var i=t.charAt(0);if("."===i&&e.classList.contains(t.substr(1)))break;if("#"===i&&e.id===t.substr(1))break;if("["===i&&e.hasAttribute(t.substr(1,t.length-1)))break;if(e.tagName.toLowerCase()===t)break}if(n){var o=n.charAt(0);"."===o&&e.classList.contains(n.substr(1))&&r.push(e),"#"===o&&e.id===n.substr(1)&&r.push(e),"["===o&&e.hasAttribute(n.substr(1,n.length-1))&&r.push(e),e.tagName.toLowerCase()===n&&r.push(e)}else r.push(e)}return 0===r.length?null:r},t.wrap=function(e,t){return t=t||document.createElement("div"),e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t.appendChild(e)},t.getSiblings=function(e){for(var t=[],n=e.parentNode.firstChild;n;n=n.nextSibling)1===n.nodeType&&n!==e&&t.push(n);return t},t.findAncestor=function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e},t.findAncestorByAttrName=function(e,t){for(var n=e;n;){if(n.hasAttribute(t))return n;n=n.parentElement}return null},t.debounce=function(e,t,n){var r;return function(){var i=this,o=arguments,a=n&&!r;clearTimeout(r),r=setTimeout(function(){r=null,n||e.apply(i,o)},t),a&&e.apply(i,o)}},t.getElemDistance=function(e){var t=0;if(e.offsetParent)do{t+=e.offsetTop,e=e.offsetParent}while(e);return t>=0?t:0},t.getElementOffset=function(e,t){var n=t;return n>1&&(n=1),n>0&&(n=0),Math.max(e.offsetHeight*n)},t.getAdjacentEl=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(e&&t){var r=e.parentNode.parentNode,i=Array.from(r.querySelectorAll(t));return i[i.indexOf(e)+(n>0?1:-1)]}},t.getScrollPosition=function(e){return"bottom"===e?Math.max((window.scrollY||window.pageYOffset)+(window.innerHeight||document.documentElement.clientHeight)):window.scrollY||window.pageYOffset},t.isInView=function(e,t,n){return this.getScrollPosition(t)>this.getElemDistance(e)+this.getElementOffset(e,n)},t.isScrolledIntoView=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(e)return n>0?t.scrollTop+t.offsetHeight>=e.offsetTop+e.offsetHeight:e.offsetTop>=t.scrollTop},t.stripHTML=function(e){return e.replace(/&/g,"&amp;").replace(/>/g,"&rt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}),l=(t.addAnimation=function(e,t){var n=a();e.classList.add(t),e.addEventListener(n,function r(){e.classList.remove(t),e.removeEventListener(n,r,!1)},!1)},t.getRandomNumber=function(e,t){return Math.floor(Math.random()*(t-e)+e)}),c=t.strToEl=function(){var e=document.createElement("div");return function(t){var n,r=t.trim();for(e.innerHTML=r,n=e.children[0];e.firstChild;)e.removeChild(e.firstChild);return n}}();t.getWidthOfInput=function(e){var t=e.value||e.placeholder,n=e.offsetWidth;if(t){var r=c("<span>"+s(t)+"</span>");if(r.style.position="absolute",r.style.padding="0",r.style.top="-9999px",r.style.left="-9999px",r.style.width="auto",r.style.whiteSpace="pre",document.body.contains(e)&&window.getComputedStyle){var i=window.getComputedStyle(e);i&&(r.style.fontSize=i.fontSize,r.style.fontFamily=i.fontFamily,r.style.fontWeight=i.fontWeight,r.style.fontStyle=i.fontStyle,r.style.letterSpacing=i.letterSpacing,r.style.textTransform=i.textTransform,r.style.padding=i.padding)}document.body.appendChild(r),t&&r.offsetWidth!==e.offsetWidth&&(n=r.offsetWidth+4),document.body.removeChild(r)}return n+"px"},t.sortByAlpha=function(e,t){var n=(e.label||e.value).toLowerCase(),r=(t.label||t.value).toLowerCase();return n<r?-1:n>r?1:0},t.sortByScore=function(e,t){return e.score-t.score},t.triggerEvent=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0});return e.dispatchEvent(r)}},function(e,t){"use strict";!function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}Array.from||(Array.from=function(){var e=Object.prototype.toString,t=function(t){return"function"==typeof t||"[object Function]"===e.call(t)},n=Math.pow(2,53)-1,r=function(e){var t=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(t,0),n)};return function(e){var n=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var i,o=arguments.length>1?arguments[1]:void 0;if(void 0!==o){if(!t(o))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(i=arguments[2])}for(var a,s=r(n.length),l=t(this)?Object(new this(s)):new Array(s),c=0;c<s;)a=n[c],l[c]=o?void 0===i?o(a,c):o.call(i,a,c):a,c+=1;return l.length=s,l}}()),Array.prototype.find||(Array.prototype.find=function(e){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),r=n.length>>>0,i=arguments[1],o=0;o<r;o++)if(t=n[o],e.call(i,t,o,n))return t}),e.prototype=window.Event.prototype,window.CustomEvent=e}()}])})},{}],3:[function(e,t,n){function r(){var e=this;document.addEventListener("keydown",function(t){e.focusByKeyboard=!0},!0),document.addEventListener("mousedown",function(t){e.focusByKeyboard=!1},!0),document.addEventListener("focus",function(t){e.updateVisibility()},!0),document.addEventListener("focusout",function(t){window.setTimeout(function(){document.hasFocus()||(e.focusByKeyboard=!0,e.updateVisibility())},0)}),this.updateVisibility()}var i="focus-outline-hidden";r.prototype={focusByKeyboard:!0,updateVisibility:function(){this.hidden=!this.focusByKeyboard},set hidden(e){document.documentElement.classList.toggle(i,e)},get hidden(){return document.documentElement.classList.contains(i)}},new r},{}],4:[function(e,t,n){(function(e){function n(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n,!1)}function r(t,r,i){function s(n,r){if(!n)return!1;if(!a(e.document.documentElement,n)||!a(e.document.documentElement,t))return!1;if(!n.offsetWidth||!n.offsetHeight)return!1;var i=n.getBoundingClientRect(),o={};if(t===e.document.body)o={top:-r,left:-r,right:e.document.documentElement.clientWidth+r,bottom:e.document.documentElement.clientHeight+r};else{var s=t.getBoundingClientRect();o={top:s.top-r,left:s.left-r,right:s.right+r,bottom:s.bottom+r}}return i.right>=o.left&&i.left<=o.right&&i.bottom>=o.top&&i.top<=o.bottom}var l=function(){function e(e){for(var t=n.length-1;t>=0;t--)if(n[t][0]===e)return t;return-1}function t(t){return-1!==e(t)}var n=[];return{add:function(e,r,i){t(e)||n.push([e,r,i])},remove:function(t){var r=e(t);-1!==r&&n.splice(r,1)},isWatched:t,checkAll:function(e){return function(){for(var t=n.length-1;t>=0;t--)e.apply(this,n[t])}}}}(),c=t===e.document.body?e:t,u=function(e,t,n){var r;return function(){var i=this,o=arguments,a=n&&!r;clearTimeout(r),r=setTimeout(function(){r=null,n||e.apply(i,o)},t),a&&e.apply(i,o)}}(l.checkAll(function(e,t,n){s(e,t)&&(l.remove(e),n(e))}),r);return n(c,"scroll",u),c===e&&n(e,"resize",u),o&&function(e,t,n){function r(t){var n=a.call([],Array.prototype.slice.call(t.addedNodes),t.target);return o.call(n,e.isWatched).length>0}var i=new MutationObserver(function(e){!0===e.some(r)&&setTimeout(n,0)}),o=Array.prototype.filter,a=Array.prototype.concat;i.observe(t,{childList:!0,subtree:!0,attributes:!0})}(l,t,u),i>0&&setInterval(u,i),{container:t,isInViewport:function(e,t,n){if(!n)return s(e,t);var r=function(e,t,n){return{watch:function(){l.add(e,t,n)},dispose:function(){l.remove(e)}}}(e,t,n);return r.watch(),r},_debounce:r,_failsafe:i}}t.exports=function(t,n,o){var a={container:e.document.body,offset:0,debounce:15,failsafe:150};void 0!==n&&"function"!=typeof n||(o=n,n={});var s=a.container=n.container||a.container,l=a.offset=n.offset||a.offset,c=a.debounce=n.debounce||a.debounce,u=a.failsafe=n.failsafe||a.failsafe;!0===u?u=150:!1===u&&(u=0),u>0&&u<c&&(u=c+50);for(var d=0;d<i.length;d++)if(i[d].container===s&&i[d]._debounce===c&&i[d]._failsafe===u)return i[d].isInViewport(t,l,o);return i[i.push(r(s,c,u))-1].isInViewport(t,l,o)};var i=[],o="function"==typeof e.MutationObserver,a=function(){return!e.document||(e.document.documentElement.compareDocumentPosition?function(e,t){return!!(16&e.compareDocumentPosition(t))}:e.document.documentElement.contains?function(e,t){return e!==t&&!!e.contains&&e.contains(t)}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(e,t,n){var r=e("./_root").Symbol;t.exports=r},{"./_root":10}],6:[function(e,t,n){var r=e("./_Symbol"),i=e("./_getRawTag"),o=e("./_objectToString"),a="[object Null]",s="[object Undefined]",l=r?r.toStringTag:void 0;t.exports=function(e){return null==e?void 0===e?s:a:l&&l in Object(e)?i(e):o(e)}},{"./_Symbol":5,"./_getRawTag":8,"./_objectToString":9}],7:[function(e,t,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(e,t,n){var r=e("./_Symbol"),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},{"./_Symbol":5}],9:[function(e,t,n){var r=Object.prototype.toString;t.exports=function(e){return r.call(e)}},{}],10:[function(e,t,n){var r=e("./_freeGlobal"),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},{"./_freeGlobal":7}],11:[function(e,t,n){var r=e("./isObject"),i=e("./now"),o=e("./toNumber"),a="Expected a function",s=Math.max,l=Math.min;t.exports=function(e,t,n){function c(t){var n=p,r=m;return p=m=void 0,b=t,g=e.apply(r,n)}function u(e){var n=e-_;return void 0===_||n>=t||n<0||x&&e-b>=v}function d(){var e=i();if(u(e))return h(e);y=setTimeout(d,function(e){var n=t-(e-_);return x?l(n,v-(e-b)):n}(e))}function h(e){return y=void 0,S&&p?c(e):(p=m=void 0,g)}function f(){var e=i(),n=u(e);if(p=arguments,m=this,_=e,n){if(void 0===y)return function(e){return b=e,y=setTimeout(d,t),w?c(e):g}(_);if(x)return y=setTimeout(d,t),c(_)}return void 0===y&&(y=setTimeout(d,t)),g}var p,m,v,g,y,_,b=0,w=!1,x=!1,S=!0;if("function"!=typeof e)throw new TypeError(a);return t=o(t)||0,r(n)&&(w=!!n.leading,v=(x="maxWait"in n)?s(o(n.maxWait)||0,t):v,S="trailing"in n?!!n.trailing:S),f.cancel=function(){void 0!==y&&clearTimeout(y),b=0,p=_=m=y=void 0},f.flush=function(){return void 0===y?g:h(i())},f}},{"./isObject":12,"./now":16,"./toNumber":17}],12:[function(e,t,n){t.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},{}],13:[function(e,t,n){t.exports=function(e){return null!=e&&"object"==typeof e}},{}],14:[function(e,t,n){var r=e("./_baseGetTag"),i=e("./isObjectLike"),o="[object Symbol]";t.exports=function(e){return"symbol"==typeof e||i(e)&&r(e)==o}},{"./_baseGetTag":6,"./isObjectLike":13}],15:[function(e,t,n){(function(e){(function(){function r(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function i(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function o(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function a(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function s(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function l(e,t){return!(null==e||!e.length)&&y(e,t,0)>-1}function c(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function u(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function d(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function h(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function f(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function p(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function m(e){return e.match(xt)||[]}function v(e,t,n){var r;return n(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function g(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function y(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):g(e,b,n)}function _(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function b(e){return e!=e}function w(e,t){var n=null==e?0:e.length;return n?E(e,t)/n:ye}function x(e){return function(t){return null==t?W:t[e]}}function S(e){return function(t){return null==e?W:e[t]}}function T(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function E(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);o!==W&&(n=n===W?o:n+o)}return n}function A(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function M(e){return function(t){return e(t)}}function L(e,t){return u(t,function(t){return e[t]})}function C(e,t){return e.has(t)}function k(e,t){for(var n=-1,r=e.length;++n<r&&y(t,e[n],0)>-1;);return n}function D(e,t){for(var n=e.length;n--&&y(t,e[n],0)>-1;);return n}function I(e){return"\\"+on[e]}function O(e){return Jt.test(e)}function P(e){return Qt.test(e)}function N(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function R(e,t){return function(n){return e(t(n))}}function q(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==V||(e[n]=V,o[i++]=n)}return o}function z(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function F(e){return O(e)?function(e){for(var t=Zt.lastIndex=0;Zt.test(e);)++t;return t}(e):xn(e)}function j(e){return O(e)?function(e){return e.match(Zt)||[]}(e):function(e){return e.split("")}(e)}function B(e){return e.match($t)||[]}var W,U=200,H="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",Y="Expected a function",G="__lodash_hash_undefined__",V="__lodash_placeholder__",X=1,K=2,Z=4,$=1,J=2,Q=1,ee=2,te=4,ne=8,re=16,ie=32,oe=64,ae=128,se=256,le=512,ce=30,ue="...",de=800,he=16,fe=1,pe=2,me=1/0,ve=9007199254740991,ge=1.7976931348623157e308,ye=NaN,_e=4294967295,be=_e-1,we=_e>>>1,xe=[["ary",ae],["bind",Q],["bindKey",ee],["curry",ne],["curryRight",re],["flip",le],["partial",ie],["partialRight",oe],["rearg",se]],Se="[object Arguments]",Te="[object Array]",Ee="[object AsyncFunction]",Ae="[object Boolean]",Me="[object Date]",Le="[object DOMException]",Ce="[object Error]",ke="[object Function]",De="[object GeneratorFunction]",Ie="[object Map]",Oe="[object Number]",Pe="[object Null]",Ne="[object Object]",Re="[object Proxy]",qe="[object RegExp]",ze="[object Set]",Fe="[object String]",je="[object Symbol]",Be="[object Undefined]",We="[object WeakMap]",Ue="[object WeakSet]",He="[object ArrayBuffer]",Ye="[object DataView]",Ge="[object Float32Array]",Ve="[object Float64Array]",Xe="[object Int8Array]",Ke="[object Int16Array]",Ze="[object Int32Array]",$e="[object Uint8Array]",Je="[object Uint8ClampedArray]",Qe="[object Uint16Array]",et="[object Uint32Array]",tt=/\b__p \+= '';/g,nt=/\b(__p \+=) '' \+/g,rt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,it=/&(?:amp|lt|gt|quot|#39);/g,ot=/[&<>"']/g,at=RegExp(it.source),st=RegExp(ot.source),lt=/<%-([\s\S]+?)%>/g,ct=/<%([\s\S]+?)%>/g,ut=/<%=([\s\S]+?)%>/g,dt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ht=/^\w*$/,ft=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pt=/[\\^$.*+?()[\]{}|]/g,mt=RegExp(pt.source),vt=/^\s+|\s+$/g,gt=/^\s+/,yt=/\s+$/,_t=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,bt=/\{\n\/\* \[wrapped with (.+)\] \*/,wt=/,? & /,xt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,St=/\\(\\)?/g,Tt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Et=/\w*$/,At=/^[-+]0x[0-9a-f]+$/i,Mt=/^0b[01]+$/i,Lt=/^\[object .+?Constructor\]$/,Ct=/^0o[0-7]+$/i,kt=/^(?:0|[1-9]\d*)$/,Dt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,It=/($^)/,Ot=/['\n\r\u2028\u2029\\]/g,Pt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Nt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Rt="["+Nt+"]",qt="["+Pt+"]",zt="[a-z\\xdf-\\xf6\\xf8-\\xff]",Ft="\\ud83c[\\udffb-\\udfff]",jt="(?:\\ud83c[\\udde6-\\uddff]){2}",Bt="[\\ud800-\\udbff][\\udc00-\\udfff]",Wt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Ut="(?:"+zt+"|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])",Ht="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",Yt="[\\ufe0e\\ufe0f]?"+Ht+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",jt,Bt].join("|")+")[\\ufe0e\\ufe0f]?"+Ht+")*"),Gt="(?:"+["[\\u2700-\\u27bf]",jt,Bt].join("|")+")"+Yt,Vt="(?:"+["[^\\ud800-\\udfff]"+qt+"?",qt,jt,Bt,"[\\ud800-\\udfff]"].join("|")+")",Xt=RegExp("['’]","g"),Kt=RegExp(qt,"g"),Zt=RegExp(Ft+"(?="+Ft+")|"+Vt+Yt,"g"),$t=RegExp([Wt+"?"+zt+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[Rt,Wt,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[Rt,Wt+Ut,"$"].join("|")+")",Wt+"?"+Ut+"+(?:['’](?:d|ll|m|re|s|t|ve))?",Wt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",Gt].join("|"),"g"),Jt=RegExp("[\\u200d\\ud800-\\udfff"+Pt+"\\ufe0e\\ufe0f]"),Qt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,en=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],tn=-1,nn={};nn[Ge]=nn[Ve]=nn[Xe]=nn[Ke]=nn[Ze]=nn[$e]=nn[Je]=nn[Qe]=nn[et]=!0,nn[Se]=nn[Te]=nn[He]=nn[Ae]=nn[Ye]=nn[Me]=nn[Ce]=nn[ke]=nn[Ie]=nn[Oe]=nn[Ne]=nn[qe]=nn[ze]=nn[Fe]=nn[We]=!1;var rn={};rn[Se]=rn[Te]=rn[He]=rn[Ye]=rn[Ae]=rn[Me]=rn[Ge]=rn[Ve]=rn[Xe]=rn[Ke]=rn[Ze]=rn[Ie]=rn[Oe]=rn[Ne]=rn[qe]=rn[ze]=rn[Fe]=rn[je]=rn[$e]=rn[Je]=rn[Qe]=rn[et]=!0,rn[Ce]=rn[ke]=rn[We]=!1;var on={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},an=parseFloat,sn=parseInt,ln="object"==typeof e&&e&&e.Object===Object&&e,cn="object"==typeof self&&self&&self.Object===Object&&self,un=ln||cn||Function("return this")(),dn="object"==typeof n&&n&&!n.nodeType&&n,hn=dn&&"object"==typeof t&&t&&!t.nodeType&&t,fn=hn&&hn.exports===dn,pn=fn&&ln.process,mn=function(){try{return hn&&hn.require&&hn.require("util").types||pn&&pn.binding&&pn.binding("util")}catch(e){}}(),vn=mn&&mn.isArrayBuffer,gn=mn&&mn.isDate,yn=mn&&mn.isMap,_n=mn&&mn.isRegExp,bn=mn&&mn.isSet,wn=mn&&mn.isTypedArray,xn=x("length"),Sn=S({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Tn=S({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),En=S({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),An=function e(t){function n(e){if(no(e)&&!Gs(e)&&!(e instanceof Pt)){if(e instanceof xt)return e;if(Go.call(e,"__wrapped__"))return Li(e)}return new xt(e)}function S(){}function xt(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=W}function Pt(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=_e,this.__views__=[]}function Nt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Rt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function zt(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new qt;++t<n;)this.add(e[t])}function Ft(e){var t=this.__data__=new Rt(e);this.size=t.size}function jt(e,t){var n=Gs(e),r=!n&&Ys(e),i=!n&&!r&&Xs(e),o=!n&&!r&&!i&&Qs(e),a=n||r||i||o,s=a?A(e.length,Fo):[],l=s.length;for(var c in e)!t&&!Go.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||fi(c,l))||s.push(c);return s}function Bt(e){var t=e.length;return t?e[Qn(0,t-1)]:W}function Wt(e,t,n){(n===W||Xi(e[t],n))&&(n!==W||t in e)||Vt(e,t,n)}function Ut(e,t,n){var r=e[t];Go.call(e,t)&&Xi(r,n)&&(n!==W||t in e)||Vt(e,t,n)}function Ht(e,t){for(var n=e.length;n--;)if(Xi(e[n][0],t))return n;return-1}function Yt(e,t,n,r){return Ha(e,function(e,i,o){t(r,e,n(e),o)}),r}function Gt(e,t){return e&&Lr(t,go(t),e)}function Vt(e,t,n){"__proto__"==t&&ua?ua(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Zt(e,t){for(var n=-1,r=t.length,i=Io(r),o=null==e;++n<r;)i[n]=o?W:mo(e,t[n]);return i}function $t(e,t,n){return e==e&&(n!==W&&(e=e<=n?e:n),t!==W&&(e=e>=t?e:t)),e}function Jt(e,t,n,r,i,a){var s,l=t&X,c=t&K,u=t&Z;if(n&&(s=i?n(e,r,i,a):n(e)),s!==W)return s;if(!to(e))return e;var d=Gs(e);if(d){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Go.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!l)return Mr(e,s)}else{var h=ns(e),f=h==ke||h==De;if(Xs(e))return wr(e,l);if(h==Ne||h==Se||f&&!i){if(s=c||f?{}:di(e),!l)return c?function(e,t){return Lr(e,ts(e),t)}(e,function(e,t){return e&&Lr(t,yo(t),e)}(s,e)):function(e,t){return Lr(e,es(e),t)}(e,Gt(s,e))}else{if(!rn[h])return i?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case He:return xr(e);case Ae:case Me:return new r(+e);case Ye:return function(e,t){var n=t?xr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case Ge:case Ve:case Xe:case Ke:case Ze:case $e:case Je:case Qe:case et:return Sr(e,n);case Ie:return new r;case Oe:case Fe:return new r(e);case qe:return function(e){var t=new e.constructor(e.source,Et.exec(e));return t.lastIndex=e.lastIndex,t}(e);case ze:return new r;case je:return function(e){return Ba?qo(Ba.call(e)):{}}(e)}}(e,h,l)}}a||(a=new Ft);var p=a.get(e);if(p)return p;if(a.set(e,s),Js(e))return e.forEach(function(r){s.add(Jt(r,t,n,r,e,a))}),s;if(Zs(e))return e.forEach(function(r,i){s.set(i,Jt(r,t,n,i,e,a))}),s;var m=d?W:(u?c?ri:ni:c?yo:go)(e);return o(m||e,function(r,i){m&&(r=e[i=r]),Ut(s,i,Jt(r,t,n,i,e,a))}),s}function Qt(e,t,n){var r=n.length;if(null==e)return!r;for(e=qo(e);r--;){var i=n[r],o=t[i],a=e[i];if(a===W&&!(i in e)||!o(a))return!1}return!0}function on(e,t,n){if("function"!=typeof e)throw new jo(Y);return os(function(){e.apply(W,n)},t)}function ln(e,t,n,r){var i=-1,o=l,a=!0,s=e.length,d=[],h=t.length;if(!s)return d;n&&(t=u(t,M(n))),r?(o=c,a=!1):t.length>=U&&(o=C,a=!1,t=new zt(t));e:for(;++i<s;){var f=e[i],p=null==n?f:n(f);if(f=r||0!==f?f:0,a&&p==p){for(var m=h;m--;)if(t[m]===p)continue e;d.push(f)}else o(t,p,r)||d.push(f)}return d}function cn(e,t){var n=!0;return Ha(e,function(e,r,i){return n=!!t(e,r,i)}),n}function dn(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(s===W?a==a&&!ao(a):n(a,s)))var s=a,l=o}return l}function hn(e,t){var n=[];return Ha(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function pn(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=hi),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?pn(s,t-1,n,r,i):d(i,s):r||(i[i.length]=s)}return i}function mn(e,t){return e&&Ga(e,t,go)}function xn(e,t){return e&&Va(e,t,go)}function Mn(e,t){return s(t,function(t){return Ji(e[t])})}function Ln(e,t){for(var n=0,r=(t=_r(t,e)).length;null!=e&&n<r;)e=e[Ai(t[n++])];return n&&n==r?e:W}function Cn(e,t,n){var r=t(e);return Gs(e)?r:d(r,n(e))}function kn(e){return null==e?e===W?Be:Pe:ca&&ca in qo(e)?function(e){var t=Go.call(e,ca),n=e[ca];try{e[ca]=W;var r=!0}catch(e){}var i=Ko.call(e);return r&&(t?e[ca]=n:delete e[ca]),i}(e):function(e){return Ko.call(e)}(e)}function Dn(e,t){return e>t}function In(e,t){return null!=e&&Go.call(e,t)}function On(e,t){return null!=e&&t in qo(e)}function Pn(e,t,n){for(var r=n?c:l,i=e[0].length,o=e.length,a=o,s=Io(o),d=1/0,h=[];a--;){var f=e[a];a&&t&&(f=u(f,M(t))),d=xa(f.length,d),s[a]=!n&&(t||i>=120&&f.length>=120)?new zt(a&&f):W}f=e[0];var p=-1,m=s[0];e:for(;++p<i&&h.length<d;){var v=f[p],g=t?t(v):v;if(v=n||0!==v?v:0,!(m?C(m,g):r(h,g,n))){for(a=o;--a;){var y=s[a];if(!(y?C(y,g):r(e[a],g,n)))continue e}m&&m.push(g),h.push(v)}}return h}function Nn(e,t,n){var i=null==(e=wi(e,t=_r(t,e)))?e:e[Ai(Oi(t))];return null==i?W:r(i,e,n)}function Rn(e){return no(e)&&kn(e)==Se}function qn(e,t,n,r,i){return e===t||(null==e||null==t||!no(e)&&!no(t)?e!=e&&t!=t:function(e,t,n,r,i,o){var a=Gs(e),s=Gs(t),l=a?Te:ns(e),c=s?Te:ns(t),u=(l=l==Se?Ne:l)==Ne,d=(c=c==Se?Ne:c)==Ne,h=l==c;if(h&&Xs(e)){if(!Xs(t))return!1;a=!0,u=!1}if(h&&!u)return o||(o=new Ft),a||Qs(e)?ei(e,t,n,r,i,o):function(e,t,n,r,i,o,a){switch(n){case Ye:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case He:return!(e.byteLength!=t.byteLength||!o(new ta(e),new ta(t)));case Ae:case Me:case Oe:return Xi(+e,+t);case Ce:return e.name==t.name&&e.message==t.message;case qe:case Fe:return e==t+"";case Ie:var s=N;case ze:var l=r&$;if(s||(s=z),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;r|=J,a.set(e,t);var u=ei(s(e),s(t),r,i,o,a);return a.delete(e),u;case je:if(Ba)return Ba.call(e)==Ba.call(t)}return!1}(e,t,l,n,r,i,o);if(!(n&$)){var f=u&&Go.call(e,"__wrapped__"),p=d&&Go.call(t,"__wrapped__");if(f||p){var m=f?e.value():e,v=p?t.value():t;return o||(o=new Ft),i(m,v,n,r,o)}}return!!h&&(o||(o=new Ft),function(e,t,n,r,i,o){var a=n&$,s=ni(e),l=s.length;if(l!=ni(t).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in t:Go.call(t,u)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var h=!0;o.set(e,t),o.set(t,e);for(var f=a;++c<l;){u=s[c];var p=e[u],m=t[u];if(r)var v=a?r(m,p,u,t,e,o):r(p,m,u,e,t,o);if(!(v===W?p===m||i(p,m,n,r,o):v)){h=!1;break}f||(f="constructor"==u)}if(h&&!f){var g=e.constructor,y=t.constructor;g!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y)&&(h=!1)}return o.delete(e),o.delete(t),h}(e,t,n,r,i,o))}(e,t,n,r,qn,i))}function zn(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=qo(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var l=(s=n[i])[0],c=e[l],u=s[1];if(a&&s[2]){if(c===W&&!(l in e))return!1}else{var d=new Ft;if(r)var h=r(c,u,l,e,t,d);if(!(h===W?qn(u,c,$|J,r,d):h))return!1}}return!0}function Fn(e){return!(!to(e)||function(e){return!!Xo&&Xo in e}(e))&&(Ji(e)?Jo:Lt).test(Mi(e))}function jn(e){return"function"==typeof e?e:null==e?Eo:"object"==typeof e?Gs(e)?Gn(e[0],e[1]):Yn(e):Co(e)}function Bn(e){if(!gi(e))return ba(e);var t=[];for(var n in qo(e))Go.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Wn(e){if(!to(e))return function(e){var t=[];if(null!=e)for(var n in qo(e))t.push(n);return t}(e);var t=gi(e),n=[];for(var r in e)("constructor"!=r||!t&&Go.call(e,r))&&n.push(r);return n}function Un(e,t){return e<t}function Hn(e,t){var n=-1,r=Ki(e)?Io(e.length):[];return Ha(e,function(e,i,o){r[++n]=t(e,i,o)}),r}function Yn(e){var t=li(e);return 1==t.length&&t[0][2]?_i(t[0][0],t[0][1]):function(n){return n===e||zn(n,e,t)}}function Gn(e,t){return mi(e)&&yi(t)?_i(Ai(e),t):function(n){var r=mo(n,e);return r===W&&r===t?vo(n,e):qn(t,r,$|J)}}function Vn(e,t,n,r,i){e!==t&&Ga(t,function(o,a){if(to(o))i||(i=new Ft),function(e,t,n,r,i,o,a){var s=xi(e,n),l=xi(t,n),c=a.get(l);if(c)return void Wt(e,n,c);var u=o?o(s,l,n+"",e,t,a):W,d=u===W;if(d){var h=Gs(l),f=!h&&Xs(l),p=!h&&!f&&Qs(l);u=l,h||f||p?Gs(s)?u=s:Zi(s)?u=Mr(s):f?(d=!1,u=wr(l,!0)):p?(d=!1,u=Sr(l,!0)):u=[]:io(l)||Ys(l)?(u=s,Ys(s)?u=fo(s):to(s)&&!Ji(s)||(u=di(l))):d=!1}d&&(a.set(l,u),i(u,l,r,o,a),a.delete(l)),Wt(e,n,u)}(e,t,a,n,Vn,r,i);else{var s=r?r(xi(e,a),o,a+"",e,t,i):W;s===W&&(s=o),Wt(e,a,s)}},yo)}function Xn(e,t){var n=e.length;if(n)return fi(t+=t<0?n:0,n)?e[t]:W}function Kn(e,t,n){var r=-1;return t=u(t.length?t:[Eo],M(ai())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Hn(e,function(e,n,i){return{criteria:u(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var l=Tr(i[r],o[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)})}function Zn(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=Ln(e,a);n(s,a)&&nr(o,_r(a,e),s)}return o}function $n(e,t,n,r){var i=r?_:y,o=-1,a=t.length,s=e;for(e===t&&(t=Mr(t)),n&&(s=u(e,M(n)));++o<a;)for(var l=0,c=t[o],d=n?n(c):c;(l=i(s,d,l,r))>-1;)s!==e&&aa.call(s,l,1),aa.call(e,l,1);return e}function Jn(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;fi(i)?aa.call(e,i,1):dr(e,i)}}return e}function Qn(e,t){return e+ma(Ea()*(t-e+1))}function er(e,t){var n="";if(!e||t<1||t>ve)return n;do{t%2&&(n+=e),(t=ma(t/2))&&(e+=e)}while(t);return n}function tr(e,t){return as(bi(e,t,Eo),e+"")}function nr(e,t,n,r){if(!to(e))return e;for(var i=-1,o=(t=_r(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var l=Ai(t[i]),c=n;if(i!=a){var u=s[l];(c=r?r(u,l,s):W)===W&&(c=to(u)?u:fi(t[i+1])?[]:{})}Ut(s,l,c),s=s[l]}return e}function rr(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Io(i);++r<i;)o[r]=e[r+t];return o}function ir(e,t){var n;return Ha(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}function or(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=we){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!ao(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return ar(e,t,Eo,n)}function ar(e,t,n,r){t=n(t);for(var i=0,o=null==e?0:e.length,a=t!=t,s=null===t,l=ao(t),c=t===W;i<o;){var u=ma((i+o)/2),d=n(e[u]),h=d!==W,f=null===d,p=d==d,m=ao(d);if(a)var v=r||p;else v=c?p&&(r||h):s?p&&h&&(r||!f):l?p&&h&&!f&&(r||!m):!f&&!m&&(r?d<=t:d<t);v?i=u+1:o=u}return xa(o,be)}function sr(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Xi(s,l)){var l=s;o[i++]=0===a?0:a}}return o}function lr(e){return"number"==typeof e?e:ao(e)?ye:+e}function cr(e){if("string"==typeof e)return e;if(Gs(e))return u(e,cr)+"";if(ao(e))return Wa?Wa.call(e):"";var t=e+"";return"0"==t&&1/e==-me?"-0":t}function ur(e,t,n){var r=-1,i=l,o=e.length,a=!0,s=[],u=s;if(n)a=!1,i=c;else if(o>=U){var d=t?null:Ja(e);if(d)return z(d);a=!1,i=C,u=new zt}else u=t?[]:s;e:for(;++r<o;){var h=e[r],f=t?t(h):h;if(h=n||0!==h?h:0,a&&f==f){for(var p=u.length;p--;)if(u[p]===f)continue e;t&&u.push(f),s.push(h)}else i(u,f,n)||(u!==s&&u.push(f),s.push(h))}return s}function dr(e,t){return null==(e=wi(e,t=_r(t,e)))||delete e[Ai(Oi(t))]}function hr(e,t,n,r){return nr(e,t,n(Ln(e,t)),r)}function fr(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?rr(e,r?0:o,r?o+1:i):rr(e,r?o+1:0,r?i:o)}function pr(e,t){var n=e;return n instanceof Pt&&(n=n.value()),h(t,function(e,t){return t.func.apply(t.thisArg,d([e],t.args))},n)}function mr(e,t,n){var r=e.length;if(r<2)return r?ur(e[0]):[];for(var i=-1,o=Io(r);++i<r;)for(var a=e[i],s=-1;++s<r;)s!=i&&(o[i]=ln(o[i]||a,e[s],t,n));return ur(pn(o,1),t,n)}function vr(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var s=r<o?t[r]:W;n(a,e[r],s)}return a}function gr(e){return Zi(e)?e:[]}function yr(e){return"function"==typeof e?e:Eo}function _r(e,t){return Gs(e)?e:mi(e,t)?[e]:ss(po(e))}function br(e,t,n){var r=e.length;return n=n===W?r:n,!t&&n>=r?e:rr(e,t,n)}function wr(e,t){if(t)return e.slice();var n=e.length,r=na?na(n):new e.constructor(n);return e.copy(r),r}function xr(e){var t=new e.constructor(e.byteLength);return new ta(t).set(new ta(e)),t}function Sr(e,t){var n=t?xr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Tr(e,t){if(e!==t){var n=e!==W,r=null===e,i=e==e,o=ao(e),a=t!==W,s=null===t,l=t==t,c=ao(t);if(!s&&!c&&!o&&e>t||o&&a&&l&&!s&&!c||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&e<t||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}function Er(e,t,n,r){for(var i=-1,o=e.length,a=n.length,s=-1,l=t.length,c=wa(o-a,0),u=Io(l+c),d=!r;++s<l;)u[s]=t[s];for(;++i<a;)(d||i<o)&&(u[n[i]]=e[i]);for(;c--;)u[s++]=e[i++];return u}function Ar(e,t,n,r){for(var i=-1,o=e.length,a=-1,s=n.length,l=-1,c=t.length,u=wa(o-s,0),d=Io(u+c),h=!r;++i<u;)d[i]=e[i];for(var f=i;++l<c;)d[f+l]=t[l];for(;++a<s;)(h||i<o)&&(d[f+n[a]]=e[i++]);return d}function Mr(e,t){var n=-1,r=e.length;for(t||(t=Io(r));++n<r;)t[n]=e[n];return t}function Lr(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=r?r(n[s],e[s],s,n,e):W;l===W&&(l=e[s]),i?Vt(n,s,l):Ut(n,s,l)}return n}function Cr(e,t){return function(n,r){var o=Gs(n)?i:Yt,a=t?t():{};return o(n,e,ai(r,2),a)}}function kr(e){return tr(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:W,a=i>2?n[2]:W;for(o=e.length>3&&"function"==typeof o?(i--,o):W,a&&pi(n[0],n[1],a)&&(o=i<3?W:o,i=1),t=qo(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t})}function Dr(e,t){return function(n,r){if(null==n)return n;if(!Ki(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=qo(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Ir(e){return function(t,n,r){for(var i=-1,o=qo(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}function Or(e){return function(t){var n=O(t=po(t))?j(t):W,r=n?n[0]:t.charAt(0),i=n?br(n,1).join(""):t.slice(1);return r[e]()+i}}function Pr(e){return function(t){return h(So(xo(t).replace(Xt,"")),e,"")}}function Nr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Ua(e.prototype),r=e.apply(n,t);return to(r)?r:n}}function Rr(e,t,n){var i=Nr(e);return function o(){for(var a=arguments.length,s=Io(a),l=a,c=oi(o);l--;)s[l]=arguments[l];var u=a<3&&s[0]!==c&&s[a-1]!==c?[]:q(s,c);return(a-=u.length)<n?Vr(e,t,Fr,o.placeholder,W,s,u,W,W,n-a):r(this&&this!==un&&this instanceof o?i:e,this,s)}}function qr(e){return function(t,n,r){var i=qo(t);if(!Ki(t)){var o=ai(n,3);t=go(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:W}}function zr(e){return ti(function(t){var n=t.length,r=n,i=xt.prototype.thru;for(e&&t.reverse();r--;){var o=t[r];if("function"!=typeof o)throw new jo(Y);if(i&&!a&&"wrapper"==ii(o))var a=new xt([],!0)}for(r=a?r:n;++r<n;){var s=ii(o=t[r]),l="wrapper"==s?Qa(o):W;a=l&&vi(l[0])&&l[1]==(ae|ne|ie|se)&&!l[4].length&&1==l[9]?a[ii(l[0])].apply(a,l[3]):1==o.length&&vi(o)?a[s]():a.thru(o)}return function(){var e=arguments,r=e[0];if(a&&1==e.length&&Gs(r))return a.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}})}function Fr(e,t,n,r,i,o,a,s,l,c){var u=t&ae,d=t&Q,h=t&ee,f=t&(ne|re),p=t&le,m=h?W:Nr(e);return function v(){for(var g=arguments.length,y=Io(g),_=g;_--;)y[_]=arguments[_];if(f)var b=oi(v),w=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(y,b);if(r&&(y=Er(y,r,i,f)),o&&(y=Ar(y,o,a,f)),g-=w,f&&g<c){var x=q(y,b);return Vr(e,t,Fr,v.placeholder,n,y,x,s,l,c-g)}var S=d?n:this,T=h?S[e]:e;return g=y.length,s?y=function(e,t){for(var n=e.length,r=xa(t.length,n),i=Mr(e);r--;){var o=t[r];e[r]=fi(o,n)?i[o]:W}return e}(y,s):p&&g>1&&y.reverse(),u&&l<g&&(y.length=l),this&&this!==un&&this instanceof v&&(T=m||Nr(T)),T.apply(S,y)}}function jr(e,t){return function(n,r){return function(e,t,n,r){return mn(e,function(e,i,o){t(r,n(e),i,o)}),r}(n,e,t(r),{})}}function Br(e,t){return function(n,r){var i;if(n===W&&r===W)return t;if(n!==W&&(i=n),r!==W){if(i===W)return r;"string"==typeof n||"string"==typeof r?(n=cr(n),r=cr(r)):(n=lr(n),r=lr(r)),i=e(n,r)}return i}}function Wr(e){return ti(function(t){return t=u(t,M(ai())),tr(function(n){var i=this;return e(t,function(e){return r(e,i,n)})})})}function Ur(e,t){var n=(t=t===W?" ":cr(t)).length;if(n<2)return n?er(t,e):t;var r=er(t,pa(e/F(t)));return O(t)?br(j(r),0,e).join(""):r.slice(0,e)}function Hr(e,t,n,i){var o=t&Q,a=Nr(e);return function t(){for(var s=-1,l=arguments.length,c=-1,u=i.length,d=Io(u+l),h=this&&this!==un&&this instanceof t?a:e;++c<u;)d[c]=i[c];for(;l--;)d[c++]=arguments[++s];return r(h,o?n:this,d)}}function Yr(e){return function(t,n,r){return r&&"number"!=typeof r&&pi(t,n,r)&&(n=r=W),t=lo(t),n===W?(n=t,t=0):n=lo(n),function(e,t,n,r){for(var i=-1,o=wa(pa((t-e)/(n||1)),0),a=Io(o);o--;)a[r?o:++i]=e,e+=n;return a}(t,n,r=r===W?t<n?1:-1:lo(r),e)}}function Gr(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ho(t),n=ho(n)),e(t,n)}}function Vr(e,t,n,r,i,o,a,s,l,c){var u=t&ne;t|=u?ie:oe,(t&=~(u?oe:ie))&te||(t&=~(Q|ee));var d=[e,t,i,u?o:W,u?a:W,u?W:o,u?W:a,s,l,c],h=n.apply(W,d);return vi(e)&&is(h,d),h.placeholder=r,Si(h,e,t)}function Xr(e){var t=Ro[e];return function(e,n){if(e=ho(e),n=null==n?0:xa(co(n),292)){var r=(po(e)+"e").split("e");return+((r=(po(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}function Kr(e){return function(t){var n=ns(t);return n==Ie?N(t):n==ze?function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}(t):function(e,t){return u(t,function(t){return[t,e[t]]})}(t,e(t))}}function Zr(e,t,n,r,i,o,a,s){var l=t&ee;if(!l&&"function"!=typeof e)throw new jo(Y);var c=r?r.length:0;if(c||(t&=~(ie|oe),r=i=W),a=a===W?a:wa(co(a),0),s=s===W?s:co(s),c-=i?i.length:0,t&oe){var u=r,d=i;r=i=W}var h=l?W:Qa(e),f=[e,t,n,r,i,u,d,o,a,s];if(h&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<(Q|ee|ae),a=r==ae&&n==ne||r==ae&&n==se&&e[7].length<=t[8]||r==(ae|se)&&t[7].length<=t[8]&&n==ne;if(!o&&!a)return e;r&Q&&(e[2]=t[2],i|=n&Q?0:te);var s=t[3];if(s){var l=e[3];e[3]=l?Er(l,s,t[4]):s,e[4]=l?q(e[3],V):t[4]}(s=t[5])&&(l=e[5],e[5]=l?Ar(l,s,t[6]):s,e[6]=l?q(e[5],V):t[6]),(s=t[7])&&(e[7]=s),r&ae&&(e[8]=null==e[8]?t[8]:xa(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(f,h),e=f[0],t=f[1],n=f[2],r=f[3],i=f[4],!(s=f[9]=f[9]===W?l?0:e.length:wa(f[9]-c,0))&&t&(ne|re)&&(t&=~(ne|re)),t&&t!=Q)p=t==ne||t==re?Rr(e,t,s):t!=ie&&t!=(Q|ie)||i.length?Fr.apply(W,f):Hr(e,t,n,r);else var p=function(e,t,n){var r=t&Q,i=Nr(e);return function t(){return(this&&this!==un&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return Si((h?Xa:is)(p,f),e,t)}function $r(e,t,n,r){return e===W||Xi(e,Uo[n])&&!Go.call(r,n)?t:e}function Jr(e,t,n,r,i,o){return to(e)&&to(t)&&(o.set(t,e),Vn(e,t,W,Jr,o),o.delete(t)),e}function Qr(e){return io(e)?W:e}function ei(e,t,n,r,i,o){var a=n&$,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var u=-1,d=!0,h=n&J?new zt:W;for(o.set(e,t),o.set(t,e);++u<s;){var f=e[u],m=t[u];if(r)var v=a?r(m,f,u,t,e,o):r(f,m,u,e,t,o);if(v!==W){if(v)continue;d=!1;break}if(h){if(!p(t,function(e,t){if(!C(h,t)&&(f===e||i(f,e,n,r,o)))return h.push(t)})){d=!1;break}}else if(f!==m&&!i(f,m,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function ti(e){return as(bi(e,W,Di),e+"")}function ni(e){return Cn(e,go,es)}function ri(e){return Cn(e,yo,ts)}function ii(e){for(var t=e.name+"",n=Pa[t],r=Go.call(Pa,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function oi(e){return(Go.call(n,"placeholder")?n:e).placeholder}function ai(){var e=n.iteratee||Ao;return e=e===Ao?jn:e,arguments.length?e(arguments[0],arguments[1]):e}function si(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function li(e){for(var t=go(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,yi(i)]}return t}function ci(e,t){var n=function(e,t){return null==e?W:e[t]}(e,t);return Fn(n)?n:W}function ui(e,t,n){for(var r=-1,i=(t=_r(t,e)).length,o=!1;++r<i;){var a=Ai(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&eo(i)&&fi(a,i)&&(Gs(e)||Ys(e))}function di(e){return"function"!=typeof e.constructor||gi(e)?{}:Ua(ra(e))}function hi(e){return Gs(e)||Ys(e)||!!(sa&&e&&e[sa])}function fi(e,t){var n=typeof e;return!!(t=null==t?ve:t)&&("number"==n||"symbol"!=n&&kt.test(e))&&e>-1&&e%1==0&&e<t}function pi(e,t,n){if(!to(n))return!1;var r=typeof t;return!!("number"==r?Ki(n)&&fi(t,n.length):"string"==r&&t in n)&&Xi(n[t],e)}function mi(e,t){if(Gs(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ao(e))||ht.test(e)||!dt.test(e)||null!=t&&e in qo(t)}function vi(e){var t=ii(e),r=n[t];if("function"!=typeof r||!(t in Pt.prototype))return!1;if(e===r)return!0;var i=Qa(r);return!!i&&e===i[0]}function gi(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Uo)}function yi(e){return e==e&&!to(e)}function _i(e,t){return function(n){return null!=n&&n[e]===t&&(t!==W||e in qo(n))}}function bi(e,t,n){return t=wa(t===W?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=wa(i.length-t,0),s=Io(a);++o<a;)s[o]=i[t+o];o=-1;for(var l=Io(t+1);++o<t;)l[o]=i[o];return l[t]=n(s),r(e,this,l)}}function wi(e,t){return t.length<2?e:Ln(e,rr(t,0,-1))}function xi(e,t){if("__proto__"!=t)return e[t]}function Si(e,t,n){var r=t+"";return as(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(_t,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return o(xe,function(n){var r="_."+n[0];t&n[1]&&!l(e,r)&&e.push(r)}),e.sort()}(function(e){var t=e.match(bt);return t?t[1].split(wt):[]}(r),n)))}function Ti(e){var t=0,n=0;return function(){var r=Sa(),i=he-(r-n);if(n=r,i>0){if(++t>=de)return arguments[0]}else t=0;return e.apply(W,arguments)}}function Ei(e,t){var n=-1,r=e.length,i=r-1;for(t=t===W?r:t;++n<t;){var o=Qn(n,i),a=e[o];e[o]=e[n],e[n]=a}return e.length=t,e}function Ai(e){if("string"==typeof e||ao(e))return e;var t=e+"";return"0"==t&&1/e==-me?"-0":t}function Mi(e){if(null!=e){try{return Yo.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Li(e){if(e instanceof Pt)return e.clone();var t=new xt(e.__wrapped__,e.__chain__);return t.__actions__=Mr(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Ci(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:co(n);return i<0&&(i=wa(r+i,0)),g(e,ai(t,3),i)}function ki(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==W&&(i=co(n),i=n<0?wa(r+i,0):xa(i,r-1)),g(e,ai(t,3),i,!0)}function Di(e){return null!=e&&e.length?pn(e,1):[]}function Ii(e){return e&&e.length?e[0]:W}function Oi(e){var t=null==e?0:e.length;return t?e[t-1]:W}function Pi(e,t){return e&&e.length&&t&&t.length?$n(e,t):e}function Ni(e){return null==e?e:Aa.call(e)}function Ri(e){if(!e||!e.length)return[];var t=0;return e=s(e,function(e){if(Zi(e))return t=wa(e.length,t),!0}),A(t,function(t){return u(e,x(t))})}function qi(e,t){if(!e||!e.length)return[];var n=Ri(e);return null==t?n:u(n,function(e){return r(t,W,e)})}function zi(e){var t=n(e);return t.__chain__=!0,t}function Fi(e,t){return t(e)}function ji(e,t){return(Gs(e)?o:Ha)(e,ai(t,3))}function Bi(e,t){return(Gs(e)?function(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}:Ya)(e,ai(t,3))}function Wi(e,t){return(Gs(e)?u:Hn)(e,ai(t,3))}function Ui(e,t,n){return t=n?W:t,t=e&&null==t?e.length:t,Zr(e,ae,W,W,W,W,t)}function Hi(e,t){var n;if("function"!=typeof t)throw new jo(Y);return e=co(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=W),n}}function Yi(e,t,n){function r(t){var n=l,r=c;return l=c=W,p=t,d=e.apply(r,n)}function i(e){var n=e-f;return f===W||n>=t||n<0||v&&e-p>=u}function o(){var e=Ps();if(i(e))return a(e);h=os(o,function(e){var n=t-(e-f);return v?xa(n,u-(e-p)):n}(e))}function a(e){return h=W,g&&l?r(e):(l=c=W,d)}function s(){var e=Ps(),n=i(e);if(l=arguments,c=this,f=e,n){if(h===W)return function(e){return p=e,h=os(o,t),m?r(e):d}(f);if(v)return h=os(o,t),r(f)}return h===W&&(h=os(o,t)),d}var l,c,u,d,h,f,p=0,m=!1,v=!1,g=!0;if("function"!=typeof e)throw new jo(Y);return t=ho(t)||0,to(n)&&(m=!!n.leading,u=(v="maxWait"in n)?wa(ho(n.maxWait)||0,t):u,g="trailing"in n?!!n.trailing:g),s.cancel=function(){h!==W&&$a(h),p=0,l=f=c=h=W},s.flush=function(){return h===W?d:a(Ps())},s}function Gi(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new jo(Y);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Gi.Cache||qt),n}function Vi(e){if("function"!=typeof e)throw new jo(Y);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Xi(e,t){return e===t||e!=e&&t!=t}function Ki(e){return null!=e&&eo(e.length)&&!Ji(e)}function Zi(e){return no(e)&&Ki(e)}function $i(e){if(!no(e))return!1;var t=kn(e);return t==Ce||t==Le||"string"==typeof e.message&&"string"==typeof e.name&&!io(e)}function Ji(e){if(!to(e))return!1;var t=kn(e);return t==ke||t==De||t==Ee||t==Re}function Qi(e){return"number"==typeof e&&e==co(e)}function eo(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=ve}function to(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function no(e){return null!=e&&"object"==typeof e}function ro(e){return"number"==typeof e||no(e)&&kn(e)==Oe}function io(e){if(!no(e)||kn(e)!=Ne)return!1;var t=ra(e);if(null===t)return!0;var n=Go.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Yo.call(n)==Zo}function oo(e){return"string"==typeof e||!Gs(e)&&no(e)&&kn(e)==Fe}function ao(e){return"symbol"==typeof e||no(e)&&kn(e)==je}function so(e){if(!e)return[];if(Ki(e))return oo(e)?j(e):Mr(e);if(la&&e[la])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[la]());var t=ns(e);return(t==Ie?N:t==ze?z:bo)(e)}function lo(e){return e?(e=ho(e))===me||e===-me?(e<0?-1:1)*ge:e==e?e:0:0===e?e:0}function co(e){var t=lo(e),n=t%1;return t==t?n?t-n:t:0}function uo(e){return e?$t(co(e),0,_e):0}function ho(e){if("number"==typeof e)return e;if(ao(e))return ye;if(to(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=to(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(vt,"");var n=Mt.test(e);return n||Ct.test(e)?sn(e.slice(2),n?2:8):At.test(e)?ye:+e}function fo(e){return Lr(e,yo(e))}function po(e){return null==e?"":cr(e)}function mo(e,t,n){var r=null==e?W:Ln(e,t);return r===W?n:r}function vo(e,t){return null!=e&&ui(e,t,On)}function go(e){return Ki(e)?jt(e):Bn(e)}function yo(e){return Ki(e)?jt(e,!0):Wn(e)}function _o(e,t){if(null==e)return{};var n=u(ri(e),function(e){return[e]});return t=ai(t),Zn(e,n,function(e,n){return t(e,n[0])})}function bo(e){return null==e?[]:L(e,go(e))}function wo(e){return El(po(e).toLowerCase())}function xo(e){return(e=po(e))&&e.replace(Dt,Sn).replace(Kt,"")}function So(e,t,n){return e=po(e),(t=n?W:t)===W?P(e)?B(e):m(e):e.match(t)||[]}function To(e){return function(){return e}}function Eo(e){return e}function Ao(e){return jn("function"==typeof e?e:Jt(e,X))}function Mo(e,t,n){var r=go(t),i=Mn(t,r);null!=n||to(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Mn(t,go(t)));var a=!(to(n)&&"chain"in n&&!n.chain),s=Ji(e);return o(i,function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__);return(n.__actions__=Mr(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,d([this.value()],arguments))})}),e}function Lo(){}function Co(e){return mi(e)?x(Ai(e)):function(e){return function(t){return Ln(t,e)}}(e)}function ko(){return[]}function Do(){return!1}var Io=(t=null==t?un:An.defaults(un.Object(),t,An.pick(un,en))).Array,Oo=t.Date,Po=t.Error,No=t.Function,Ro=t.Math,qo=t.Object,zo=t.RegExp,Fo=t.String,jo=t.TypeError,Bo=Io.prototype,Wo=No.prototype,Uo=qo.prototype,Ho=t["__core-js_shared__"],Yo=Wo.toString,Go=Uo.hasOwnProperty,Vo=0,Xo=function(){var e=/[^.]+$/.exec(Ho&&Ho.keys&&Ho.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ko=Uo.toString,Zo=Yo.call(qo),$o=un._,Jo=zo("^"+Yo.call(Go).replace(pt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qo=fn?t.Buffer:W,ea=t.Symbol,ta=t.Uint8Array,na=Qo?Qo.allocUnsafe:W,ra=R(qo.getPrototypeOf,qo),ia=qo.create,oa=Uo.propertyIsEnumerable,aa=Bo.splice,sa=ea?ea.isConcatSpreadable:W,la=ea?ea.iterator:W,ca=ea?ea.toStringTag:W,ua=function(){try{var e=ci(qo,"defineProperty");return e({},"",{}),e}catch(e){}}(),da=t.clearTimeout!==un.clearTimeout&&t.clearTimeout,ha=Oo&&Oo.now!==un.Date.now&&Oo.now,fa=t.setTimeout!==un.setTimeout&&t.setTimeout,pa=Ro.ceil,ma=Ro.floor,va=qo.getOwnPropertySymbols,ga=Qo?Qo.isBuffer:W,ya=t.isFinite,_a=Bo.join,ba=R(qo.keys,qo),wa=Ro.max,xa=Ro.min,Sa=Oo.now,Ta=t.parseInt,Ea=Ro.random,Aa=Bo.reverse,Ma=ci(t,"DataView"),La=ci(t,"Map"),Ca=ci(t,"Promise"),ka=ci(t,"Set"),Da=ci(t,"WeakMap"),Ia=ci(qo,"create"),Oa=Da&&new Da,Pa={},Na=Mi(Ma),Ra=Mi(La),qa=Mi(Ca),za=Mi(ka),Fa=Mi(Da),ja=ea?ea.prototype:W,Ba=ja?ja.valueOf:W,Wa=ja?ja.toString:W,Ua=function(){function e(){}return function(t){if(!to(t))return{};if(ia)return ia(t);e.prototype=t;var n=new e;return e.prototype=W,n}}();n.templateSettings={escape:lt,evaluate:ct,interpolate:ut,variable:"",imports:{_:n}},n.prototype=S.prototype,n.prototype.constructor=n,xt.prototype=Ua(S.prototype),xt.prototype.constructor=xt,Pt.prototype=Ua(S.prototype),Pt.prototype.constructor=Pt,Nt.prototype.clear=function(){this.__data__=Ia?Ia(null):{},this.size=0},Nt.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Nt.prototype.get=function(e){var t=this.__data__;if(Ia){var n=t[e];return n===G?W:n}return Go.call(t,e)?t[e]:W},Nt.prototype.has=function(e){var t=this.__data__;return Ia?t[e]!==W:Go.call(t,e)},Nt.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ia&&t===W?G:t,this},Rt.prototype.clear=function(){this.__data__=[],this.size=0},Rt.prototype.delete=function(e){var t=this.__data__,n=Ht(t,e);return!(n<0||(n==t.length-1?t.pop():aa.call(t,n,1),--this.size,0))},Rt.prototype.get=function(e){var t=this.__data__,n=Ht(t,e);return n<0?W:t[n][1]},Rt.prototype.has=function(e){return Ht(this.__data__,e)>-1},Rt.prototype.set=function(e,t){var n=this.__data__,r=Ht(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},qt.prototype.clear=function(){this.size=0,this.__data__={hash:new Nt,map:new(La||Rt),string:new Nt}},qt.prototype.delete=function(e){var t=si(this,e).delete(e);return this.size-=t?1:0,t},qt.prototype.get=function(e){return si(this,e).get(e)},qt.prototype.has=function(e){return si(this,e).has(e)},qt.prototype.set=function(e,t){var n=si(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},zt.prototype.add=zt.prototype.push=function(e){return this.__data__.set(e,G),this},zt.prototype.has=function(e){return this.__data__.has(e)},Ft.prototype.clear=function(){this.__data__=new Rt,this.size=0},Ft.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ft.prototype.get=function(e){return this.__data__.get(e)},Ft.prototype.has=function(e){return this.__data__.has(e)},Ft.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Rt){var r=n.__data__;if(!La||r.length<U-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new qt(r)}return n.set(e,t),this.size=n.size,this};var Ha=Dr(mn),Ya=Dr(xn,!0),Ga=Ir(),Va=Ir(!0),Xa=Oa?function(e,t){return Oa.set(e,t),e}:Eo,Ka=ua?function(e,t){return ua(e,"toString",{configurable:!0,enumerable:!1,value:To(t),writable:!0})}:Eo,Za=tr,$a=da||function(e){return un.clearTimeout(e)},Ja=ka&&1/z(new ka([,-0]))[1]==me?function(e){return new ka(e)}:Lo,Qa=Oa?function(e){return Oa.get(e)}:Lo,es=va?function(e){return null==e?[]:(e=qo(e),s(va(e),function(t){return oa.call(e,t)}))}:ko,ts=va?function(e){for(var t=[];e;)d(t,es(e)),e=ra(e);return t}:ko,ns=kn;(Ma&&ns(new Ma(new ArrayBuffer(1)))!=Ye||La&&ns(new La)!=Ie||Ca&&"[object Promise]"!=ns(Ca.resolve())||ka&&ns(new ka)!=ze||Da&&ns(new Da)!=We)&&(ns=function(e){var t=kn(e),n=t==Ne?e.constructor:W,r=n?Mi(n):"";if(r)switch(r){case Na:return Ye;case Ra:return Ie;case qa:return"[object Promise]";case za:return ze;case Fa:return We}return t});var rs=Ho?Ji:Do,is=Ti(Xa),os=fa||function(e,t){return un.setTimeout(e,t)},as=Ti(Ka),ss=function(e){var t=Gi(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ft,function(e,n,r,i){t.push(r?i.replace(St,"$1"):n||e)}),t},function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(),ls=tr(function(e,t){return Zi(e)?ln(e,pn(t,1,Zi,!0)):[]}),cs=tr(function(e,t){var n=Oi(t);return Zi(n)&&(n=W),Zi(e)?ln(e,pn(t,1,Zi,!0),ai(n,2)):[]}),us=tr(function(e,t){var n=Oi(t);return Zi(n)&&(n=W),Zi(e)?ln(e,pn(t,1,Zi,!0),W,n):[]}),ds=tr(function(e){var t=u(e,gr);return t.length&&t[0]===e[0]?Pn(t):[]}),hs=tr(function(e){var t=Oi(e),n=u(e,gr);return t===Oi(n)?t=W:n.pop(),n.length&&n[0]===e[0]?Pn(n,ai(t,2)):[]}),fs=tr(function(e){var t=Oi(e),n=u(e,gr);return(t="function"==typeof t?t:W)&&n.pop(),n.length&&n[0]===e[0]?Pn(n,W,t):[]}),ps=tr(Pi),ms=ti(function(e,t){var n=null==e?0:e.length,r=Zt(e,t);return Jn(e,u(t,function(e){return fi(e,n)?+e:e}).sort(Tr)),r}),vs=tr(function(e){return ur(pn(e,1,Zi,!0))}),gs=tr(function(e){var t=Oi(e);return Zi(t)&&(t=W),ur(pn(e,1,Zi,!0),ai(t,2))}),ys=tr(function(e){var t=Oi(e);return t="function"==typeof t?t:W,ur(pn(e,1,Zi,!0),W,t)}),_s=tr(function(e,t){return Zi(e)?ln(e,t):[]}),bs=tr(function(e){return mr(s(e,Zi))}),ws=tr(function(e){var t=Oi(e);return Zi(t)&&(t=W),mr(s(e,Zi),ai(t,2))}),xs=tr(function(e){var t=Oi(e);return t="function"==typeof t?t:W,mr(s(e,Zi),W,t)}),Ss=tr(Ri),Ts=tr(function(e){var t=e.length,n=t>1?e[t-1]:W;return qi(e,n="function"==typeof n?(e.pop(),n):W)}),Es=ti(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return Zt(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Pt&&fi(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:Fi,args:[i],thisArg:W}),new xt(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(W),e})):this.thru(i)}),As=Cr(function(e,t,n){Go.call(e,n)?++e[n]:Vt(e,n,1)}),Ms=qr(Ci),Ls=qr(ki),Cs=Cr(function(e,t,n){Go.call(e,n)?e[n].push(t):Vt(e,n,[t])}),ks=tr(function(e,t,n){var i=-1,o="function"==typeof t,a=Ki(e)?Io(e.length):[];return Ha(e,function(e){a[++i]=o?r(t,e,n):Nn(e,t,n)}),a}),Ds=Cr(function(e,t,n){Vt(e,n,t)}),Is=Cr(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Os=tr(function(e,t){if(null==e)return[];var n=t.length;return n>1&&pi(e,t[0],t[1])?t=[]:n>2&&pi(t[0],t[1],t[2])&&(t=[t[0]]),Kn(e,pn(t,1),[])}),Ps=ha||function(){return un.Date.now()},Ns=tr(function(e,t,n){var r=Q;if(n.length){var i=q(n,oi(Ns));r|=ie}return Zr(e,r,t,n,i)}),Rs=tr(function(e,t,n){var r=Q|ee;if(n.length){var i=q(n,oi(Rs));r|=ie}return Zr(t,r,e,n,i)}),qs=tr(function(e,t){return on(e,1,t)}),zs=tr(function(e,t,n){return on(e,ho(t)||0,n)});Gi.Cache=qt;var Fs=Za(function(e,t){var n=(t=1==t.length&&Gs(t[0])?u(t[0],M(ai())):u(pn(t,1),M(ai()))).length;return tr(function(i){for(var o=-1,a=xa(i.length,n);++o<a;)i[o]=t[o].call(this,i[o]);return r(e,this,i)})}),js=tr(function(e,t){var n=q(t,oi(js));return Zr(e,ie,W,t,n)}),Bs=tr(function(e,t){var n=q(t,oi(Bs));return Zr(e,oe,W,t,n)}),Ws=ti(function(e,t){return Zr(e,se,W,W,W,t)}),Us=Gr(Dn),Hs=Gr(function(e,t){return e>=t}),Ys=Rn(function(){return arguments}())?Rn:function(e){return no(e)&&Go.call(e,"callee")&&!oa.call(e,"callee")},Gs=Io.isArray,Vs=vn?M(vn):function(e){return no(e)&&kn(e)==He},Xs=ga||Do,Ks=gn?M(gn):function(e){return no(e)&&kn(e)==Me},Zs=yn?M(yn):function(e){return no(e)&&ns(e)==Ie},$s=_n?M(_n):function(e){return no(e)&&kn(e)==qe},Js=bn?M(bn):function(e){return no(e)&&ns(e)==ze},Qs=wn?M(wn):function(e){return no(e)&&eo(e.length)&&!!nn[kn(e)]},el=Gr(Un),tl=Gr(function(e,t){return e<=t}),nl=kr(function(e,t){if(gi(t)||Ki(t))Lr(t,go(t),e);else for(var n in t)Go.call(t,n)&&Ut(e,n,t[n])}),rl=kr(function(e,t){Lr(t,yo(t),e)}),il=kr(function(e,t,n,r){Lr(t,yo(t),e,r)}),ol=kr(function(e,t,n,r){Lr(t,go(t),e,r)}),al=ti(Zt),sl=tr(function(e,t){e=qo(e);var n=-1,r=t.length,i=r>2?t[2]:W;for(i&&pi(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],a=yo(o),s=-1,l=a.length;++s<l;){var c=a[s],u=e[c];(u===W||Xi(u,Uo[c])&&!Go.call(e,c))&&(e[c]=o[c])}return e}),ll=tr(function(e){return e.push(W,Jr),r(fl,W,e)}),cl=jr(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ko.call(t)),e[t]=n},To(Eo)),ul=jr(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ko.call(t)),Go.call(e,t)?e[t].push(n):e[t]=[n]},ai),dl=tr(Nn),hl=kr(function(e,t,n){Vn(e,t,n)}),fl=kr(function(e,t,n,r){Vn(e,t,n,r)}),pl=ti(function(e,t){var n={};if(null==e)return n;var r=!1;t=u(t,function(t){return t=_r(t,e),r||(r=t.length>1),t}),Lr(e,ri(e),n),r&&(n=Jt(n,X|K|Z,Qr));for(var i=t.length;i--;)dr(n,t[i]);return n}),ml=ti(function(e,t){return null==e?{}:function(e,t){return Zn(e,t,function(t,n){return vo(e,n)})}(e,t)}),vl=Kr(go),gl=Kr(yo),yl=Pr(function(e,t,n){return t=t.toLowerCase(),e+(n?wo(t):t)}),_l=Pr(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),bl=Pr(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),wl=Or("toLowerCase"),xl=Pr(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Sl=Pr(function(e,t,n){return e+(n?" ":"")+El(t)}),Tl=Pr(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),El=Or("toUpperCase"),Al=tr(function(e,t){try{return r(e,W,t)}catch(e){return $i(e)?e:new Po(e)}}),Ml=ti(function(e,t){return o(t,function(t){t=Ai(t),Vt(e,t,Ns(e[t],e))}),e}),Ll=zr(),Cl=zr(!0),kl=tr(function(e,t){return function(n){return Nn(n,e,t)}}),Dl=tr(function(e,t){return function(n){return Nn(e,n,t)}}),Il=Wr(u),Ol=Wr(a),Pl=Wr(p),Nl=Yr(),Rl=Yr(!0),ql=Br(function(e,t){return e+t},0),zl=Xr("ceil"),Fl=Br(function(e,t){return e/t},1),jl=Xr("floor"),Bl=Br(function(e,t){return e*t},1),Wl=Xr("round"),Ul=Br(function(e,t){return e-t},0);return n.after=function(e,t){if("function"!=typeof t)throw new jo(Y);return e=co(e),function(){if(--e<1)return t.apply(this,arguments)}},n.ary=Ui,n.assign=nl,n.assignIn=rl,n.assignInWith=il,n.assignWith=ol,n.at=al,n.before=Hi,n.bind=Ns,n.bindAll=Ml,n.bindKey=Rs,n.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Gs(e)?e:[e]},n.chain=zi,n.chunk=function(e,t,n){t=(n?pi(e,t,n):t===W)?1:wa(co(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var i=0,o=0,a=Io(pa(r/t));i<r;)a[o++]=rr(e,i,i+=t);return a},n.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},n.concat=function(){var e=arguments.length;if(!e)return[];for(var t=Io(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return d(Gs(n)?Mr(n):[n],pn(t,1))},n.cond=function(e){var t=null==e?0:e.length,n=ai();return e=t?u(e,function(e){if("function"!=typeof e[1])throw new jo(Y);return[n(e[0]),e[1]]}):[],tr(function(n){for(var i=-1;++i<t;){var o=e[i];if(r(o[0],this,n))return r(o[1],this,n)}})},n.conforms=function(e){return function(e){var t=go(e);return function(n){return Qt(n,e,t)}}(Jt(e,X))},n.constant=To,n.countBy=As,n.create=function(e,t){var n=Ua(e);return null==t?n:Gt(n,t)},n.curry=function e(t,n,r){var i=Zr(t,ne,W,W,W,W,W,n=r?W:n);return i.placeholder=e.placeholder,i},n.curryRight=function e(t,n,r){var i=Zr(t,re,W,W,W,W,W,n=r?W:n);return i.placeholder=e.placeholder,i},n.debounce=Yi,n.defaults=sl,n.defaultsDeep=ll,n.defer=qs,n.delay=zs,n.difference=ls,n.differenceBy=cs,n.differenceWith=us,n.drop=function(e,t,n){var r=null==e?0:e.length;return r?rr(e,(t=n||t===W?1:co(t))<0?0:t,r):[]},n.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?rr(e,0,(t=r-(t=n||t===W?1:co(t)))<0?0:t):[]},n.dropRightWhile=function(e,t){return e&&e.length?fr(e,ai(t,3),!0,!0):[]},n.dropWhile=function(e,t){return e&&e.length?fr(e,ai(t,3),!0):[]},n.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&pi(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=co(n))<0&&(n=-n>i?0:i+n),(r=r===W||r>i?i:co(r))<0&&(r+=i),r=n>r?0:uo(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},n.filter=function(e,t){return(Gs(e)?s:hn)(e,ai(t,3))},n.flatMap=function(e,t){return pn(Wi(e,t),1)},n.flatMapDeep=function(e,t){return pn(Wi(e,t),me)},n.flatMapDepth=function(e,t,n){return n=n===W?1:co(n),pn(Wi(e,t),n)},n.flatten=Di,n.flattenDeep=function(e){return null!=e&&e.length?pn(e,me):[]},n.flattenDepth=function(e,t){return null!=e&&e.length?pn(e,t=t===W?1:co(t)):[]},n.flip=function(e){return Zr(e,le)},n.flow=Ll,n.flowRight=Cl,n.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},n.functions=function(e){return null==e?[]:Mn(e,go(e))},n.functionsIn=function(e){return null==e?[]:Mn(e,yo(e))},n.groupBy=Cs,n.initial=function(e){return null!=e&&e.length?rr(e,0,-1):[]},n.intersection=ds,n.intersectionBy=hs,n.intersectionWith=fs,n.invert=cl,n.invertBy=ul,n.invokeMap=ks,n.iteratee=Ao,n.keyBy=Ds,n.keys=go,n.keysIn=yo,n.map=Wi,n.mapKeys=function(e,t){var n={};return t=ai(t,3),mn(e,function(e,r,i){Vt(n,t(e,r,i),e)}),n},n.mapValues=function(e,t){var n={};return t=ai(t,3),mn(e,function(e,r,i){Vt(n,r,t(e,r,i))}),n},n.matches=function(e){return Yn(Jt(e,X))},n.matchesProperty=function(e,t){return Gn(e,Jt(t,X))},n.memoize=Gi,n.merge=hl,n.mergeWith=fl,n.method=kl,n.methodOf=Dl,n.mixin=Mo,n.negate=Vi,n.nthArg=function(e){return e=co(e),tr(function(t){return Xn(t,e)})},n.omit=pl,n.omitBy=function(e,t){return _o(e,Vi(ai(t)))},n.once=function(e){return Hi(2,e)},n.orderBy=function(e,t,n,r){return null==e?[]:(Gs(t)||(t=null==t?[]:[t]),Gs(n=r?W:n)||(n=null==n?[]:[n]),Kn(e,t,n))},n.over=Il,n.overArgs=Fs,n.overEvery=Ol,n.overSome=Pl,n.partial=js,n.partialRight=Bs,n.partition=Is,n.pick=ml,n.pickBy=_o,n.property=Co,n.propertyOf=function(e){return function(t){return null==e?W:Ln(e,t)}},n.pull=ps,n.pullAll=Pi,n.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?$n(e,t,ai(n,2)):e},n.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?$n(e,t,W,n):e},n.pullAt=ms,n.range=Nl,n.rangeRight=Rl,n.rearg=Ws,n.reject=function(e,t){return(Gs(e)?s:hn)(e,Vi(ai(t,3)))},n.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=ai(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Jn(e,i),n},n.rest=function(e,t){if("function"!=typeof e)throw new jo(Y);return tr(e,t=t===W?t:co(t))},n.reverse=Ni,n.sampleSize=function(e,t,n){return t=(n?pi(e,t,n):t===W)?1:co(t),(Gs(e)?function(e,t){return Ei(Mr(e),$t(t,0,e.length))}:function(e,t){var n=bo(e);return Ei(n,$t(t,0,n.length))})(e,t)},n.set=function(e,t,n){return null==e?e:nr(e,t,n)},n.setWith=function(e,t,n,r){return r="function"==typeof r?r:W,null==e?e:nr(e,t,n,r)},n.shuffle=function(e){return(Gs(e)?function(e){return Ei(Mr(e))}:function(e){return Ei(bo(e))})(e)},n.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&pi(e,t,n)?(t=0,n=r):(t=null==t?0:co(t),n=n===W?r:co(n)),rr(e,t,n)):[]},n.sortBy=Os,n.sortedUniq=function(e){return e&&e.length?sr(e):[]},n.sortedUniqBy=function(e,t){return e&&e.length?sr(e,ai(t,2)):[]},n.split=function(e,t,n){return n&&"number"!=typeof n&&pi(e,t,n)&&(t=n=W),(n=n===W?_e:n>>>0)?(e=po(e))&&("string"==typeof t||null!=t&&!$s(t))&&!(t=cr(t))&&O(e)?br(j(e),0,n):e.split(t,n):[]},n.spread=function(e,t){if("function"!=typeof e)throw new jo(Y);return t=null==t?0:wa(co(t),0),tr(function(n){var i=n[t],o=br(n,0,t);return i&&d(o,i),r(e,this,o)})},n.tail=function(e){var t=null==e?0:e.length;return t?rr(e,1,t):[]},n.take=function(e,t,n){return e&&e.length?rr(e,0,(t=n||t===W?1:co(t))<0?0:t):[]},n.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?rr(e,(t=r-(t=n||t===W?1:co(t)))<0?0:t,r):[]},n.takeRightWhile=function(e,t){return e&&e.length?fr(e,ai(t,3),!1,!0):[]},n.takeWhile=function(e,t){return e&&e.length?fr(e,ai(t,3)):[]},n.tap=function(e,t){return t(e),e},n.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new jo(Y);return to(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Yi(e,t,{leading:r,maxWait:t,trailing:i})},n.thru=Fi,n.toArray=so,n.toPairs=vl,n.toPairsIn=gl,n.toPath=function(e){return Gs(e)?u(e,Ai):ao(e)?[e]:Mr(ss(po(e)))},n.toPlainObject=fo,n.transform=function(e,t,n){var r=Gs(e),i=r||Xs(e)||Qs(e);if(t=ai(t,4),null==n){var a=e&&e.constructor;n=i?r?new a:[]:to(e)&&Ji(a)?Ua(ra(e)):{}}return(i?o:mn)(e,function(e,r,i){return t(n,e,r,i)}),n},n.unary=function(e){return Ui(e,1)},n.union=vs,n.unionBy=gs,n.unionWith=ys,n.uniq=function(e){return e&&e.length?ur(e):[]},n.uniqBy=function(e,t){return e&&e.length?ur(e,ai(t,2)):[]},n.uniqWith=function(e,t){return t="function"==typeof t?t:W,e&&e.length?ur(e,W,t):[]},n.unset=function(e,t){return null==e||dr(e,t)},n.unzip=Ri,n.unzipWith=qi,n.update=function(e,t,n){return null==e?e:hr(e,t,yr(n))},n.updateWith=function(e,t,n,r){return r="function"==typeof r?r:W,null==e?e:hr(e,t,yr(n),r)},n.values=bo,n.valuesIn=function(e){return null==e?[]:L(e,yo(e))},n.without=_s,n.words=So,n.wrap=function(e,t){return js(yr(t),e)},n.xor=bs,n.xorBy=ws,n.xorWith=xs,n.zip=Ss,n.zipObject=function(e,t){return vr(e||[],t||[],Ut)},n.zipObjectDeep=function(e,t){return vr(e||[],t||[],nr)},n.zipWith=Ts,n.entries=vl,n.entriesIn=gl,n.extend=rl,n.extendWith=il,Mo(n,n),n.add=ql,n.attempt=Al,n.camelCase=yl,n.capitalize=wo,n.ceil=zl,n.clamp=function(e,t,n){return n===W&&(n=t,t=W),n!==W&&(n=(n=ho(n))==n?n:0),t!==W&&(t=(t=ho(t))==t?t:0),$t(ho(e),t,n)},n.clone=function(e){return Jt(e,Z)},n.cloneDeep=function(e){return Jt(e,X|Z)},n.cloneDeepWith=function(e,t){return Jt(e,X|Z,t="function"==typeof t?t:W)},n.cloneWith=function(e,t){return Jt(e,Z,t="function"==typeof t?t:W)},n.conformsTo=function(e,t){return null==t||Qt(e,t,go(t))},n.deburr=xo,n.defaultTo=function(e,t){return null==e||e!=e?t:e},n.divide=Fl,n.endsWith=function(e,t,n){e=po(e),t=cr(t);var r=e.length,i=n=n===W?r:$t(co(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},n.eq=Xi,n.escape=function(e){return(e=po(e))&&st.test(e)?e.replace(ot,Tn):e},n.escapeRegExp=function(e){return(e=po(e))&&mt.test(e)?e.replace(pt,"\\$&"):e},n.every=function(e,t,n){var r=Gs(e)?a:cn;return n&&pi(e,t,n)&&(t=W),r(e,ai(t,3))},n.find=Ms,n.findIndex=Ci,n.findKey=function(e,t){return v(e,ai(t,3),mn)},n.findLast=Ls,n.findLastIndex=ki,n.findLastKey=function(e,t){return v(e,ai(t,3),xn)},n.floor=jl,n.forEach=ji,n.forEachRight=Bi,n.forIn=function(e,t){return null==e?e:Ga(e,ai(t,3),yo)},n.forInRight=function(e,t){return null==e?e:Va(e,ai(t,3),yo)},n.forOwn=function(e,t){return e&&mn(e,ai(t,3))},n.forOwnRight=function(e,t){return e&&xn(e,ai(t,3))},n.get=mo,n.gt=Us,n.gte=Hs,n.has=function(e,t){return null!=e&&ui(e,t,In)},n.hasIn=vo,n.head=Ii,n.identity=Eo,n.includes=function(e,t,n,r){e=Ki(e)?e:bo(e),n=n&&!r?co(n):0;var i=e.length;return n<0&&(n=wa(i+n,0)),oo(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&y(e,t,n)>-1},n.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:co(n);return i<0&&(i=wa(r+i,0)),y(e,t,i)},n.inRange=function(e,t,n){return t=lo(t),n===W?(n=t,t=0):n=lo(n),function(e,t,n){return e>=xa(t,n)&&e<wa(t,n)}(e=ho(e),t,n)},n.invoke=dl,n.isArguments=Ys,n.isArray=Gs,n.isArrayBuffer=Vs,n.isArrayLike=Ki,n.isArrayLikeObject=Zi,n.isBoolean=function(e){return!0===e||!1===e||no(e)&&kn(e)==Ae},n.isBuffer=Xs,n.isDate=Ks,n.isElement=function(e){return no(e)&&1===e.nodeType&&!io(e)},n.isEmpty=function(e){if(null==e)return!0;if(Ki(e)&&(Gs(e)||"string"==typeof e||"function"==typeof e.splice||Xs(e)||Qs(e)||Ys(e)))return!e.length;var t=ns(e);if(t==Ie||t==ze)return!e.size;if(gi(e))return!Bn(e).length;for(var n in e)if(Go.call(e,n))return!1;return!0},n.isEqual=function(e,t){return qn(e,t)},n.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:W)?n(e,t):W;return r===W?qn(e,t,W,n):!!r},n.isError=$i,n.isFinite=function(e){return"number"==typeof e&&ya(e)},n.isFunction=Ji,n.isInteger=Qi,n.isLength=eo,n.isMap=Zs,n.isMatch=function(e,t){return e===t||zn(e,t,li(t))},n.isMatchWith=function(e,t,n){return n="function"==typeof n?n:W,zn(e,t,li(t),n)},n.isNaN=function(e){return ro(e)&&e!=+e},n.isNative=function(e){if(rs(e))throw new Po(H);return Fn(e)},n.isNil=function(e){return null==e},n.isNull=function(e){return null===e},n.isNumber=ro,n.isObject=to,n.isObjectLike=no,n.isPlainObject=io,n.isRegExp=$s,n.isSafeInteger=function(e){return Qi(e)&&e>=-ve&&e<=ve},n.isSet=Js,n.isString=oo,n.isSymbol=ao,n.isTypedArray=Qs,n.isUndefined=function(e){return e===W},n.isWeakMap=function(e){return no(e)&&ns(e)==We},n.isWeakSet=function(e){return no(e)&&kn(e)==Ue},n.join=function(e,t){return null==e?"":_a.call(e,t)},n.kebabCase=_l,n.last=Oi,n.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==W&&(i=(i=co(n))<0?wa(r+i,0):xa(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):g(e,b,i,!0)},n.lowerCase=bl,n.lowerFirst=wl,n.lt=el,n.lte=tl,n.max=function(e){return e&&e.length?dn(e,Eo,Dn):W},n.maxBy=function(e,t){return e&&e.length?dn(e,ai(t,2),Dn):W},n.mean=function(e){return w(e,Eo)},n.meanBy=function(e,t){return w(e,ai(t,2))},n.min=function(e){return e&&e.length?dn(e,Eo,Un):W},n.minBy=function(e,t){return e&&e.length?dn(e,ai(t,2),Un):W},n.stubArray=ko,n.stubFalse=Do,n.stubObject=function(){return{}},n.stubString=function(){return""},n.stubTrue=function(){return!0},n.multiply=Bl,n.nth=function(e,t){return e&&e.length?Xn(e,co(t)):W},n.noConflict=function(){return un._===this&&(un._=$o),this},n.noop=Lo,n.now=Ps,n.pad=function(e,t,n){e=po(e);var r=(t=co(t))?F(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Ur(ma(i),n)+e+Ur(pa(i),n)},n.padEnd=function(e,t,n){e=po(e);var r=(t=co(t))?F(e):0;return t&&r<t?e+Ur(t-r,n):e},n.padStart=function(e,t,n){e=po(e);var r=(t=co(t))?F(e):0;return t&&r<t?Ur(t-r,n)+e:e},n.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Ta(po(e).replace(gt,""),t||0)},n.random=function(e,t,n){if(n&&"boolean"!=typeof n&&pi(e,t,n)&&(t=n=W),n===W&&("boolean"==typeof t?(n=t,t=W):"boolean"==typeof e&&(n=e,e=W)),e===W&&t===W?(e=0,t=1):(e=lo(e),t===W?(t=e,e=0):t=lo(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=Ea();return xa(e+i*(t-e+an("1e-"+((i+"").length-1))),t)}return Qn(e,t)},n.reduce=function(e,t,n){var r=Gs(e)?h:T,i=arguments.length<3;return r(e,ai(t,4),n,i,Ha)},n.reduceRight=function(e,t,n){var r=Gs(e)?f:T,i=arguments.length<3;return r(e,ai(t,4),n,i,Ya)},n.repeat=function(e,t,n){return t=(n?pi(e,t,n):t===W)?1:co(t),er(po(e),t)},n.replace=function(){var e=arguments,t=po(e[0]);return e.length<3?t:t.replace(e[1],e[2])},n.result=function(e,t,n){var r=-1,i=(t=_r(t,e)).length;for(i||(i=1,e=W);++r<i;){var o=null==e?W:e[Ai(t[r])];o===W&&(r=i,o=n),e=Ji(o)?o.call(e):o}return e},n.round=Wl,n.runInContext=e,n.sample=function(e){return(Gs(e)?Bt:function(e){return Bt(bo(e))})(e)},n.size=function(e){if(null==e)return 0;if(Ki(e))return oo(e)?F(e):e.length;var t=ns(e);return t==Ie||t==ze?e.size:Bn(e).length},n.snakeCase=xl,n.some=function(e,t,n){var r=Gs(e)?p:ir;return n&&pi(e,t,n)&&(t=W),r(e,ai(t,3))},n.sortedIndex=function(e,t){return or(e,t)},n.sortedIndexBy=function(e,t,n){return ar(e,t,ai(n,2))},n.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=or(e,t);if(r<n&&Xi(e[r],t))return r}return-1},n.sortedLastIndex=function(e,t){return or(e,t,!0)},n.sortedLastIndexBy=function(e,t,n){return ar(e,t,ai(n,2),!0)},n.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=or(e,t,!0)-1;if(Xi(e[n],t))return n}return-1},n.startCase=Sl,n.startsWith=function(e,t,n){return e=po(e),n=null==n?0:$t(co(n),0,e.length),t=cr(t),e.slice(n,n+t.length)==t},n.subtract=Ul,n.sum=function(e){return e&&e.length?E(e,Eo):0},n.sumBy=function(e,t){return e&&e.length?E(e,ai(t,2)):0},n.template=function(e,t,r){var i=n.templateSettings;r&&pi(e,t,r)&&(t=W),e=po(e),t=il({},t,i,$r);var o,a,s=il({},t.imports,i.imports,$r),l=go(s),c=L(s,l),u=0,d=t.interpolate||It,h="__p += '",f=zo((t.escape||It).source+"|"+d.source+"|"+(d===ut?Tt:It).source+"|"+(t.evaluate||It).source+"|$","g"),p="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++tn+"]")+"\n";e.replace(f,function(t,n,r,i,s,l){return r||(r=i),h+=e.slice(u,l).replace(Ot,I),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+t.length,t}),h+="';\n";var m=t.variable;m||(h="with (obj) {\n"+h+"\n}\n"),h=(a?h.replace(tt,""):h).replace(nt,"$1").replace(rt,"$1;"),h="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=Al(function(){return No(l,p+"return "+h).apply(W,c)});if(v.source=h,$i(v))throw v;return v},n.times=function(e,t){if((e=co(e))<1||e>ve)return[];var n=_e,r=xa(e,_e);t=ai(t),e-=_e;for(var i=A(r,t);++n<e;)t(n);return i},n.toFinite=lo,n.toInteger=co,n.toLength=uo,n.toLower=function(e){return po(e).toLowerCase()},n.toNumber=ho,n.toSafeInteger=function(e){return e?$t(co(e),-ve,ve):0===e?e:0},n.toString=po,n.toUpper=function(e){return po(e).toUpperCase()},n.trim=function(e,t,n){if((e=po(e))&&(n||t===W))return e.replace(vt,"");if(!e||!(t=cr(t)))return e;var r=j(e),i=j(t);return br(r,k(r,i),D(r,i)+1).join("")},n.trimEnd=function(e,t,n){if((e=po(e))&&(n||t===W))return e.replace(yt,"");if(!e||!(t=cr(t)))return e;var r=j(e);return br(r,0,D(r,j(t))+1).join("")},n.trimStart=function(e,t,n){if((e=po(e))&&(n||t===W))return e.replace(gt,"");if(!e||!(t=cr(t)))return e;var r=j(e);return br(r,k(r,j(t))).join("")},n.truncate=function(e,t){var n=ce,r=ue;if(to(t)){var i="separator"in t?t.separator:i;n="length"in t?co(t.length):n,r="omission"in t?cr(t.omission):r}var o=(e=po(e)).length;if(O(e)){var a=j(e);o=a.length}if(n>=o)return e;var s=n-F(r);if(s<1)return r;var l=a?br(a,0,s).join(""):e.slice(0,s);if(i===W)return l+r;if(a&&(s+=l.length-s),$s(i)){if(e.slice(s).search(i)){var c,u=l;for(i.global||(i=zo(i.source,po(Et.exec(i))+"g")),i.lastIndex=0;c=i.exec(u);)var d=c.index;l=l.slice(0,d===W?s:d)}}else if(e.indexOf(cr(i),s)!=s){var h=l.lastIndexOf(i);h>-1&&(l=l.slice(0,h))}return l+r},n.unescape=function(e){return(e=po(e))&&at.test(e)?e.replace(it,En):e},n.uniqueId=function(e){var t=++Vo;return po(e)+t},n.upperCase=Tl,n.upperFirst=El,n.each=ji,n.eachRight=Bi,n.first=Ii,Mo(n,function(){var e={};return mn(n,function(t,r){Go.call(n.prototype,r)||(e[r]=t)}),e}(),{chain:!1}),n.VERSION="4.17.11",o(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){n[e].placeholder=n}),o(["drop","take"],function(e,t){Pt.prototype[e]=function(n){n=n===W?1:wa(co(n),0);var r=this.__filtered__&&!t?new Pt(this):this.clone();return r.__filtered__?r.__takeCount__=xa(n,r.__takeCount__):r.__views__.push({size:xa(n,_e),type:e+(r.__dir__<0?"Right":"")}),r},Pt.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),o(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==fe||3==n;Pt.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ai(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),o(["head","last"],function(e,t){var n="take"+(t?"Right":"");Pt.prototype[e]=function(){return this[n](1).value()[0]}}),o(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");Pt.prototype[e]=function(){return this.__filtered__?new Pt(this):this[n](1)}}),Pt.prototype.compact=function(){return this.filter(Eo)},Pt.prototype.find=function(e){return this.filter(e).head()},Pt.prototype.findLast=function(e){return this.reverse().find(e)},Pt.prototype.invokeMap=tr(function(e,t){return"function"==typeof e?new Pt(this):this.map(function(n){return Nn(n,e,t)})}),Pt.prototype.reject=function(e){return this.filter(Vi(ai(e)))},Pt.prototype.slice=function(e,t){e=co(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Pt(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==W&&(n=(t=co(t))<0?n.dropRight(-t):n.take(t-e)),n)},Pt.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Pt.prototype.toArray=function(){return this.take(_e)},mn(Pt.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),o=n[i?"take"+("last"==t?"Right":""):t],a=i||/^find/.test(t);o&&(n.prototype[t]=function(){var t=this.__wrapped__,s=i?[1]:arguments,l=t instanceof Pt,c=s[0],u=l||Gs(t),h=function(e){var t=o.apply(n,d([e],s));return i&&f?t[0]:t};u&&r&&"function"==typeof c&&1!=c.length&&(l=u=!1);var f=this.__chain__,p=!!this.__actions__.length,m=a&&!f,v=l&&!p;if(!a&&u){t=v?t:new Pt(this);var g=e.apply(t,s);return g.__actions__.push({func:Fi,args:[h],thisArg:W}),new xt(g,f)}return m&&v?e.apply(this,s):(g=this.thru(h),m?i?g.value()[0]:g.value():g)})}),o(["pop","push","shift","sort","splice","unshift"],function(e){var t=Bo[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);n.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var n=this.value();return t.apply(Gs(n)?n:[],e)}return this[r](function(n){return t.apply(Gs(n)?n:[],e)})}}),mn(Pt.prototype,function(e,t){var r=n[t];if(r){var i=r.name+"";(Pa[i]||(Pa[i]=[])).push({name:t,func:r})}}),Pa[Fr(W,ee).name]=[{name:"wrapper",func:W}],Pt.prototype.clone=function(){var e=new Pt(this.__wrapped__);return e.__actions__=Mr(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Mr(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Mr(this.__views__),e},Pt.prototype.reverse=function(){if(this.__filtered__){var e=new Pt(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Pt.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Gs(e),r=t<0,i=n?e.length:0,o=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=xa(t,e+a);break;case"takeRight":e=wa(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,l=s-a,c=r?s:a-1,u=this.__iteratees__,d=u.length,h=0,f=xa(l,this.__takeCount__);if(!n||!r&&i==l&&f==l)return pr(e,this.__actions__);var p=[];e:for(;l--&&h<f;){for(var m=-1,v=e[c+=t];++m<d;){var g=u[m],y=g.iteratee,_=g.type,b=y(v);if(_==pe)v=b;else if(!b){if(_==fe)continue e;break e}}p[h++]=v}return p},n.prototype.at=Es,n.prototype.chain=function(){return zi(this)},n.prototype.commit=function(){return new xt(this.value(),this.__chain__)},n.prototype.next=function(){this.__values__===W&&(this.__values__=so(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?W:this.__values__[this.__index__++]}},n.prototype.plant=function(e){for(var t,n=this;n instanceof S;){var r=Li(n);r.__index__=0,r.__values__=W,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},n.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Pt){var t=e;return this.__actions__.length&&(t=new Pt(this)),(t=t.reverse()).__actions__.push({func:Fi,args:[Ni],thisArg:W}),new xt(t,this.__chain__)}return this.thru(Ni)},n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=function(){return pr(this.__wrapped__,this.__actions__)},n.prototype.first=n.prototype.head,la&&(n.prototype[la]=function(){return this}),n}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(un._=An,define(function(){return An})):hn?((hn.exports=An)._=An,dn._=An):un._=An}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],16:[function(e,t,n){var r=e("./_root");t.exports=function(){return r.Date.now()}},{"./_root":10}],17:[function(e,t,n){var r=e("./isObject"),i=e("./isSymbol"),o=NaN,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;t.exports=function(e){if("number"==typeof e)return e;if(i(e))return o;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=l.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):s.test(e)?o:+e}},{"./isObject":12,"./isSymbol":14}],18:[function(e,t,n){!function(e,r){"object"==typeof n&&void 0!==t?t.exports=r():"function"==typeof define&&define.amd?define(r):e.moment=r()}(this,function(){"use strict";function n(){return ot.apply(null,arguments)}function r(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function i(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function o(e){return void 0===e}function a(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function s(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function l(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){for(var n in t)c(t,n)&&(e[n]=t[n]);return c(t,"toString")&&(e.toString=t.toString),c(t,"valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t,n,r){return xe(e,t,n,r,!0).utc()}function h(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function f(e){if(null==e._isValid){var t=h(e),n=at.call(t.parsedDateParts,function(e){return null!=e}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function p(e){var t=d(NaN);return null!=e?u(h(t),e):h(t).userInvalidated=!0,t}function m(e,t){var n,r,i;if(o(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),o(t._i)||(e._i=t._i),o(t._f)||(e._f=t._f),o(t._l)||(e._l=t._l),o(t._strict)||(e._strict=t._strict),o(t._tzm)||(e._tzm=t._tzm),o(t._isUTC)||(e._isUTC=t._isUTC),o(t._offset)||(e._offset=t._offset),o(t._pf)||(e._pf=h(t)),o(t._locale)||(e._locale=t._locale),lt.length>0)for(n=0;n<lt.length;n++)o(i=t[r=lt[n]])||(e[r]=i);return e}function v(e){m(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===ct&&(ct=!0,n.updateOffset(this),ct=!1)}function g(e){return e instanceof v||null!=e&&null!=e._isAMomentObject}function y(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function _(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=y(t)),n}function b(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&_(e[r])!==_(t[r]))&&a++;return a+o}function w(e){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function x(e,t){var r=!0;return u(function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,e),r){for(var i,o=[],a=0;a<arguments.length;a++){if(i="","object"==typeof arguments[a]){for(var s in i+="\n["+a+"] ",arguments[0])i+=s+": "+arguments[0][s]+", ";i=i.slice(0,-2)}else i=arguments[a];o.push(i)}w(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),r=!1}return t.apply(this,arguments)},t)}function S(e,t){null!=n.deprecationHandler&&n.deprecationHandler(e,t),ut[e]||(w(t),ut[e]=!0)}function T(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function E(e,t){var n,r=u({},e);for(n in t)c(t,n)&&(i(e[n])&&i(t[n])?(r[n]={},u(r[n],e[n]),u(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)c(e,n)&&!c(t,n)&&i(e[n])&&(r[n]=u({},r[n]));return r}function A(e){null!=e&&this.set(e)}function M(e,t){var n=e.toLowerCase();dt[n]=dt[n+"s"]=dt[t]=e}function L(e){return"string"==typeof e?dt[e]||dt[e.toLowerCase()]:void 0}function C(e){var t,n,r={};for(n in e)c(e,n)&&(t=L(n))&&(r[t]=e[n]);return r}function k(e,t){ht[e]=t}function D(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function I(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(vt[e]=i),t&&(vt[t[0]]=function(){return D(i.apply(this,arguments),t[1],t[2])}),n&&(vt[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function O(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function P(e,t){return e.isValid()?(t=N(t,e.localeData()),mt[t]=mt[t]||function(e){var t,n,r=e.match(ft);for(t=0,n=r.length;t<n;t++)vt[r[t]]?r[t]=vt[r[t]]:r[t]=O(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=T(r[i])?r[i].call(t,e):r[i];return o}}(t),mt[t](e)):e.localeData().invalidDate()}function N(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(pt.lastIndex=0;r>=0&&pt.test(e);)e=e.replace(pt,n),pt.lastIndex=0,r-=1;return e}function R(e,t,n){Ot[e]=T(t)?t:function(e,r){return e&&n?n:t}}function q(e,t){return c(Ot,e)?Ot[e](t._strict,t._locale):new RegExp(function(e){return z(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}))}(e))}function z(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function F(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),a(t)&&(r=function(e,n){n[t]=_(e)}),n=0;n<e.length;n++)Pt[e[n]]=r}function j(e,t){F(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function B(e,t,n){null!=t&&c(Pt,e)&&Pt[e](t,n._a,n,e)}function W(e){return U(e)?366:365}function U(e){return e%4==0&&e%100!=0||e%400==0}function H(e,t){return function(r){return null!=r?(G(this,e,r),n.updateOffset(this,t),this):Y(this,e)}}function Y(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function G(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&U(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),V(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function V(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=function(e,t){return(e%t+t)%t}(t,12);return e+=(t-n)/12,1===n?U(e)?29:28:31-n%7%2}function X(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=_(t);else if(!a(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),V(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function K(e){return null!=e?(X(this,e),n.updateOffset(this,!0),this):Y(this,"Month")}function Z(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=d([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=z(r[t]),i[t]=z(i[t]);for(t=0;t<24;t++)o[t]=z(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function $(e){var t;if(e<100&&e>=0){var n=Array.prototype.slice.call(arguments);n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function J(e,t,n){var r=7+t-n;return-(7+$(e,0,r).getUTCDay()-t)%7+r-1}function Q(e,t,n,r,i){var o,a,s=1+7*(t-1)+(7+n-r)%7+J(e,r,i);return s<=0?a=W(o=e-1)+s:s>W(e)?(o=e+1,a=s-W(e)):(o=e,a=s),{year:o,dayOfYear:a}}function ee(e,t,n){var r,i,o=J(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?r=a+te(i=e.year()-1,t,n):a>te(e.year(),t,n)?(r=a-te(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function te(e,t,n){var r=J(e,t,n),i=J(e+1,t,n);return(W(e)-r+i)/7}function ne(e,t){return e.slice(t,7).concat(e.slice(0,t))}function re(){function e(e,t){return t.length-e.length}var t,n,r,i,o,a=[],s=[],l=[],c=[];for(t=0;t<7;t++)n=d([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),l.push(o),c.push(r),c.push(i),c.push(o);for(a.sort(e),s.sort(e),l.sort(e),c.sort(e),t=0;t<7;t++)s[t]=z(s[t]),l[t]=z(l[t]),c[t]=z(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function ie(){return this.hours()%12||12}function oe(e,t){I(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function ae(e,t){return t._meridiemParse}function se(e){return e?e.toLowerCase().replace("_","-"):e}function le(n){var r=null;if(!sn[n]&&void 0!==t&&t&&t.exports)try{r=rn._abbr,e("./locale/"+n),ce(r)}catch(e){}return sn[n]}function ce(e,t){var n;return e&&((n=o(t)?de(e):ue(e,t))?rn=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),rn._abbr}function ue(e,t){if(null!==t){var n,r=an;if(t.abbr=e,null!=sn[e])S("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=sn[e]._config;else if(null!=t.parentLocale)if(null!=sn[t.parentLocale])r=sn[t.parentLocale]._config;else{if(null==(n=le(t.parentLocale)))return ln[t.parentLocale]||(ln[t.parentLocale]=[]),ln[t.parentLocale].push({name:e,config:t}),null;r=n._config}return sn[e]=new A(E(r,t)),ln[e]&&ln[e].forEach(function(e){ue(e.name,e.config)}),ce(e),sn[e]}return delete sn[e],null}function de(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return rn;if(!r(e)){if(t=le(e))return t;e=[e]}return function(e){for(var t,n,r,i,o=0;o<e.length;){for(t=(i=se(e[o]).split("-")).length,n=(n=se(e[o+1]))?n.split("-"):null;t>0;){if(r=le(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&b(i,n,!0)>=t-1)break;t--}o++}return rn}(e)}function he(e){var t,n=e._a;return n&&-2===h(e).overflow&&(t=n[Rt]<0||n[Rt]>11?Rt:n[qt]<1||n[qt]>V(n[Nt],n[Rt])?qt:n[zt]<0||n[zt]>24||24===n[zt]&&(0!==n[Ft]||0!==n[jt]||0!==n[Bt])?zt:n[Ft]<0||n[Ft]>59?Ft:n[jt]<0||n[jt]>59?jt:n[Bt]<0||n[Bt]>999?Bt:-1,h(e)._overflowDayOfYear&&(t<Nt||t>qt)&&(t=qt),h(e)._overflowWeeks&&-1===t&&(t=Wt),h(e)._overflowWeekday&&-1===t&&(t=Ut),h(e).overflow=t),e}function fe(e,t,n){return null!=e?e:null!=t?t:n}function pe(e){var t=new Date(n.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function me(e){var t,n,r,i,o,a=[];if(!e._d){for(r=pe(e),e._w&&null==e._a[qt]&&null==e._a[Rt]&&function(e){var t,n,r,i,o,a,s,l;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)o=1,a=4,n=fe(t.GG,e._a[Nt],ee(Se(),1,4).year),r=fe(t.W,1),((i=fe(t.E,1))<1||i>7)&&(l=!0);else{o=e._locale._week.dow,a=e._locale._week.doy;var c=ee(Se(),o,a);n=fe(t.gg,e._a[Nt],c.year),r=fe(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(l=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(l=!0)):i=o}r<1||r>te(n,o,a)?h(e)._overflowWeeks=!0:null!=l?h(e)._overflowWeekday=!0:(s=Q(n,r,i,o,a),e._a[Nt]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(o=fe(e._a[Nt],r[Nt]),(e._dayOfYear>W(o)||0===e._dayOfYear)&&(h(e)._overflowDayOfYear=!0),n=$(o,0,e._dayOfYear),e._a[Rt]=n.getUTCMonth(),e._a[qt]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=r[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[zt]&&0===e._a[Ft]&&0===e._a[jt]&&0===e._a[Bt]&&(e._nextDay=!0,e._a[zt]=0),e._d=(e._useUTC?$:function(e,t,n,r,i,o,a){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,i,o,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,o,a),s}).apply(null,a),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[zt]=24),e._w&&void 0!==e._w.d&&e._w.d!==i&&(h(e).weekdayMismatch=!0)}}function ve(e){var t,n,r,i,o,a,s=e._i,l=cn.exec(s)||un.exec(s);if(l){for(h(e).iso=!0,t=0,n=hn.length;t<n;t++)if(hn[t][1].exec(l[1])){i=hn[t][0],r=!1!==hn[t][2];break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=fn.length;t<n;t++)if(fn[t][1].exec(l[3])){o=(l[2]||" ")+fn[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(l[4]){if(!dn.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),_e(e)}else e._isValid=!1}function ge(e,t,n,r,i,o){var a=[function(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}(e),Xt.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&a.push(parseInt(o,10)),a}function ye(e){var t=mn.exec(function(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}(e._i));if(t){var n=ge(t[4],t[3],t[2],t[5],t[6],t[7]);if(!function(e,t,n){return!e||Jt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(h(n).weekdayMismatch=!0,n._isValid=!1,!1)}(t[1],n,e))return;e._a=n,e._tzm=function(e,t,n){if(e)return vn[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}(t[8],t[9],t[10]),e._d=$.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),h(e).rfc2822=!0}else e._isValid=!1}function _e(e){if(e._f!==n.ISO_8601)if(e._f!==n.RFC_2822){e._a=[],h(e).empty=!0;var t,r,i,o,a,s=""+e._i,l=s.length,c=0;for(i=N(e._f,e._locale).match(ft)||[],t=0;t<i.length;t++)o=i[t],(r=(s.match(q(o,e))||[])[0])&&((a=s.substr(0,s.indexOf(r))).length>0&&h(e).unusedInput.push(a),s=s.slice(s.indexOf(r)+r.length),c+=r.length),vt[o]?(r?h(e).empty=!1:h(e).unusedTokens.push(o),B(o,r,e)):e._strict&&!r&&h(e).unusedTokens.push(o);h(e).charsLeftOver=l-c,s.length>0&&h(e).unusedInput.push(s),e._a[zt]<=12&&!0===h(e).bigHour&&e._a[zt]>0&&(h(e).bigHour=void 0),h(e).parsedDateParts=e._a.slice(0),h(e).meridiem=e._meridiem,e._a[zt]=function(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}(e._locale,e._a[zt],e._meridiem),me(e),he(e)}else ye(e);else ve(e)}function be(e){var t=e._i,n=e._f;return e._locale=e._locale||de(e._l),null===t||void 0===n&&""===t?p({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),g(t)?new v(he(t)):(s(t)?e._d=t:r(n)?function(e){var t,n,r,i,o;if(0===e._f.length)return h(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,t=m({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],_e(t),f(t)&&(o+=h(t).charsLeftOver,o+=10*h(t).unusedTokens.length,h(t).score=o,(null==r||o<r)&&(r=o,n=t));u(e,n||t)}(e):n?_e(e):we(e),f(e)||(e._d=null),e))}function we(e){var t=e._i;o(t)?e._d=new Date(n.now()):s(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=pn.exec(e._i);null===t?(ve(e),!1===e._isValid&&(delete e._isValid,ye(e),!1===e._isValid&&(delete e._isValid,n.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):r(t)?(e._a=l(t.slice(0),function(e){return parseInt(e,10)}),me(e)):i(t)?function(e){if(!e._d){var t=C(e._i);e._a=l([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),me(e)}}(e):a(t)?e._d=new Date(t):n.createFromInputFallback(e)}function xe(e,t,n,o,a){var s={};return!0!==n&&!1!==n||(o=n,n=void 0),(i(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||r(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=a,s._l=n,s._i=e,s._f=t,s._strict=o,function(e){var t=new v(he(be(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}(s)}function Se(e,t,n,r){return xe(e,t,n,r,!1)}function Te(e,t){var n,i;if(1===t.length&&r(t[0])&&(t=t[0]),!t.length)return Se();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}function Ee(e){var t=C(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,a=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Ht.call(_n,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<_n.length;++r)if(e[_n[r]]){if(n)return!1;parseFloat(e[_n[r]])!==_(e[_n[r]])&&(n=!0)}return!0}(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=de(),this._bubble()}function Ae(e){return e instanceof Ee}function Me(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Le(e,t){I(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+D(~~(e/60),2)+t+D(~~e%60,2)})}function Ce(e,t){var n=(t||"").match(e);if(null===n)return null;var r=((n[n.length-1]||[])+"").match(bn)||["-",0,0],i=60*r[1]+_(r[2]);return 0===i?0:"+"===r[0]?i:-i}function ke(e,t){var r,i;return t._isUTC?(r=t.clone(),i=(g(e)||s(e)?e.valueOf():Se(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),n.updateOffset(r,!1),r):Se(e).local()}function De(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Ie(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Oe(e,t){var n,r,i,o=e,s=null;return Ae(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:a(e)?(o={},t?o[t]=e:o.milliseconds=e):(s=wn.exec(e))?(n="-"===s[1]?-1:1,o={y:0,d:_(s[qt])*n,h:_(s[zt])*n,m:_(s[Ft])*n,s:_(s[jt])*n,ms:_(Me(1e3*s[Bt]))*n}):(s=xn.exec(e))?(n="-"===s[1]?-1:1,o={y:Pe(s[2],n),M:Pe(s[3],n),w:Pe(s[4],n),d:Pe(s[5],n),h:Pe(s[6],n),m:Pe(s[7],n),s:Pe(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=function(e,t){var n;return e.isValid()&&t.isValid()?(t=ke(t,e),e.isBefore(t)?n=Ne(e,t):((n=Ne(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(Se(o.from),Se(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),r=new Ee(o),Ae(e)&&c(e,"_locale")&&(r._locale=e._locale),r}function Pe(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ne(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Re(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(S(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),qe(this,Oe(n="string"==typeof n?+n:n,r),e),this}}function qe(e,t,r,i){var o=t._milliseconds,a=Me(t._days),s=Me(t._months);e.isValid()&&(i=null==i||i,s&&X(e,Y(e,"Month")+s*r),a&&G(e,"Date",Y(e,"Date")+a*r),o&&e._d.setTime(e._d.valueOf()+o*r),i&&n.updateOffset(e,a||s))}function ze(e,t){var n,r=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(r,"months");return t-i<0?n=(t-i)/(i-e.clone().add(r-1,"months")):n=(t-i)/(e.clone().add(r+1,"months")-i),-(r+n)||0}function Fe(e){var t;return void 0===e?this._locale._abbr:(null!=(t=de(e))&&(this._locale=t),this)}function je(){return this._locale}function Be(e,t){return(e%t+t)%t}function We(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-Cn:new Date(e,t,n).valueOf()}function Ue(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-Cn:Date.UTC(e,t,n)}function He(e,t){I(0,[e,e.length],0,t)}function Ye(e,t,n,r,i){var o;return null==e?ee(this,r,i).year:(t>(o=te(e,r,i))&&(t=o),function(e,t,n,r,i){var o=Q(e,t,n,r,i),a=$(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,e,t,n,r,i))}function Ge(e,t){t[Bt]=_(1e3*("0."+e))}function Ve(e){return e}function Xe(e,t,n,r){var i=de(),o=d().set(r,t);return i[n](o,e)}function Ke(e,t,n){if(a(e)&&(t=e,e=void 0),e=e||"",null!=t)return Xe(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Xe(e,r,n,"month");return i}function Ze(e,t,n,r){"boolean"==typeof e?(a(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,a(t)&&(n=t,t=void 0),t=t||"");var i=de(),o=e?i._week.dow:0;if(null!=n)return Xe(t,(n+o)%7,r,"day");var s,l=[];for(s=0;s<7;s++)l[s]=Xe(t,(s+o)%7,r,"day");return l}function $e(e,t,n,r){var i=Oe(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Je(e){return e<0?Math.floor(e):Math.ceil(e)}function Qe(e){return 4800*e/146097}function et(e){return 146097*e/4800}function tt(e){return function(){return this.as(e)}}function nt(e){return function(){return this.isValid()?this._data[e]:NaN}}function rt(e){return(e>0)-(e<0)||+e}function it(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=nr(this._milliseconds)/1e3,r=nr(this._days),i=nr(this._months);t=y((e=y(n/60))/60),n%=60,e%=60;var o=y(i/12),a=i%=12,s=r,l=t,c=e,u=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var h=d<0?"-":"",f=rt(this._months)!==rt(d)?"-":"",p=rt(this._days)!==rt(d)?"-":"",m=rt(this._milliseconds)!==rt(d)?"-":"";return h+"P"+(o?f+o+"Y":"")+(a?f+a+"M":"")+(s?p+s+"D":"")+(l||c||u?"T":"")+(l?m+l+"H":"")+(c?m+c+"M":"")+(u?m+u+"S":"")}var ot,at;at=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var st,lt=n.momentProperties=[],ct=!1,ut={};n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,st=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)c(e,t)&&n.push(t);return n};var dt={},ht={},ft=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,pt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,mt={},vt={},gt=/\d/,yt=/\d\d/,_t=/\d{3}/,bt=/\d{4}/,wt=/[+-]?\d{6}/,xt=/\d\d?/,St=/\d\d\d\d?/,Tt=/\d\d\d\d\d\d?/,Et=/\d{1,3}/,At=/\d{1,4}/,Mt=/[+-]?\d{1,6}/,Lt=/\d+/,Ct=/[+-]?\d+/,kt=/Z|[+-]\d\d:?\d\d/gi,Dt=/Z|[+-]\d\d(?::?\d\d)?/gi,It=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ot={},Pt={},Nt=0,Rt=1,qt=2,zt=3,Ft=4,jt=5,Bt=6,Wt=7,Ut=8;I("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),I(0,["YY",2],0,function(){return this.year()%100}),I(0,["YYYY",4],0,"year"),I(0,["YYYYY",5],0,"year"),I(0,["YYYYYY",6,!0],0,"year"),M("year","y"),k("year",1),R("Y",Ct),R("YY",xt,yt),R("YYYY",At,bt),R("YYYYY",Mt,wt),R("YYYYYY",Mt,wt),F(["YYYYY","YYYYYY"],Nt),F("YYYY",function(e,t){t[Nt]=2===e.length?n.parseTwoDigitYear(e):_(e)}),F("YY",function(e,t){t[Nt]=n.parseTwoDigitYear(e)}),F("Y",function(e,t){t[Nt]=parseInt(e,10)}),n.parseTwoDigitYear=function(e){return _(e)+(_(e)>68?1900:2e3)};var Ht,Yt=H("FullYear",!0);Ht=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},I("M",["MM",2],"Mo",function(){return this.month()+1}),I("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),I("MMMM",0,0,function(e){return this.localeData().months(this,e)}),M("month","M"),k("month",8),R("M",xt),R("MM",xt,yt),R("MMM",function(e,t){return t.monthsShortRegex(e)}),R("MMMM",function(e,t){return t.monthsRegex(e)}),F(["M","MM"],function(e,t){t[Rt]=_(e)-1}),F(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[Rt]=i:h(n).invalidMonth=e});var Gt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Vt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Xt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Kt=It,Zt=It;I("w",["ww",2],"wo","week"),I("W",["WW",2],"Wo","isoWeek"),M("week","w"),M("isoWeek","W"),k("week",5),k("isoWeek",5),R("w",xt),R("ww",xt,yt),R("W",xt),R("WW",xt,yt),j(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=_(e)});I("d",0,"do","day"),I("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),I("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),I("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),I("e",0,0,"weekday"),I("E",0,0,"isoWeekday"),M("day","d"),M("weekday","e"),M("isoWeekday","E"),k("day",11),k("weekday",11),k("isoWeekday",11),R("d",xt),R("e",xt),R("E",xt),R("dd",function(e,t){return t.weekdaysMinRegex(e)}),R("ddd",function(e,t){return t.weekdaysShortRegex(e)}),R("dddd",function(e,t){return t.weekdaysRegex(e)}),j(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:h(n).invalidWeekday=e}),j(["d","e","E"],function(e,t,n,r){t[r]=_(e)});var $t="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Jt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Qt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),en=It,tn=It,nn=It;I("H",["HH",2],0,"hour"),I("h",["hh",2],0,ie),I("k",["kk",2],0,function(){return this.hours()||24}),I("hmm",0,0,function(){return""+ie.apply(this)+D(this.minutes(),2)}),I("hmmss",0,0,function(){return""+ie.apply(this)+D(this.minutes(),2)+D(this.seconds(),2)}),I("Hmm",0,0,function(){return""+this.hours()+D(this.minutes(),2)}),I("Hmmss",0,0,function(){return""+this.hours()+D(this.minutes(),2)+D(this.seconds(),2)}),oe("a",!0),oe("A",!1),M("hour","h"),k("hour",13),R("a",ae),R("A",ae),R("H",xt),R("h",xt),R("k",xt),R("HH",xt,yt),R("hh",xt,yt),R("kk",xt,yt),R("hmm",St),R("hmmss",Tt),R("Hmm",St),R("Hmmss",Tt),F(["H","HH"],zt),F(["k","kk"],function(e,t,n){var r=_(e);t[zt]=24===r?0:r}),F(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),F(["h","hh"],function(e,t,n){t[zt]=_(e),h(n).bigHour=!0}),F("hmm",function(e,t,n){var r=e.length-2;t[zt]=_(e.substr(0,r)),t[Ft]=_(e.substr(r)),h(n).bigHour=!0}),F("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[zt]=_(e.substr(0,r)),t[Ft]=_(e.substr(r,2)),t[jt]=_(e.substr(i)),h(n).bigHour=!0}),F("Hmm",function(e,t,n){var r=e.length-2;t[zt]=_(e.substr(0,r)),t[Ft]=_(e.substr(r))}),F("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[zt]=_(e.substr(0,r)),t[Ft]=_(e.substr(r,2)),t[jt]=_(e.substr(i))});var rn,on=H("Hours",!0),an={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Vt,monthsShort:Xt,week:{dow:0,doy:6},weekdays:$t,weekdaysMin:Qt,weekdaysShort:Jt,meridiemParse:/[ap]\.?m?\.?/i},sn={},ln={},cn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,un=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,dn=/Z|[+-]\d\d(?::?\d\d)?/,hn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],fn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],pn=/^\/?Date\((\-?\d+)/i,mn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,vn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};n.createFromInputFallback=x("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),n.ISO_8601=function(){},n.RFC_2822=function(){};var gn=x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Se.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:p()}),yn=x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Se.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:p()}),_n=["year","quarter","month","week","day","hour","minute","second","millisecond"];Le("Z",":"),Le("ZZ",""),R("Z",Dt),R("ZZ",Dt),F(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Ce(Dt,e)});var bn=/([\+\-]|\d\d)/gi;n.updateOffset=function(){};var wn=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,xn=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Oe.fn=Ee.prototype,Oe.invalid=function(){return Oe(NaN)};var Sn=Re(1,"add"),Tn=Re(-1,"subtract");n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var En=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)}),An=1e3,Mn=60*An,Ln=60*Mn,Cn=3506328*Ln;I(0,["gg",2],0,function(){return this.weekYear()%100}),I(0,["GG",2],0,function(){return this.isoWeekYear()%100}),He("gggg","weekYear"),He("ggggg","weekYear"),He("GGGG","isoWeekYear"),He("GGGGG","isoWeekYear"),M("weekYear","gg"),M("isoWeekYear","GG"),k("weekYear",1),k("isoWeekYear",1),R("G",Ct),R("g",Ct),R("GG",xt,yt),R("gg",xt,yt),R("GGGG",At,bt),R("gggg",At,bt),R("GGGGG",Mt,wt),R("ggggg",Mt,wt),j(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=_(e)}),j(["gg","GG"],function(e,t,r,i){t[i]=n.parseTwoDigitYear(e)}),I("Q",0,"Qo","quarter"),M("quarter","Q"),k("quarter",7),R("Q",gt),F("Q",function(e,t){t[Rt]=3*(_(e)-1)}),I("D",["DD",2],"Do","date"),M("date","D"),k("date",9),R("D",xt),R("DD",xt,yt),R("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),F(["D","DD"],qt),F("Do",function(e,t){t[qt]=_(e.match(xt)[0])});var kn=H("Date",!0);I("DDD",["DDDD",3],"DDDo","dayOfYear"),M("dayOfYear","DDD"),k("dayOfYear",4),R("DDD",Et),R("DDDD",_t),F(["DDD","DDDD"],function(e,t,n){n._dayOfYear=_(e)}),I("m",["mm",2],0,"minute"),M("minute","m"),k("minute",14),R("m",xt),R("mm",xt,yt),F(["m","mm"],Ft);var Dn=H("Minutes",!1);I("s",["ss",2],0,"second"),M("second","s"),k("second",15),R("s",xt),R("ss",xt,yt),F(["s","ss"],jt);var In,On=H("Seconds",!1);for(I("S",0,0,function(){return~~(this.millisecond()/100)}),I(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),I(0,["SSS",3],0,"millisecond"),I(0,["SSSS",4],0,function(){return 10*this.millisecond()}),I(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),I(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),I(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),I(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),I(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),M("millisecond","ms"),k("millisecond",16),R("S",Et,gt),R("SS",Et,yt),R("SSS",Et,_t),In="SSSS";In.length<=9;In+="S")R(In,Lt);for(In="S";In.length<=9;In+="S")F(In,Ge);var Pn=H("Milliseconds",!1);I("z",0,0,"zoneAbbr"),I("zz",0,0,"zoneName");var Nn=v.prototype;Nn.add=Sn,Nn.calendar=function(e,t){var r=e||Se(),i=ke(r,this).startOf("day"),o=n.calendarFormat(this,i)||"sameElse",a=t&&(T(t[o])?t[o].call(this,r):t[o]);return this.format(a||this.localeData().calendar(o,this,Se(r)))},Nn.clone=function(){return new v(this)},Nn.diff=function(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=ke(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=L(t)){case"year":o=ze(this,r)/12;break;case"month":o=ze(this,r);break;case"quarter":o=ze(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:y(o)},Nn.endOf=function(e){var t;if(void 0===(e=L(e))||"millisecond"===e||!this.isValid())return this;var r=this._isUTC?Ue:We;switch(e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Ln-Be(t+(this._isUTC?0:this.utcOffset()*Mn),Ln)-1;break;case"minute":t=this._d.valueOf(),t+=Mn-Be(t,Mn)-1;break;case"second":t=this._d.valueOf(),t+=An-Be(t,An)-1}return this._d.setTime(t),n.updateOffset(this,!0),this},Nn.format=function(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=P(this,e);return this.localeData().postformat(t)},Nn.from=function(e,t){return this.isValid()&&(g(e)&&e.isValid()||Se(e).isValid())?Oe({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Nn.fromNow=function(e){return this.from(Se(),e)},Nn.to=function(e,t){return this.isValid()&&(g(e)&&e.isValid()||Se(e).isValid())?Oe({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Nn.toNow=function(e){return this.to(Se(),e)},Nn.get=function(e){return T(this[e=L(e)])?this[e]():this},Nn.invalidAt=function(){return h(this).overflow},Nn.isAfter=function(e,t){var n=g(e)?e:Se(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=L(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},Nn.isBefore=function(e,t){var n=g(e)?e:Se(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=L(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},Nn.isBetween=function(e,t,n,r){var i=g(e)?e:Se(e),o=g(t)?t:Se(t);return!!(this.isValid()&&i.isValid()&&o.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n))},Nn.isSame=function(e,t){var n,r=g(e)?e:Se(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=L(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},Nn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},Nn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},Nn.isValid=function(){return f(this)},Nn.lang=En,Nn.locale=Fe,Nn.localeData=je,Nn.max=yn,Nn.min=gn,Nn.parsingFlags=function(){return u({},h(this))},Nn.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:ht[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}(e=C(e)),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit]);else if(T(this[e=L(e)]))return this[e](t);return this},Nn.startOf=function(e){var t;if(void 0===(e=L(e))||"millisecond"===e||!this.isValid())return this;var r=this._isUTC?Ue:We;switch(e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Be(t+(this._isUTC?0:this.utcOffset()*Mn),Ln);break;case"minute":t=this._d.valueOf(),t-=Be(t,Mn);break;case"second":t=this._d.valueOf(),t-=Be(t,An)}return this._d.setTime(t),n.updateOffset(this,!0),this},Nn.subtract=Tn,Nn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},Nn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},Nn.toDate=function(){return new Date(this.valueOf())},Nn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?P(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):T(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",P(n,"Z")):P(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Nn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)},Nn.toJSON=function(){return this.isValid()?this.toISOString():null},Nn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Nn.unix=function(){return Math.floor(this.valueOf()/1e3)},Nn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Nn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Nn.year=Yt,Nn.isLeapYear=function(){return U(this.year())},Nn.weekYear=function(e){return Ye.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Nn.isoWeekYear=function(e){return Ye.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},Nn.quarter=Nn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},Nn.month=K,Nn.daysInMonth=function(){return V(this.year(),this.month())},Nn.week=Nn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},Nn.isoWeek=Nn.isoWeeks=function(e){var t=ee(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},Nn.weeksInYear=function(){var e=this.localeData()._week;return te(this.year(),e.dow,e.doy)},Nn.isoWeeksInYear=function(){return te(this.year(),1,4)},Nn.date=kn,Nn.day=Nn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},Nn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},Nn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},Nn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},Nn.hour=Nn.hours=on,Nn.minute=Nn.minutes=Dn,Nn.second=Nn.seconds=On,Nn.millisecond=Nn.milliseconds=Pn,Nn.utcOffset=function(e,t,r){var i,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Ce(Dt,e)))return this}else Math.abs(e)<16&&!r&&(e*=60);return!this._isUTC&&t&&(i=De(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!t||this._changeInProgress?qe(this,Oe(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:De(this)},Nn.utc=function(e){return this.utcOffset(0,e)},Nn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(De(this),"m")),this},Nn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Ce(kt,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},Nn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Se(e).utcOffset():0,(this.utcOffset()-e)%60==0)},Nn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Nn.isLocal=function(){return!!this.isValid()&&!this._isUTC},Nn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Nn.isUtc=Ie,Nn.isUTC=Ie,Nn.zoneAbbr=function(){return this._isUTC?"UTC":""},Nn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Nn.dates=x("dates accessor is deprecated. Use date instead.",kn),Nn.months=x("months accessor is deprecated. Use month instead",K),Nn.years=x("years accessor is deprecated. Use year instead",Yt),Nn.zone=x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),Nn.isDSTShifted=x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!o(this._isDSTShifted))return this._isDSTShifted;var e={};if(m(e,this),(e=be(e))._a){var t=e._isUTC?d(e._a):Se(e._a);this._isDSTShifted=this.isValid()&&b(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var Rn=A.prototype;Rn.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return T(r)?r.call(t,n):r},Rn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},Rn.invalidDate=function(){return this._invalidDate},Rn.ordinal=function(e){return this._ordinal.replace("%d",e)},Rn.preparse=Ve,Rn.postformat=Ve,Rn.relativeTime=function(e,t,n,r){var i=this._relativeTime[n];return T(i)?i(e,t,n,r):i.replace(/%d/i,e)},Rn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return T(n)?n(t):n.replace(/%s/i,t)},Rn.set=function(e){var t,n;for(n in e)T(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Rn.months=function(e,t){return e?r(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Gt).test(t)?"format":"standalone"][e.month()]:r(this._months)?this._months:this._months.standalone},Rn.monthsShort=function(e,t){return e?r(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Gt.test(t)?"format":"standalone"][e.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Rn.monthsParse=function(e,t,n){var r,i,o;if(this._monthsParseExact)return function(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=d([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Ht.call(this._shortMonthsParse,a))?i:null:-1!==(i=Ht.call(this._longMonthsParse,a))?i:null:"MMM"===t?-1!==(i=Ht.call(this._shortMonthsParse,a))?i:-1!==(i=Ht.call(this._longMonthsParse,a))?i:null:-1!==(i=Ht.call(this._longMonthsParse,a))?i:-1!==(i=Ht.call(this._shortMonthsParse,a))?i:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=d([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},Rn.monthsRegex=function(e){return this._monthsParseExact?(c(this,"_monthsRegex")||Z.call(this),e?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=Zt),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},Rn.monthsShortRegex=function(e){return this._monthsParseExact?(c(this,"_monthsRegex")||Z.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=Kt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},Rn.week=function(e){return ee(e,this._week.dow,this._week.doy).week},Rn.firstDayOfYear=function(){return this._week.doy},Rn.firstDayOfWeek=function(){return this._week.dow},Rn.weekdays=function(e,t){var n=r(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?ne(n,this._week.dow):e?n[e.day()]:n},Rn.weekdaysMin=function(e){return!0===e?ne(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},Rn.weekdaysShort=function(e){return!0===e?ne(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},Rn.weekdaysParse=function(e,t,n){var r,i,o;if(this._weekdaysParseExact)return function(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=d([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Ht.call(this._weekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Ht.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=Ht.call(this._minWeekdaysParse,a))?i:null:"dddd"===t?-1!==(i=Ht.call(this._weekdaysParse,a))?i:-1!==(i=Ht.call(this._shortWeekdaysParse,a))?i:-1!==(i=Ht.call(this._minWeekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Ht.call(this._shortWeekdaysParse,a))?i:-1!==(i=Ht.call(this._weekdaysParse,a))?i:-1!==(i=Ht.call(this._minWeekdaysParse,a))?i:null:-1!==(i=Ht.call(this._minWeekdaysParse,a))?i:-1!==(i=Ht.call(this._weekdaysParse,a))?i:-1!==(i=Ht.call(this._shortWeekdaysParse,a))?i:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=d([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},Rn.weekdaysRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||re.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=en),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},Rn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||re.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=tn),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Rn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||re.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=nn),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Rn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},Rn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},ce("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===_(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),n.lang=x("moment.lang is deprecated. Use moment.locale instead.",ce),n.langData=x("moment.langData is deprecated. Use moment.localeData instead.",de);var qn=Math.abs,zn=tt("ms"),Fn=tt("s"),jn=tt("m"),Bn=tt("h"),Wn=tt("d"),Un=tt("w"),Hn=tt("M"),Yn=tt("Q"),Gn=tt("y"),Vn=nt("milliseconds"),Xn=nt("seconds"),Kn=nt("minutes"),Zn=nt("hours"),$n=nt("days"),Jn=nt("months"),Qn=nt("years"),er=Math.round,tr={ss:44,s:45,m:45,h:22,d:26,M:11},nr=Math.abs,rr=Ee.prototype;return rr.isValid=function(){return this._isValid},rr.abs=function(){var e=this._data;return this._milliseconds=qn(this._milliseconds),this._days=qn(this._days),this._months=qn(this._months),e.milliseconds=qn(e.milliseconds),e.seconds=qn(e.seconds),e.minutes=qn(e.minutes),e.hours=qn(e.hours),e.months=qn(e.months),e.years=qn(e.years),this},rr.add=function(e,t){return $e(this,e,t,1)},rr.subtract=function(e,t){return $e(this,e,t,-1)},rr.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=L(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Qe(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(et(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},rr.asMilliseconds=zn,rr.asSeconds=Fn,rr.asMinutes=jn,rr.asHours=Bn,rr.asDays=Wn,rr.asWeeks=Un,rr.asMonths=Hn,rr.asQuarters=Yn,rr.asYears=Gn,rr.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12):NaN},rr._bubble=function(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*Je(et(s)+a),a=0,s=0),l.milliseconds=o%1e3,e=y(o/1e3),l.seconds=e%60,t=y(e/60),l.minutes=t%60,n=y(t/60),l.hours=n%24,s+=i=y(Qe(a+=y(n/24))),a-=Je(et(i)),r=y(s/12),s%=12,l.days=a,l.months=s,l.years=r,this},rr.clone=function(){return Oe(this)},rr.get=function(e){return e=L(e),this.isValid()?this[e+"s"]():NaN},rr.milliseconds=Vn,rr.seconds=Xn,rr.minutes=Kn,rr.hours=Zn,rr.days=$n,rr.weeks=function(){return y(this.days()/7)},rr.months=Jn,rr.years=Qn,rr.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var r=Oe(e).abs(),i=er(r.as("s")),o=er(r.as("m")),a=er(r.as("h")),s=er(r.as("d")),l=er(r.as("M")),c=er(r.as("y")),u=i<=tr.ss&&["s",i]||i<tr.s&&["ss",i]||o<=1&&["m"]||o<tr.m&&["mm",o]||a<=1&&["h"]||a<tr.h&&["hh",a]||s<=1&&["d"]||s<tr.d&&["dd",s]||l<=1&&["M"]||l<tr.M&&["MM",l]||c<=1&&["y"]||["yy",c];return u[2]=t,u[3]=+e>0,u[4]=n,function(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}.apply(null,u)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},rr.toISOString=it,rr.toString=it,rr.toJSON=it,rr.locale=Fe,rr.localeData=je,rr.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",it),rr.lang=En,I("X",0,0,"unix"),I("x",0,0,"valueOf"),R("x",Ct),R("X",/[+-]?\d+(\.\d{1,3})?/),F("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),F("x",function(e,t,n){n._d=new Date(_(e))}),n.version="2.24.0",ot=Se,n.fn=Nn,n.min=function(){return Te("isBefore",[].slice.call(arguments,0))},n.max=function(){return Te("isAfter",[].slice.call(arguments,0))},n.now=function(){return Date.now?Date.now():+new Date},n.utc=d,n.unix=function(e){return Se(1e3*e)},n.months=function(e,t){return Ke(e,t,"months")},n.isDate=s,n.locale=ce,n.invalid=p,n.duration=Oe,n.isMoment=g,n.weekdays=function(e,t,n){return Ze(e,t,n,"weekdays")},n.parseZone=function(){return Se.apply(null,arguments).parseZone()},n.localeData=de,n.isDuration=Ae,n.monthsShort=function(e,t){return Ke(e,t,"monthsShort")},n.weekdaysMin=function(e,t,n){return Ze(e,t,n,"weekdaysMin")},n.defineLocale=ue,n.updateLocale=function(e,t){if(null!=t){var n,r,i=an;null!=(r=le(e))&&(i=r._config),(n=new A(t=E(i,t))).parentLocale=sn[e],sn[e]=n,ce(e)}else null!=sn[e]&&(null!=sn[e].parentLocale?sn[e]=sn[e].parentLocale:null!=sn[e]&&delete sn[e]);return sn[e]},n.locales=function(){return st(sn)},n.weekdaysShort=function(e,t,n){return Ze(e,t,n,"weekdaysShort")},n.normalizeUnits=L,n.relativeTimeRounding=function(e){return void 0===e?er:"function"==typeof e&&(er=e,!0)},n.relativeTimeThreshold=function(e,t){return void 0!==tr[e]&&(void 0===t?tr[e]:(tr[e]=t,"s"===e&&(tr.ss=t-1),!0))},n.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},n.prototype=Nn,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n})},{}],19:[function(e,t,n){!function(r,i){"use strict";var o;if("object"==typeof n){try{o=e("moment")}catch(e){}t.exports=i(o)}else"function"==typeof define&&define.amd?define(function(e){try{o=e("moment")}catch(e){}return i(o)}):r.Pikaday=i(r.moment)}(this,function(e){"use strict";var t="function"==typeof e,n=!!window.addEventListener,r=window.document,i=window.setTimeout,o=function(e,t,r,i){n?e.addEventListener(t,r,!!i):e.attachEvent("on"+t,r)},a=function(e,t,r,i){n?e.removeEventListener(t,r,!!i):e.detachEvent("on"+t,r)},s=function(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")},l=function(e,t){s(e,t)||(e.className=""===e.className?t:e.className+" "+t)},c=function(e,t){e.className=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}((" "+e.className+" ").replace(" "+t+" "," "))},u=function(e){return/Array/.test(Object.prototype.toString.call(e))},d=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},h=function(e){var t=e.getDay();return 0===t||6===t},f=function(e,t){return[31,function(e){return e%4==0&&e%100!=0||e%400==0}(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},p=function(e){d(e)&&e.setHours(0,0,0,0)},m=function(e,t){return e.getTime()===t.getTime()},v=function(e,t,n){var r,i;for(r in t)(i=void 0!==e[r])&&"object"==typeof t[r]&&null!==t[r]&&void 0===t[r].nodeName?d(t[r])?n&&(e[r]=new Date(t[r].getTime())):u(t[r])?n&&(e[r]=t[r].slice(0)):e[r]=v({},t[r],n):!n&&i||(e[r]=t[r]);return e},g=function(e,t,n){var i;r.createEvent?((i=r.createEvent("HTMLEvents")).initEvent(t,!0,!1),i=v(i,n),e.dispatchEvent(i)):r.createEventObject&&(i=r.createEventObject(),i=v(i,n),e.fireEvent("on"+t,i))},y=function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e},_={field:null,bound:void 0,ariaLabel:"Use the arrow keys to pick a date",position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null,keyboardInput:!0},b=function(e,t,n){for(t+=e.firstDay;t>=7;)t-=7;return n?e.i18n.weekdaysShort[t]:e.i18n.weekdays[t]},w=function(e){var t=[],n="false";if(e.isEmpty){if(!e.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';t.push("is-outside-current-month"),e.enableSelectionDaysInNextAndPreviousMonths||t.push("is-selection-disabled")}return e.isDisabled&&t.push("is-disabled"),e.isToday&&t.push("is-today"),e.isSelected&&(t.push("is-selected"),n="true"),e.hasEvent&&t.push("has-event"),e.isInRange&&t.push("is-inrange"),e.isStartRange&&t.push("is-startrange"),e.isEndRange&&t.push("is-endrange"),'<td data-day="'+e.day+'" class="'+t.join(" ")+'" aria-selected="'+n+'"><button class="pika-button pika-day" type="button" data-pika-year="'+e.year+'" data-pika-month="'+e.month+'" data-pika-day="'+e.day+'">'+e.day+"</button></td>"},x=function(e,t,n){var r=new Date(n,0,1);return'<td class="pika-week">'+Math.ceil(((new Date(n,t,e)-r)/864e5+r.getDay()+1)/7)+"</td>"},S=function(e,t,n,r){return'<tr class="pika-row'+(n?" pick-whole-week":"")+(r?" is-selected":"")+'">'+(t?e.reverse():e).join("")+"</tr>"},T=function(e,t,n,r,i,o){var a,s,l,c,d,h=e._o,f=n===h.minYear,p=n===h.maxYear,m='<div id="'+o+'" class="pika-title" role="heading" aria-live="assertive">',v=!0,g=!0;for(l=[],a=0;a<12;a++)l.push('<option value="'+(n===i?a-t:12+a-t)+'"'+(a===r?' selected="selected"':"")+(f&&a<h.minMonth||p&&a>h.maxMonth?'disabled="disabled"':"")+">"+h.i18n.months[a]+"</option>");for(c='<div class="pika-label">'+h.i18n.months[r]+'<select class="pika-select pika-select-month" tabindex="-1">'+l.join("")+"</select></div>",u(h.yearRange)?(a=h.yearRange[0],s=h.yearRange[1]+1):(a=n-h.yearRange,s=1+n+h.yearRange),l=[];a<s&&a<=h.maxYear;a++)a>=h.minYear&&l.push('<option value="'+a+'"'+(a===n?' selected="selected"':"")+">"+a+"</option>");return d='<div class="pika-label">'+n+h.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+l.join("")+"</select></div>",h.showMonthAfterYear?m+=d+c:m+=c+d,f&&(0===r||h.minMonth>=r)&&(v=!1),p&&(11===r||h.maxMonth<=r)&&(g=!1),0===t&&(m+='<button class="pika-prev'+(v?"":" is-disabled")+'" type="button">'+h.i18n.previousMonth+"</button>"),t===e._o.numberOfMonths-1&&(m+='<button class="pika-next'+(g?"":" is-disabled")+'" type="button">'+h.i18n.nextMonth+"</button>"),m+"</div>"},E=function(e,t,n){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+n+'">'+function(e){var t,n=[];for(e.showWeekNumber&&n.push("<th></th>"),t=0;t<7;t++)n.push('<th scope="col"><abbr title="'+b(e,t)+'">'+b(e,t,!0)+"</abbr></th>");return"<thead><tr>"+(e.isRTL?n.reverse():n).join("")+"</tr></thead>"}(e)+function(e){return"<tbody>"+e.join("")+"</tbody>"}(t)+"</table>"},A=function(a){var l=this,c=l.config(a);l._onMouseDown=function(e){if(l._v){var t=(e=e||window.event).target||e.srcElement;if(t)if(s(t,"is-disabled")||(!s(t,"pika-button")||s(t,"is-empty")||s(t.parentNode,"is-disabled")?s(t,"pika-prev")?l.prevMonth():s(t,"pika-next")&&l.nextMonth():(l.setDate(new Date(t.getAttribute("data-pika-year"),t.getAttribute("data-pika-month"),t.getAttribute("data-pika-day"))),c.bound&&i(function(){l.hide(),c.blurFieldOnSelect&&c.field&&c.field.blur()},100))),s(t,"pika-select"))l._c=!0;else{if(!e.preventDefault)return e.returnValue=!1,!1;e.preventDefault()}}},l._onChange=function(e){var t=(e=e||window.event).target||e.srcElement;t&&(s(t,"pika-select-month")?l.gotoMonth(t.value):s(t,"pika-select-year")&&l.gotoYear(t.value))},l._onKeyChange=function(e){if(e=e||window.event,l.isVisible())switch(e.keyCode){case 13:case 27:c.field&&c.field.blur();break;case 37:e.preventDefault(),l.adjustDate("subtract",1);break;case 38:l.adjustDate("subtract",7);break;case 39:l.adjustDate("add",1);break;case 40:l.adjustDate("add",7)}},l._onInputChange=function(n){var r;n.firedBy!==l&&(c.parse?r=c.parse(c.field.value,c.format):t?r=(r=e(c.field.value,c.format,c.formatStrict))&&r.isValid()?r.toDate():null:r=new Date(Date.parse(c.field.value)),d(r)&&l.setDate(r),l._v||l.show())},l._onInputFocus=function(){l.show()},l._onInputClick=function(){l.show()},l._onInputBlur=function(){var e=r.activeElement;do{if(s(e,"pika-single"))return}while(e=e.parentNode);l._c||(l._b=i(function(){l.hide()},50)),l._c=!1},l._onClick=function(e){var t=(e=e||window.event).target||e.srcElement,r=t;if(t){!n&&s(t,"pika-select")&&(t.onchange||(t.setAttribute("onchange","return;"),o(t,"change",l._onChange)));do{if(s(r,"pika-single")||r===c.trigger)return}while(r=r.parentNode);l._v&&t!==c.trigger&&r!==c.trigger&&l.hide()}},l.el=r.createElement("div"),l.el.className="pika-single"+(c.isRTL?" is-rtl":"")+(c.theme?" "+c.theme:""),o(l.el,"mousedown",l._onMouseDown,!0),o(l.el,"touchend",l._onMouseDown,!0),o(l.el,"change",l._onChange),c.keyboardInput&&o(r,"keydown",l._onKeyChange),c.field&&(c.container?c.container.appendChild(l.el):c.bound?r.body.appendChild(l.el):c.field.parentNode.insertBefore(l.el,c.field.nextSibling),o(c.field,"change",l._onInputChange),c.defaultDate||(t&&c.field.value?c.defaultDate=e(c.field.value,c.format).toDate():c.defaultDate=new Date(Date.parse(c.field.value)),c.setDefaultDate=!0));var u=c.defaultDate;d(u)?c.setDefaultDate?l.setDate(u,!0):l.gotoDate(u):l.gotoDate(new Date),c.bound?(this.hide(),l.el.className+=" is-bound",o(c.trigger,"click",l._onInputClick),o(c.trigger,"focus",l._onInputFocus),o(c.trigger,"blur",l._onInputBlur)):this.show()};return A.prototype={config:function(e){this._o||(this._o=v({},_,!0));var t=v(this._o,e,!0);t.isRTL=!!t.isRTL,t.field=t.field&&t.field.nodeName?t.field:null,t.theme="string"==typeof t.theme&&t.theme?t.theme:null,t.bound=!!(void 0!==t.bound?t.field&&t.bound:t.field),t.trigger=t.trigger&&t.trigger.nodeName?t.trigger:t.field,t.disableWeekends=!!t.disableWeekends,t.disableDayFn="function"==typeof t.disableDayFn?t.disableDayFn:null;var n=parseInt(t.numberOfMonths,10)||1;if(t.numberOfMonths=n>4?4:n,d(t.minDate)||(t.minDate=!1),d(t.maxDate)||(t.maxDate=!1),t.minDate&&t.maxDate&&t.maxDate<t.minDate&&(t.maxDate=t.minDate=!1),t.minDate&&this.setMinDate(t.minDate),t.maxDate&&this.setMaxDate(t.maxDate),u(t.yearRange)){var r=(new Date).getFullYear()-10;t.yearRange[0]=parseInt(t.yearRange[0],10)||r,t.yearRange[1]=parseInt(t.yearRange[1],10)||r}else t.yearRange=Math.abs(parseInt(t.yearRange,10))||_.yearRange,t.yearRange>100&&(t.yearRange=100);return t},toString:function(n){return n=n||this._o.format,d(this._d)?this._o.toString?this._o.toString(this._d,n):t?e(this._d).format(n):this._d.toDateString():""},getMoment:function(){return t?e(this._d):null},setMoment:function(n,r){t&&e.isMoment(n)&&this.setDate(n.toDate(),r)},getDate:function(){return d(this._d)?new Date(this._d.getTime()):null},setDate:function(e,t){if(!e)return this._d=null,this._o.field&&(this._o.field.value="",g(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof e&&(e=new Date(Date.parse(e))),d(e)){var n=this._o.minDate,r=this._o.maxDate;d(n)&&e<n?e=n:d(r)&&e>r&&(e=r),this._d=new Date(e.getTime()),p(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),g(this._o.field,"change",{firedBy:this})),t||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(e){var t=!0;if(d(e)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),r=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),i=e.getTime();r.setMonth(r.getMonth()+1),r.setDate(r.getDate()-1),t=i<n.getTime()||r.getTime()<i}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(e,t){var n,r=this.getDate()||new Date,i=24*parseInt(t)*60*60*1e3;"add"===e?n=new Date(r.valueOf()+i):"subtract"===e&&(n=new Date(r.valueOf()-i)),this.setDate(n)},adjustCalendars:function(){this.calendars[0]=y(this.calendars[0]);for(var e=1;e<this._o.numberOfMonths;e++)this.calendars[e]=y({month:this.calendars[0].month+e,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())},setMinDate:function(e){e instanceof Date?(p(e),this._o.minDate=e,this._o.minYear=e.getFullYear(),this._o.minMonth=e.getMonth()):(this._o.minDate=_.minDate,this._o.minYear=_.minYear,this._o.minMonth=_.minMonth,this._o.startRange=_.startRange),this.draw()},setMaxDate:function(e){e instanceof Date?(p(e),this._o.maxDate=e,this._o.maxYear=e.getFullYear(),this._o.maxMonth=e.getMonth()):(this._o.maxDate=_.maxDate,this._o.maxYear=_.maxYear,this._o.maxMonth=_.maxMonth,this._o.endRange=_.endRange),this.draw()},setStartRange:function(e){this._o.startRange=e},setEndRange:function(e){this._o.endRange=e},draw:function(e){if(this._v||e){var t,n=this._o,r=n.minYear,o=n.maxYear,a=n.minMonth,s=n.maxMonth,l="";this._y<=r&&(this._y=r,!isNaN(a)&&this._m<a&&(this._m=a)),this._y>=o&&(this._y=o,!isNaN(s)&&this._m>s&&(this._m=s)),t="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var c=0;c<n.numberOfMonths;c++)l+='<div class="pika-lendar">'+T(this,c,this.calendars[c].year,this.calendars[c].month,this.calendars[0].year,t)+this.render(this.calendars[c].year,this.calendars[c].month,t)+"</div>";this.el.innerHTML=l,n.bound&&"hidden"!==n.field.type&&i(function(){n.trigger.focus()},1),"function"==typeof this._o.onDraw&&this._o.onDraw(this),n.bound&&n.field.setAttribute("aria-label",n.ariaLabel)}},adjustPosition:function(){var e,t,n,i,o,a,s,u,d,h,f,p;if(!this._o.container){if(this.el.style.position="absolute",t=e=this._o.trigger,n=this.el.offsetWidth,i=this.el.offsetHeight,o=window.innerWidth||r.documentElement.clientWidth,a=window.innerHeight||r.documentElement.clientHeight,s=window.pageYOffset||r.body.scrollTop||r.documentElement.scrollTop,f=!0,p=!0,"function"==typeof e.getBoundingClientRect)u=(h=e.getBoundingClientRect()).left+window.pageXOffset,d=h.bottom+window.pageYOffset;else for(u=t.offsetLeft,d=t.offsetTop+t.offsetHeight;t=t.offsetParent;)u+=t.offsetLeft,d+=t.offsetTop;(this._o.reposition&&u+n>o||this._o.position.indexOf("right")>-1&&u-n+e.offsetWidth>0)&&(u=u-n+e.offsetWidth,f=!1),(this._o.reposition&&d+i>a+s||this._o.position.indexOf("top")>-1&&d-i-e.offsetHeight>0)&&(d=d-i-e.offsetHeight,p=!1),this.el.style.left=u+"px",this.el.style.top=d+"px",l(this.el,f?"left-aligned":"right-aligned"),l(this.el,p?"bottom-aligned":"top-aligned"),c(this.el,f?"right-aligned":"left-aligned"),c(this.el,p?"top-aligned":"bottom-aligned")}},render:function(e,t,n){var r=this._o,i=new Date,o=f(e,t),a=new Date(e,t,1).getDay(),s=[],l=[];p(i),r.firstDay>0&&(a-=r.firstDay)<0&&(a+=7);for(var c=0===t?11:t-1,u=11===t?0:t+1,v=0===t?e-1:e,g=11===t?e+1:e,y=f(v,c),_=o+a,b=_;b>7;)b-=7;_+=7-b;for(var T=!1,A=0,M=0;A<_;A++){var L=new Date(e,t,A-a+1),C=!!d(this._d)&&m(L,this._d),k=m(L,i),D=-1!==r.events.indexOf(L.toDateString()),I=A<a||A>=o+a,O=A-a+1,P=t,N=e,R=r.startRange&&m(r.startRange,L),q=r.endRange&&m(r.endRange,L),z=r.startRange&&r.endRange&&r.startRange<L&&L<r.endRange,F=r.minDate&&L<r.minDate||r.maxDate&&L>r.maxDate||r.disableWeekends&&h(L)||r.disableDayFn&&r.disableDayFn(L);I&&(A<a?(O=y+O,P=c,N=v):(O-=o,P=u,N=g));var j={day:O,month:P,year:N,hasEvent:D,isSelected:C,isToday:k,isDisabled:F,isEmpty:I,isStartRange:R,isEndRange:q,isInRange:z,showDaysInNextAndPreviousMonths:r.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:r.enableSelectionDaysInNextAndPreviousMonths};r.pickWholeWeek&&C&&(T=!0),l.push(w(j)),7==++M&&(r.showWeekNumber&&l.unshift(x(A-a,t,e)),s.push(S(l,r.isRTL,r.pickWholeWeek,T)),l=[],M=0,T=!1)}return E(r,s,n)},isVisible:function(){return this._v},show:function(){this.isVisible()||(this._v=!0,this.draw(),c(this.el,"is-hidden"),this._o.bound&&(o(r,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var e=this._v;!1!==e&&(this._o.bound&&a(r,"click",this._onClick),this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto",l(this.el,"is-hidden"),this._v=!1,void 0!==e&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){var e=this._o;this.hide(),a(this.el,"mousedown",this._onMouseDown,!0),a(this.el,"touchend",this._onMouseDown,!0),a(this.el,"change",this._onChange),e.keyboardInput&&a(r,"keydown",this._onKeyChange),e.field&&(a(e.field,"change",this._onInputChange),e.bound&&(a(e.trigger,"click",this._onInputClick),a(e.trigger,"focus",this._onInputFocus),a(e.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},A})},{moment:18}],20:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(u===setTimeout)return setTimeout(e,0);if((u===r||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function a(){m&&f&&(m=!1,f.length?p=f.concat(p):v=-1,p.length&&s())}function s(){if(!m){var e=o(a);m=!0;for(var t=p.length;t;){for(f=p,p=[];++v<t;)f&&f[v].run();v=-1,t=p.length}f=null,m=!1,function(e){if(d===clearTimeout)return clearTimeout(e);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}(e)}}function l(e,t){this.fun=e,this.array=t}function c(){}var u,d,h=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:r}catch(e){u=r}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(e){d=i}}();var f,p=[],m=!1,v=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new l(e,t)),1!==p.length||m||o(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],21:[function(e,t,n){(function(e){!function(n){function r(){}function i(e){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(e,this)}function o(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,i._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void s(t.promise,e)}a(t.promise,r)}else(1===e._state?a:s)(t.promise,e._value)})):e._deferreds.push(t)}function a(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void l(e);if("function"==typeof n)return void c(function(e,t){return function(){e.apply(t,arguments)}}(n,t),e)}e._state=1,e._value=t,l(e)}catch(t){s(e,t)}}function s(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)o(e,e._deferreds[t]);e._deferreds=null}function c(e,t){var n=!1;try{e(function(e){n||(n=!0,a(t,e))},function(e){n||(n=!0,s(t,e))})}catch(e){if(n)return;n=!0,s(t,e)}}var u=setTimeout;i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(r);return o(this,new function(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}(e,t,n)),n},i.all=function(e){return new i(function(t,n){function r(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(t){r(e,t)},n)}i[e]=a,0==--o&&t(i)}catch(e){n(e)}}if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);for(var o=i.length,a=0;a<i.length;a++)r(a,i[a])})},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)})},i._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){u(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},i._setImmediateFn=function(e){i._immediateFn=e},i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e},void 0!==t&&t.exports?t.exports=i:n.Promise||(n.Promise=i)}(this)}).call(this,e("timers").setImmediate)},{timers:27}],22:[function(e,t,n){!function(e,r){"use strict";var i={};e.PubSub=i;var o=e.define;!function(e){function t(e){var t;for(t in e)if(e.hasOwnProperty(t))return!0;return!1}function n(e,t,n){try{e(t,n)}catch(e){setTimeout(function(e){return function(){throw e}}(e),0)}}function r(e,t,n){e(t,n)}function i(e,t,i,o){var a,l=s[t],c=o?r:n;if(s.hasOwnProperty(t))for(a in l)l.hasOwnProperty(a)&&c(l[a],e,i)}function o(e){for(var n=String(e),r=Boolean(s.hasOwnProperty(n)&&t(s[n])),i=n.lastIndexOf(".");!r&&-1!==i;)i=(n=n.substr(0,i)).lastIndexOf("."),r=Boolean(s.hasOwnProperty(n)&&t(s[n]));return r}function a(e,t,n,r){var a=function(e,t,n){return function(){var r=String(e),o=r.lastIndexOf(".");for(i(e,e,t,n);-1!==o;)o=(r=r.substr(0,o)).lastIndexOf("."),i(e,r,t,n)}}(e="symbol"==typeof e?e.toString():e,t,r);return!!o(e)&&(!0===n?a():setTimeout(a,0),!0)}var s={},l=-1;e.publish=function(t,n){return a(t,n,!1,e.immediateExceptions)},e.publishSync=function(t,n){return a(t,n,!0,e.immediateExceptions)},e.subscribe=function(e,t){if("function"!=typeof t)return!1;e="symbol"==typeof e?e.toString():e,s.hasOwnProperty(e)||(s[e]={});var n="uid_"+String(++l);return s[e][n]=t,n},e.subscribeOnce=function(t,n){var r=e.subscribe(t,function(){e.unsubscribe(r),n.apply(this,arguments)});return e},e.clearAllSubscriptions=function(){s={}},e.clearSubscriptions=function(e){var t;for(t in s)s.hasOwnProperty(t)&&0===t.indexOf(e)&&delete s[t]},e.unsubscribe=function(t){var n,r,i,o="string"==typeof t&&(s.hasOwnProperty(t)||function(e){var t;for(t in s)if(s.hasOwnProperty(t)&&0===t.indexOf(e))return!0;return!1}(t)),a=!o&&"string"==typeof t,l="function"==typeof t,c=!1;if(!o){for(n in s)if(s.hasOwnProperty(n)){if(r=s[n],a&&r[t]){delete r[t],c=t;break}if(l)for(i in r)r.hasOwnProperty(i)&&r[i]===t&&(delete r[i],c=!0)}return c}e.clearSubscriptions(t)}}(i),"function"==typeof o&&o.amd?o(function(){return i}):"object"==typeof n&&(void 0!==t&&t.exports&&(n=t.exports=i),n.PubSub=i,t.exports=n=i)}("object"==typeof window&&window||this)},{}],23:[function(require,module,exports){var t,n;t=this,n=function(){function succeed(e){var t=protocolRe.exec(e.url);return t=t&&t[1]||context.location.protocol,httpsRe.test(t)?twoHundo.test(e.request.status):!!e.request.response}function handleReadyState(e,t,n){return function(){return e._aborted?n(e.request):e._timedOut?n(e.request,"Request is aborted: timeout"):void(e.request&&4==e.request[readyState]&&(e.request.onreadystatechange=noop,succeed(e)?t(e.request):n(e.request)))}}function setHeaders(e,t){var n,r=t.headers||{};r.Accept=r.Accept||defaultHeaders.accept[t.type]||defaultHeaders.accept["*"];var i="undefined"!=typeof FormData&&t.data instanceof FormData;for(n in t.crossOrigin||r[requestedWith]||(r[requestedWith]=defaultHeaders.requestedWith),r[contentType]||i||(r[contentType]=t.contentType||defaultHeaders.contentType),r)r.hasOwnProperty(n)&&"setRequestHeader"in e&&e.setRequestHeader(n,r[n])}function setCredentials(e,t){void 0!==t.withCredentials&&void 0!==e.withCredentials&&(e.withCredentials=!!t.withCredentials)}function generalCallback(e){lastValue=e}function urlappend(e,t){return e+(/\?/.test(e)?"&":"?")+t}function handleJsonp(e,t,n,r){var i=uniqid++,o=e.jsonpCallback||"callback",a=e.jsonpCallbackName||reqwest.getcallbackPrefix(i),s=new RegExp("((^|\\?|&)"+o+")=([^&]+)"),l=r.match(s),c=doc.createElement("script"),u=0,d=-1!==navigator.userAgent.indexOf("MSIE 10.0");return l?"?"===l[3]?r=r.replace(s,"$1="+a):a=l[3]:r=urlappend(r,o+"="+a),context[a]=generalCallback,c.type="text/javascript",c.src=r,c.async=!0,void 0===c.onreadystatechange||d||(c.htmlFor=c.id="_reqwest_"+i),c.onload=c.onreadystatechange=function(){if(c[readyState]&&"complete"!==c[readyState]&&"loaded"!==c[readyState]||u)return!1;c.onload=c.onreadystatechange=null,c.onclick&&c.onclick(),t(lastValue),lastValue=void 0,head.removeChild(c),u=1},head.appendChild(c),{abort:function(){c.onload=c.onreadystatechange=null,n({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(c),u=1}}}function getRequest(e,t){var n,r=this.o,i=(r.method||"GET").toUpperCase(),o="string"==typeof r?r:r.url,a=!1!==r.processData&&r.data&&"string"!=typeof r.data?reqwest.toQueryString(r.data):r.data||null,s=!1;return"jsonp"!=r.type&&"GET"!=i||!a||(o=urlappend(o,a),a=null),"jsonp"==r.type?handleJsonp(r,e,t,o):((n=r.xhr&&r.xhr(r)||xhr(r)).open(i,o,!1!==r.async),setHeaders(n,r),setCredentials(n,r),context[xDomainRequest]&&n instanceof context[xDomainRequest]?(n.onload=e,n.onerror=t,n.onprogress=function(){},s=!0):n.onreadystatechange=handleReadyState(this,e,t),r.before&&r.before(n),s?setTimeout(function(){n.send(a)},200):n.send(a),n)}function Reqwest(e,t){this.o=e,this.fn=t,init.apply(this,arguments)}function setType(e){if(null!==e)return e.match("json")?"json":e.match("javascript")?"js":e.match("text")?"html":e.match("xml")?"xml":void 0}function init(o,fn){function complete(e){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(e)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=context.JSON?context.JSON.parse(r):eval("("+r+")")}catch(e){return error(resp,"Could not parse JSON in response",e)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(e,t,n){for(e=self.request,self._responseArgs.resp=e,self._responseArgs.msg=t,self._responseArgs.t=n,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(e,t,n);complete(e)}this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(e,t){return new Reqwest(e,t)}function normalize(e){return e?e.replace(/\r?\n/g,"\r\n"):""}function serial(e,t){var n,r,i,o,a=e.name,s=e.tagName.toLowerCase(),l=function(e){e&&!e.disabled&&t(a,normalize(e.attributes.value&&e.attributes.value.specified?e.value:e.text))};if(!e.disabled&&a)switch(s){case"input":/reset|button|image|file/i.test(e.type)||(n=/checkbox/i.test(e.type),r=/radio/i.test(e.type),i=e.value,(!n&&!r||e.checked)&&t(a,normalize(n&&""===i?"on":i)));break;case"textarea":t(a,normalize(e.value));break;case"select":if("select-one"===e.type.toLowerCase())l(e.selectedIndex>=0?e.options[e.selectedIndex]:null);else for(o=0;e.length&&o<e.length;o++)e.options[o].selected&&l(e.options[o])}}function eachFormElement(){var e,t,n=this;for(t=0;t<arguments.length;t++)e=arguments[t],/input|select|textarea/i.test(e.tagName)&&serial(e,n),function(e,t){var r,i,o;for(r=0;r<t.length;r++)for(o=e[byTag](t[r]),i=0;i<o.length;i++)serial(o[i],n)}(e,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var e={};return eachFormElement.apply(function(t,n){t in e?(e[t]&&!isArray(e[t])&&(e[t]=[e[t]]),e[t].push(n)):e[t]=n},arguments),e}function buildParams(e,t,n,r){var i,o,a,s=/\[\]$/;if(isArray(t))for(o=0;t&&o<t.length;o++)a=t[o],n||s.test(e)?r(e,a):buildParams(e+"["+("object"==typeof a?o:"")+"]",a,n,r);else if(t&&"[object Object]"===t.toString())for(i in t)buildParams(e+"["+i+"]",t[i],n,r);else r(e,t)}var context=this,XHR2;if("window"in context)var doc=document,byTag="getElementsByTagName",head=doc[byTag]("head")[0];else try{XHR2=require("xhr2")}catch(e){throw new Error("Peer dependency `xhr2` required! Please npm install xhr2")}var httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(e){if(!0===e.crossOrigin){var t=context[xmlHttpRequest]?new XMLHttpRequest:null;if(t&&"withCredentials"in t)return t;if(context[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return context[xmlHttpRequest]?new XMLHttpRequest:XHR2?new XHR2:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(e){return e}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(e,t){return e=e||function(){},t=t||function(){},this._fulfilled?this._responseArgs.resp=e(this._responseArgs.resp):this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(e),this._errorHandlers.push(t)),this},always:function(e){return this._fulfilled||this._erred?e(this._responseArgs.resp):this._completeHandlers.push(e),this},fail:function(e){return this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(e),this},catch:function(e){return this.fail(e)}},reqwest.serializeArray=function(){var e=[];return eachFormElement.apply(function(t,n){e.push({name:t,value:n})},arguments),e},reqwest.serialize=function(){if(0===arguments.length)return"";var e,t=Array.prototype.slice.call(arguments,0);return(e=t.pop())&&e.nodeType&&t.push(e)&&(e=null),e&&(e=e.type),("map"==e?serializeHash:"array"==e?reqwest.serializeArray:serializeQueryString).apply(null,t)},reqwest.toQueryString=function(e,t){var n,r,i=t||!1,o=[],a=encodeURIComponent,s=function(e,t){t="function"==typeof t?t():null==t?"":t,o[o.length]=a(e)+"="+a(t)};if(isArray(e))for(r=0;e&&r<e.length;r++)s(e[r].name,e[r].value);else for(n in e)e.hasOwnProperty(n)&&buildParams(n,e[n],i,s);return o.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(e,t){return e&&(e.type&&(e.method=e.type)&&delete e.type,e.dataType&&(e.type=e.dataType),e.jsonpCallback&&(e.jsonpCallbackName=e.jsonpCallback)&&delete e.jsonpCallback,e.jsonp&&(e.jsonpCallback=e.jsonp)),new Reqwest(e,t)},reqwest.ajaxSetup=function(e){for(var t in e=e||{})globalSetupOptions[t]=e[t]},reqwest},void 0!==module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define(n):t.reqwest=n()},{xhr2:1}],24:[function(e,t,n){(function(e){!function(e,r){"object"==typeof n&&void 0!==t?t.exports=r():"function"==typeof define&&define.amd?define(r):(e=e||self).SimpleBar=r()}(this,function(){"use strict";function t(e,t){return e(t={exports:{}},t.exports),t.exports}function n(e,t,n){function o(t){var n=u,r=d;return u=d=void 0,v=t,f=e.apply(r,n)}function a(e){var n=e-m;return void 0===m||n>=t||n<0||y&&e-v>=h}function s(){var e=Sr();if(a(e))return l(e);p=setTimeout(s,function(e){var n=t-(e-m);return y?xr(n,h-(e-v)):n}(e))}function l(e){return p=void 0,_&&u?o(e):(u=d=void 0,f)}function c(){var e=Sr(),n=a(e);if(u=arguments,d=this,m=e,n){if(void 0===p)return function(e){return v=e,p=setTimeout(s,t),g?o(e):f}(m);if(y)return p=setTimeout(s,t),o(m)}return void 0===p&&(p=setTimeout(s,t)),f}var u,d,h,f,p,m,v=0,g=!1,y=!1,_=!0;if("function"!=typeof e)throw new TypeError(cr);return t=i(t)||0,r(n)&&(g=!!n.leading,h=(y="maxWait"in n)?wr(i(n.maxWait)||0,t):h,_="trailing"in n?!!n.trailing:_),c.cancel=function(){void 0!==p&&clearTimeout(p),v=0,u=m=d=p=void 0},c.flush=function(){return void 0===p?f:l(Sr())},c}function r(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function i(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&br.call(e)==dr}(e))return ur;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(hr,"");var n=pr.test(e);return n||mr.test(e)?vr(e.slice(2),n?2:8):fr.test(e)?ur:+e}function o(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function a(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&Nr.call(e)==Ar}(e))return Er;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Mr,"");var n=Cr.test(e);return n||kr.test(e)?Dr(e.slice(2),n?2:8):Lr.test(e)?Er:+e}function s(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function l(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function c(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function u(e,t){for(var n,r,i=e.length;i--;)if((n=e[i][0])===(r=t)||n!=n&&r!=r)return i;return-1}function d(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function h(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!p(e)||(t=e,Jr&&Jr in t))&&(function(e){var t=p(e)?ti.call(e):"";return t==Wr||t==Ur}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?ni:Hr).test(function(e){if(null!=e){try{return Qr.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}(n)?n:void 0}function f(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(jr);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(f.Cache||c),n}function p(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){return parseFloat(e)||0}function v(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(t,n){return t+m(e["border-"+n+"-width"])},0)}function g(e){return li?_i(e)?function(e){var t=e.getBBox();return y(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return yi;var r=gi(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=m(o)}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=m(r.width),l=m(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=v(r,"left","right")+o),Math.round(l+a)!==n&&(l-=v(r,"top","bottom")+a)),!function(e){return e===gi(e).document.documentElement}(e)){var c=Math.round(s+o)-t,u=Math.round(l+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return y(i.left,i.top,s,l)}(e):yi}function y(e,t,n,r){return{x:e,y:t,width:n,height:r}}function _(){if("undefined"==typeof document)return 0;var e=document.body,t=document.createElement("div"),n=t.style;n.position="fixed",n.left=0,n.visibility="hidden",n.overflowY="scroll",e.appendChild(t);var r=t.getBoundingClientRect().right;return e.removeChild(t),r}var b,w,x,S=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},T=function(e,t,n){if(S(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},E=function(e){try{return!!e()}catch(e){return!0}},A={}.toString,M=function(e){return A.call(e).slice(8,-1)},L="".split,C=E(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==M(e)?L.call(e,""):Object(e)}:Object,k=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},D=function(e){return Object(k(e))},I=Math.ceil,O=Math.floor,P=function(e){return isNaN(e=+e)?0:(e>0?O:I)(e)},N=Math.min,R=function(e){return e>0?N(P(e),9007199254740991):0},q=function(e){return"object"==typeof e?null!==e:"function"==typeof e},z=Array.isArray||function(e){return"Array"==M(e)},F="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},j="object"==typeof window&&window&&window.Math==Math?window:"object"==typeof self&&self&&self.Math==Math?self:Function("return this")(),B=!E(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),W=j.document,U=q(W)&&q(W.createElement),H=function(e){return U?W.createElement(e):{}},Y=!B&&!E(function(){return 7!=Object.defineProperty(H("div"),"a",{get:function(){return 7}}).a}),G=function(e){if(!q(e))throw TypeError(String(e)+" is not an object");return e},V=function(e,t){if(!q(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!q(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!q(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!q(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},X=Object.defineProperty,K={f:B?X:function(e,t,n){if(G(e),t=V(t,!0),G(n),Y)try{return X(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},Z=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},$=B?function(e,t,n){return K.f(e,t,Z(1,n))}:function(e,t,n){return e[t]=n,e},J=function(e,t){try{$(j,e,t)}catch(n){j[e]=t}return t},Q=t(function(e){var t=j["__core-js_shared__"]||J("__core-js_shared__",{});(e.exports=function(e,n){return t[e]||(t[e]=void 0!==n?n:{})})("versions",[]).push({version:"3.0.1",mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})}),ee=0,te=Math.random(),ne=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++ee+te).toString(36))},re=!E(function(){return!String(Symbol())}),ie=Q("wks"),oe=j.Symbol,ae=function(e){return ie[e]||(ie[e]=re&&oe[e]||(re?oe:ne)("Symbol."+e))},se=ae("species"),le=function(e,t){var n;return z(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!z(n.prototype)?q(n)&&null===(n=n[se])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},ce=function(e,t){var n=1==e,r=2==e,i=3==e,o=4==e,a=6==e,s=5==e||a,l=t||le;return function(t,c,u){for(var d,h,f=D(t),p=C(f),m=T(c,u,3),v=R(p.length),g=0,y=n?l(t,v):r?l(t,0):void 0;v>g;g++)if((s||g in p)&&(h=m(d=p[g],g,f),e))if(n)y[g]=h;else if(h)switch(e){case 3:return!0;case 5:return d;case 6:return g;case 2:y.push(d)}else if(o)return!1;return a?-1:i||o?o:y}},ue=ae("species"),de={}.propertyIsEnumerable,he=Object.getOwnPropertyDescriptor,fe={f:he&&!de.call({1:2},1)?function(e){var t=he(this,e);return!!t&&t.enumerable}:de},pe=function(e){return C(k(e))},me={}.hasOwnProperty,ve=function(e,t){return me.call(e,t)},ge=Object.getOwnPropertyDescriptor,ye={f:B?ge:function(e,t){if(e=pe(e),t=V(t,!0),Y)try{return ge(e,t)}catch(e){}if(ve(e,t))return Z(!fe.f.call(e,t),e[t])}},_e=Q("native-function-to-string",Function.toString),be=j.WeakMap,we="function"==typeof be&&/native code/.test(_e.call(be)),xe=Q("keys"),Se=function(e){return xe[e]||(xe[e]=ne(e))},Te={},Ee=j.WeakMap;if(we){var Ae=new Ee,Me=Ae.get,Le=Ae.has,Ce=Ae.set;b=function(e,t){return Ce.call(Ae,e,t),t},w=function(e){return Me.call(Ae,e)||{}},x=function(e){return Le.call(Ae,e)}}else{var ke=Se("state");Te[ke]=!0,b=function(e,t){return $(e,ke,t),t},w=function(e){return ve(e,ke)?e[ke]:{}},x=function(e){return ve(e,ke)}}var De={set:b,get:w,has:x,enforce:function(e){return x(e)?w(e):b(e,{})},getterFor:function(e){return function(t){var n;if(!q(t)||(n=w(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},Ie=t(function(e){var t=De.get,n=De.enforce,r=String(_e).split("toString");Q("inspectSource",function(e){return _e.call(e)}),(e.exports=function(e,t,i,o){var a=!!o&&!!o.unsafe,s=!!o&&!!o.enumerable,l=!!o&&!!o.noTargetGet;"function"==typeof i&&("string"!=typeof t||ve(i,"name")||$(i,"name",t),n(i).source=r.join("string"==typeof t?t:"")),e!==j?(a?!l&&e[t]&&(s=!0):delete e[t],s?e[t]=i:$(e,t,i)):s?e[t]=i:J(t,i)})(Function.prototype,"toString",function(){return"function"==typeof this&&t(this).source||_e.call(this)})}),Oe=Math.max,Pe=Math.min,Ne=(!1,function(e,t,n){var r=pe(e),i=R(r.length),o=function(e,t){var n=P(e);return n<0?Oe(n+t,0):Pe(n,t)}(n,i);for(0;i>o;o++)if(o in r&&r[o]===t)return o||0;return-1}),Re=function(e,t){var n,r=pe(e),i=0,o=[];for(n in r)!ve(Te,n)&&ve(r,n)&&o.push(n);for(;t.length>i;)ve(r,n=t[i++])&&(~Ne(o,n)||o.push(n));return o},qe=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ze=qe.concat("length","prototype"),Fe={f:Object.getOwnPropertyNames||function(e){return Re(e,ze)}},je={f:Object.getOwnPropertySymbols},Be=j.Reflect,We=Be&&Be.ownKeys||function(e){var t=Fe.f(G(e)),n=je.f;return n?t.concat(n(e)):t},Ue=function(e,t){for(var n=We(t),r=K.f,i=ye.f,o=0;o<n.length;o++){var a=n[o];ve(e,a)||r(e,a,i(t,a))}},He=/#|\.prototype\./,Ye=function(e,t){var n=Ve[Ge(e)];return n==Ke||n!=Xe&&("function"==typeof t?E(t):!!t)},Ge=Ye.normalize=function(e){return String(e).replace(He,".").toLowerCase()},Ve=Ye.data={},Xe=Ye.NATIVE="N",Ke=Ye.POLYFILL="P",Ze=Ye,$e=ye.f,Je=function(e,t){var n,r,i,o,a,s=e.target,l=e.global,c=e.stat;if(n=l?j:c?j[s]||J(s,{}):(j[s]||{}).prototype)for(r in t){if(o=t[r],i=e.noTargetGet?(a=$e(n,r))&&a.value:n[r],!Ze(l?r:s+(c?".":"#")+r,e.forced)&&void 0!==i){if(typeof o==typeof i)continue;Ue(o,i)}(e.sham||i&&i.sham)&&$(o,"sham",!0),Ie(n,r,o,e)}},Qe=ce(2),et=!E(function(){var e=[];return(e.constructor={})[ue]=function(){return{foo:1}},1!==e.filter(Boolean).foo});Je({target:"Array",proto:!0,forced:!et},{filter:function(e){return Qe(this,e,arguments[1])}});var tt=function(e,t){var n=[][e];return!n||!E(function(){n.call(null,t||function(){throw 1},1)})},nt=[].forEach,rt=ce(0),it=tt("forEach")?function(e){return rt(this,e,arguments[1])}:nt;Je({target:"Array",proto:!0,forced:[].forEach!=it},{forEach:it});var ot=Object.keys||function(e){return Re(e,qe)},at=B?Object.defineProperties:function(e,t){G(e);for(var n,r=ot(t),i=r.length,o=0;i>o;)K.f(e,n=r[o++],t[n]);return e},st=j.document,lt=st&&st.documentElement,ct=Se("IE_PROTO"),ut=function(){},dt=function(){var e,t=H("iframe"),n=qe.length;for(t.style.display="none",lt.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),dt=e.F;n--;)delete dt.prototype[qe[n]];return dt()},ht=Object.create||function(e,t){var n;return null!==e?(ut.prototype=G(e),n=new ut,ut.prototype=null,n[ct]=e):n=dt(),void 0===t?n:at(n,t)};Te[ct]=!0;var ft=ae("unscopables"),pt=Array.prototype;null==pt[ft]&&$(pt,ft,ht(null));var mt,vt,gt,yt=function(e){pt[ft][e]=!0},_t={},bt=!E(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),wt=Se("IE_PROTO"),xt=Object.prototype,St=bt?Object.getPrototypeOf:function(e){return e=D(e),ve(e,wt)?e[wt]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?xt:null},Tt=ae("iterator"),Et=!1;[].keys&&("next"in(gt=[].keys())?(vt=St(St(gt)))!==Object.prototype&&(mt=vt):Et=!0),null==mt&&(mt={}),ve(mt,Tt)||$(mt,Tt,function(){return this});var At={IteratorPrototype:mt,BUGGY_SAFARI_ITERATORS:Et},Mt=K.f,Lt=ae("toStringTag"),Ct=function(e,t,n){e&&!ve(e=n?e:e.prototype,Lt)&&Mt(e,Lt,{configurable:!0,value:t})},kt=At.IteratorPrototype,Dt=function(){return this},It=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return function(e,t){if(G(n),!q(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(0,r),t?e.call(n,r):n.__proto__=r,n}}():void 0),Ot=ae("iterator"),Pt=At.IteratorPrototype,Nt=At.BUGGY_SAFARI_ITERATORS,Rt=function(){return this},qt=function(e,t,n,r,i,o,a){!function(e,t,n){var r=t+" Iterator";e.prototype=ht(kt,{next:Z(1,n)}),Ct(e,r,!1),_t[r]=Dt}(n,t,r);var s,l,c,u=function(e){if(e===i&&m)return m;if(!Nt&&e in f)return f[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},d=t+" Iterator",h=!1,f=e.prototype,p=f[Ot]||f["@@iterator"]||i&&f[i],m=!Nt&&p||u(i),v="Array"==t&&f.entries||p;if(v&&(s=St(v.call(new e)),Pt!==Object.prototype&&s.next&&(St(s)!==Pt&&(It?It(s,Pt):"function"!=typeof s[Ot]&&$(s,Ot,Rt)),Ct(s,d,!0))),"values"==i&&p&&"values"!==p.name&&(h=!0,m=function(){return p.call(this)}),f[Ot]!==m&&$(f,Ot,m),_t[t]=m,i)if(l={values:u("values"),keys:o?m:u("keys"),entries:u("entries")},a)for(c in l)!Nt&&!h&&c in f||Ie(f,c,l[c]);else Je({target:t,proto:!0,forced:Nt||h},l);return l},zt=De.set,Ft=De.getterFor("Array Iterator"),jt=qt(Array,"Array",function(e,t){zt(this,{type:"Array Iterator",target:pe(e),index:0,kind:t})},function(){var e=Ft(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}},"values");_t.Arguments=_t.Array,yt("keys"),yt("values"),yt("entries");var Bt=tt("reduce");Je({target:"Array",proto:!0,forced:Bt},{reduce:function(e){return function(e,t,n,r,i){S(t);var o=D(e),a=C(o),s=R(o.length),l=0;if(n<2)for(;;){if(l in a){r=a[l],l+=1;break}if(s<=(l+=1))throw TypeError("Reduce of empty array with no initial value")}for(;s>l;l+=1)l in a&&(r=t(r,a[l],l,o));return r}(this,e,arguments.length,arguments[1])}});var Wt=K.f,Ut=Function.prototype,Ht=Ut.toString,Yt=/^\s*function ([^ (]*)/;!B||"name"in Ut||Wt(Ut,"name",{configurable:!0,get:function(){try{return Ht.call(this).match(Yt)[1]}catch(e){return""}}});var Gt=Object.assign,Vt=!Gt||E(function(){var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach(function(e){t[e]=e}),7!=Gt({},e)[n]||"abcdefghijklmnopqrst"!=ot(Gt({},t)).join("")})?function(e,t){for(var n=D(e),r=arguments.length,i=1,o=je.f,a=fe.f;r>i;)for(var s,l=C(arguments[i++]),c=o?ot(l).concat(o(l)):ot(l),u=c.length,d=0;u>d;)a.call(l,s=c[d++])&&(n[s]=l[s]);return n}:Gt;Je({target:"Object",stat:!0,forced:Object.assign!==Vt},{assign:Vt});var Xt=ae("toStringTag"),Kt="Arguments"==M(function(){return arguments}()),Zt=function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),Xt))?n:Kt?M(t):"Object"==(r=M(t))&&"function"==typeof t.callee?"Arguments":r},$t={};$t[ae("toStringTag")]="z";var Jt="[object z]"!==String($t)?function(){return"[object "+Zt(this)+"]"}:$t.toString,Qt=Object.prototype;Jt!==Qt.toString&&Ie(Qt,"toString",Jt,{unsafe:!0});var en="\t\n\v\f\r                　\u2028\u2029\ufeff",tn="["+en+"]",nn=RegExp("^"+tn+tn+"*"),rn=RegExp(tn+tn+"*$"),on=j.parseInt,an=/^[-+]?0[xX]/,sn=8!==on(en+"08")||22!==on(en+"0x16")?function(e,t){var n=function(e,t){return(e=(e=String(k(e))).replace(nn,"")).replace(rn,"")}(String(e));return on(n,t>>>0||(an.test(n)?16:10))}:on;Je({global:!0,forced:parseInt!=sn},{parseInt:sn});var ln,cn,un=RegExp.prototype.exec,dn=String.prototype.replace,hn=un,fn=(ln=/a/,cn=/b*/g,un.call(ln,"a"),un.call(cn,"a"),0!==ln.lastIndex||0!==cn.lastIndex),pn=void 0!==/()??/.exec("")[1];(fn||pn)&&(hn=function(e){var t,n,r,i,o=this;return pn&&(n=new RegExp("^"+o.source+"$(?!\\s)",function(){var e=G(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}.call(o))),fn&&(t=o.lastIndex),r=un.call(o,e),fn&&r&&(o.lastIndex=o.global?r.index+r[0].length:t),pn&&r&&r.length>1&&dn.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r});var mn=hn;Je({target:"RegExp",proto:!0,forced:/./.exec!==mn},{exec:mn});var vn=function(e,t,n){var r,i,o=String(k(e)),a=P(t),s=o.length;return a<0||a>=s?n?"":void 0:(r=o.charCodeAt(a))<55296||r>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?n?o.charAt(a):r:n?o.slice(a,a+2):i-56320+(r-55296<<10)+65536},gn=De.set,yn=De.getterFor("String Iterator");qt(String,"String",function(e){gn(this,{type:"String Iterator",string:String(e),index:0})},function(){var e,t=yn(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=vn(n,r,!0),t.index+=e.length,{value:e,done:!1})});var _n=function(e,t,n){return t+(n?vn(e,t,!0).length:1)},bn=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==M(e))throw TypeError("RegExp#exec called on incompatible receiver");return mn.call(e,t)},wn=ae("species"),xn=!E(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),Sn=!E(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}),Tn=function(e,t,n,r){var i=ae(e),o=!E(function(){var t={};return t[i]=function(){return 7},7!=""[e](t)}),a=o&&!E(function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[wn]=function(){return n}),n[i](""),!t});if(!o||!a||"replace"===e&&!xn||"split"===e&&!Sn){var s=/./[i],l=n(i,""[e],function(e,t,n,r,i){return t.exec===mn?o&&!i?{done:!0,value:s.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),c=l[0],u=l[1];Ie(String.prototype,e,c),Ie(RegExp.prototype,i,2==t?function(e,t){return u.call(e,this,t)}:function(e){return u.call(e,this)}),r&&$(RegExp.prototype[i],"sham",!0)}};Tn("match",1,function(e,t,n){return[function(t){var n=k(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var i=G(e),o=String(this);if(!i.global)return bn(i,o);var a=i.unicode;i.lastIndex=0;for(var s,l=[],c=0;null!==(s=bn(i,o));){var u=String(s[0]);l[c]=u,""===u&&(i.lastIndex=_n(o,R(i.lastIndex),a)),c++}return 0===c?null:l}]});var En=Math.max,An=Math.min,Mn=Math.floor,Ln=/\$([$&`']|\d\d?|<[^>]*>)/g,Cn=/\$([$&`']|\d\d?)/g;Tn("replace",2,function(e,t,n){function r(e,n,r,i,o,a){var s=r+e.length,l=i.length,c=Cn;return void 0!==o&&(o=D(o),c=Ln),t.call(a,c,function(t,a){var c;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(s);case"<":c=o[a.slice(1,-1)];break;default:var u=+a;if(0===u)return t;if(u>l){var d=Mn(u/10);return 0===d?t:d<=l?void 0===i[d-1]?a.charAt(1):i[d-1]+a.charAt(1):t}c=i[u-1]}return void 0===c?"":c})}return[function(n,r){var i=k(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,i,r):t.call(String(i),n,r)},function(e,i){var o=n(t,e,this,i);if(o.done)return o.value;var a=G(e),s=String(this),l="function"==typeof i;l||(i=String(i));var c=a.global;if(c){var u=a.unicode;a.lastIndex=0}for(var d=[];;){var h=bn(a,s);if(null===h)break;if(d.push(h),!c)break;""===String(h[0])&&(a.lastIndex=_n(s,R(a.lastIndex),u))}for(var f,p="",m=0,v=0;v<d.length;v++){h=d[v];for(var g=String(h[0]),y=En(An(P(h.index),s.length),0),_=[],b=1;b<h.length;b++)_.push(void 0===(f=h[b])?f:String(f));var w=h.groups;if(l){var x=[g].concat(_,y,s);void 0!==w&&x.push(w);var S=String(i.apply(void 0,x))}else S=r(g,s,y,_,w,i);y>=m&&(p+=s.slice(m,y)+S,m=y+g.length)}return p+s.slice(m)}]});var kn=function(e,t,n){for(var r in t)Ie(e,r,t[r],n);return e},Dn=!E(function(){return Object.isExtensible(Object.preventExtensions({}))}),In=t(function(e){var t=ne("meta"),n=K.f,r=0,i=Object.isExtensible||function(){return!0},o=function(e){n(e,t,{value:{objectID:"O"+ ++r,weakData:{}}})},a=e.exports={REQUIRED:!1,fastKey:function(e,n){if(!q(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!ve(e,t)){if(!i(e))return"F";if(!n)return"E";o(e)}return e[t].objectID},getWeakData:function(e,n){if(!ve(e,t)){if(!i(e))return!0;if(!n)return!1;o(e)}return e[t].weakData},onFreeze:function(e){return Dn&&a.REQUIRED&&i(e)&&!ve(e,t)&&o(e),e}};Te[t]=!0}),On=(In.REQUIRED,In.fastKey,In.getWeakData,In.onFreeze,function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}),Pn=ae("iterator"),Nn=Array.prototype,Rn=ae("iterator"),qn=function(e,t,n,r){try{return r?t(G(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&G(i.call(e)),t}},zn=t(function(e){var t={};(e.exports=function(e,n,r,i,o){var a,s,l,c,u,d,h=T(n,r,i?2:1);if(o)a=e;else{if("function"!=typeof(s=function(e){if(null!=e)return e[Rn]||e["@@iterator"]||_t[Zt(e)]}(e)))throw TypeError("Target is not iterable");if(void 0!==(d=s)&&(_t.Array===d||Nn[Pn]===d)){for(l=0,c=R(e.length);c>l;l++)if((i?h(G(u=e[l])[0],u[1]):h(e[l]))===t)return t;return}a=s.call(e)}for(;!(u=a.next()).done;)if(qn(a,h,u.value,i)===t)return t}).BREAK=t}),Fn=In.getWeakData,jn=De.set,Bn=De.getterFor,Wn=ce(5),Un=ce(6),Hn=0,Yn=function(e){return e.frozen||(e.frozen=new Gn)},Gn=function(){this.entries=[]},Vn=function(e,t){return Wn(e.entries,function(e){return e[0]===t})};Gn.prototype={get:function(e){var t=Vn(this,e);if(t)return t[1]},has:function(e){return!!Vn(this,e)},set:function(e,t){var n=Vn(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=Un(this.entries,function(t){return t[0]===e});return~t&&this.entries.splice(t,1),!!~t}};var Xn={getConstructor:function(e,t,n,r){var i=e(function(e,o){On(e,i,t),jn(e,{type:t,id:Hn++,frozen:void 0}),null!=o&&zn(o,e[r],e,n)}),o=Bn(t),a=function(e,t,n){var r=o(e),i=Fn(G(t),!0);return!0===i?Yn(r).set(t,n):i[r.id]=n,e};return kn(i.prototype,{delete:function(e){var t=o(this);if(!q(e))return!1;var n=Fn(e);return!0===n?Yn(t).delete(e):n&&ve(n,t.id)&&delete n[t.id]},has:function(e){var t=o(this);if(!q(e))return!1;var n=Fn(e);return!0===n?Yn(t).has(e):n&&ve(n,t.id)}}),kn(i.prototype,n?{get:function(e){var t=o(this);if(q(e)){var n=Fn(e);return!0===n?Yn(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return a(this,e,t)}}:{add:function(e){return a(this,e,!0)}}),i}},Kn=ae("iterator"),Zn=!1;try{var $n=0;({next:function(){return{done:!!$n++}},return:function(){Zn=!0}})[Kn]=function(){return this}}catch(S){}var Jn=(t(function(e){var t,n=De.enforce,r=!j.ActiveXObject&&"ActiveXObject"in j,i=Object.isExtensible,o=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},a=e.exports=function(e,t,n,r,i){var o=j[e],a=o&&o.prototype,s=o,l=r?"set":"add",c={},u=function(e){var t=a[e];Ie(a,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(i&&!q(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return i&&!q(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(i&&!q(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(Ze(e,"function"!=typeof o||!(i||a.forEach&&!E(function(){(new o).entries().next()}))))s=n.getConstructor(t,e,r,l),In.REQUIRED=!0;else if(Ze(e,!0)){var d=new s,h=d[l](i?{}:-0,1)!=d,f=E(function(){d.has(1)}),p=function(e,t){if(!Zn)return!1;var n=!1;try{var r={};r[Kn]=function(){return{next:function(){return{done:n=!0}}}},new o(r)}catch(e){}return n}(),m=!i&&E(function(){for(var e=new o,t=5;t--;)e[l](t,t);return!e.has(-0)});p||((s=t(function(t,n){On(t,s,e);var i=function(e,t,n){var r,i=t.constructor;return i!==n&&"function"==typeof i&&(r=i.prototype)!==n.prototype&&q(r)&&It&&It(e,r),e}(new o,t,s);return null!=n&&zn(n,i[l],i,r),i})).prototype=a,a.constructor=s),(f||m)&&(u("delete"),u("has"),r&&u("get")),(m||h)&&u(l),i&&a.clear&&delete a.clear}return c[e]=s,Je({global:!0,forced:s!=o},c),Ct(s,e),i||n.setStrong(s,e,r),s}("WeakMap",o,Xn,!0,!0);if(we&&r){t=Xn.getConstructor(o,"WeakMap",!0),In.REQUIRED=!0;var s=a.prototype,l=s.delete,c=s.has,u=s.get,d=s.set;kn(s,{delete:function(e){if(q(e)&&!i(e)){var r=n(this);return r.frozen||(r.frozen=new t),l.call(this,e)||r.frozen.delete(e)}return l.call(this,e)},has:function(e){if(q(e)&&!i(e)){var r=n(this);return r.frozen||(r.frozen=new t),c.call(this,e)||r.frozen.has(e)}return c.call(this,e)},get:function(e){if(q(e)&&!i(e)){var r=n(this);return r.frozen||(r.frozen=new t),c.call(this,e)?u.call(this,e):r.frozen.get(e)}return u.call(this,e)},set:function(e,r){if(q(e)&&!i(e)){var o=n(this);o.frozen||(o.frozen=new t),c.call(this,e)?d.call(this,e,r):o.frozen.set(e,r)}else d.call(this,e,r);return this}})}}),{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0});for(var Qn in Jn){var er=j[Qn],tr=er&&er.prototype;if(tr&&tr.forEach!==it)try{$(tr,"forEach",it)}catch(S){tr.forEach=it}}var nr=ae("iterator"),rr=ae("toStringTag"),ir=jt.values;for(var or in Jn){var ar=j[or],sr=ar&&ar.prototype;if(sr){if(sr[nr]!==ir)try{$(sr,nr,ir)}catch(S){sr[nr]=ir}if(sr[rr]||$(sr,rr,or),Jn[or])for(var lr in jt)if(sr[lr]!==jt[lr])try{$(sr,lr,jt[lr])}catch(S){sr[lr]=jt[lr]}}}var cr="Expected a function",ur=NaN,dr="[object Symbol]",hr=/^\s+|\s+$/g,fr=/^[-+]0x[0-9a-f]+$/i,pr=/^0b[01]+$/i,mr=/^0o[0-7]+$/i,vr=parseInt,gr="object"==typeof F&&F&&F.Object===Object&&F,yr="object"==typeof self&&self&&self.Object===Object&&self,_r=gr||yr||Function("return this")(),br=Object.prototype.toString,wr=Math.max,xr=Math.min,Sr=function(){return _r.Date.now()},Tr=function(e,t,i){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError(cr);return r(i)&&(o="leading"in i?!!i.leading:o,a="trailing"in i?!!i.trailing:a),n(e,t,{leading:o,maxWait:t,trailing:a})},Er=NaN,Ar="[object Symbol]",Mr=/^\s+|\s+$/g,Lr=/^[-+]0x[0-9a-f]+$/i,Cr=/^0b[01]+$/i,kr=/^0o[0-7]+$/i,Dr=parseInt,Ir="object"==typeof F&&F&&F.Object===Object&&F,Or="object"==typeof self&&self&&self.Object===Object&&self,Pr=Ir||Or||Function("return this")(),Nr=Object.prototype.toString,Rr=Math.max,qr=Math.min,zr=function(){return Pr.Date.now()},Fr=function(e,t,n){function r(t){var n=u,r=d;return u=d=void 0,v=t,f=e.apply(r,n)}function i(e){var n=e-m;return void 0===m||n>=t||n<0||y&&e-v>=h}function s(){var e=zr();if(i(e))return l(e);p=setTimeout(s,function(e){var n=t-(e-m);return y?qr(n,h-(e-v)):n}(e))}function l(e){return p=void 0,_&&u?r(e):(u=d=void 0,f)}function c(){var e=zr(),n=i(e);if(u=arguments,d=this,m=e,n){if(void 0===p)return function(e){return v=e,p=setTimeout(s,t),g?r(e):f}(m);if(y)return p=setTimeout(s,t),r(m)}return void 0===p&&(p=setTimeout(s,t)),f}var u,d,h,f,p,m,v=0,g=!1,y=!1,_=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return t=a(t)||0,o(n)&&(g=!!n.leading,h=(y="maxWait"in n)?Rr(a(n.maxWait)||0,t):h,_="trailing"in n?!!n.trailing:_),c.cancel=function(){void 0!==p&&clearTimeout(p),v=0,u=m=d=p=void 0},c.flush=function(){return void 0===p?f:l(zr())},c},jr="Expected a function",Br="__lodash_hash_undefined__",Wr="[object Function]",Ur="[object GeneratorFunction]",Hr=/^\[object .+?Constructor\]$/,Yr="object"==typeof F&&F&&F.Object===Object&&F,Gr="object"==typeof self&&self&&self.Object===Object&&self,Vr=Yr||Gr||Function("return this")(),Xr=Array.prototype,Kr=Function.prototype,Zr=Object.prototype,$r=Vr["__core-js_shared__"],Jr=function(){var e=/[^.]+$/.exec($r&&$r.keys&&$r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Qr=Kr.toString,ei=Zr.hasOwnProperty,ti=Zr.toString,ni=RegExp("^"+Qr.call(ei).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ri=Xr.splice,ii=h(Vr,"Map"),oi=h(Object,"create");s.prototype.clear=function(){this.__data__=oi?oi(null):{}},s.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},s.prototype.get=function(e){var t=this.__data__;if(oi){var n=t[e];return n===Br?void 0:n}return ei.call(t,e)?t[e]:void 0},s.prototype.has=function(e){var t=this.__data__;return oi?void 0!==t[e]:ei.call(t,e)},s.prototype.set=function(e,t){return this.__data__[e]=oi&&void 0===t?Br:t,this},l.prototype.clear=function(){this.__data__=[]},l.prototype.delete=function(e){var t=this.__data__,n=u(t,e);return!(n<0||(n==t.length-1?t.pop():ri.call(t,n,1),0))},l.prototype.get=function(e){var t=this.__data__,n=u(t,e);return n<0?void 0:t[n][1]},l.prototype.has=function(e){return u(this.__data__,e)>-1},l.prototype.set=function(e,t){var n=this.__data__,r=u(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},c.prototype.clear=function(){this.__data__={hash:new s,map:new(ii||l),string:new s}},c.prototype.delete=function(e){return d(this,e).delete(e)},c.prototype.get=function(e){return d(this,e).get(e)},c.prototype.has=function(e){return d(this,e).has(e)},c.prototype.set=function(e,t){return d(this,e).set(e,t),this},f.Cache=c;var ai=f,si=function(){function e(e,t){var n=-1;return e.some(function(e,r){return e[0]===t&&(n=r,!0)}),n}return"undefined"!=typeof Map?Map:function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),li="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,ci=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),ui="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(ci):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},di=2,hi=20,fi=["top","right","bottom","left","width","height","size","weight"],pi="undefined"!=typeof MutationObserver,mi=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){function n(){o&&(o=!1,e()),a&&i()}function r(){ui(n)}function i(){var e=Date.now();if(o){if(e-s<di)return;a=!0}else o=!0,a=!1,setTimeout(r,t);s=e}var o=!1,a=!1,s=0;return i}(this.refresh.bind(this),hi)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){li&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),pi?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){li&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;fi.some(function(e){return!!~n.indexOf(e)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),vi=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},gi=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||ci},yi=y(0,0,0,0),_i="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof gi(e).SVGGraphicsElement}:function(e){return e instanceof gi(e).SVGElement&&"function"==typeof e.getBBox},bi=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=g(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),wi=function(e,t){var n,r,i,o,a,s,l,c=(r=(n=t).x,i=n.y,o=n.width,a=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(s.prototype),vi(l,{x:r,y:i,width:o,height:a,top:i,right:r+o,bottom:a+i,left:r}),l);vi(this,{target:e,contentRect:c})},xi=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new si,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof gi(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new bi(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof gi(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new wi(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),Si="undefined"!=typeof WeakMap?new WeakMap:new si,Ti=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=mi.getInstance(),r=new xi(t,n,this);Si.set(this,r)};["observe","unobserve","disconnect"].forEach(function(e){Ti.prototype[e]=function(){var t;return(t=Si.get(this))[e].apply(t,arguments)}});var Ei=void 0!==ci.ResizeObserver?ci.ResizeObserver:Ti,Ai=!("undefined"==typeof window||!window.document||!window.document.createElement),Mi=function(){function e(t,n){var r=this;this.onScroll=function(){r.scrollXTicking||(window.requestAnimationFrame(r.scrollX),r.scrollXTicking=!0),r.scrollYTicking||(window.requestAnimationFrame(r.scrollY),r.scrollYTicking=!0)},this.scrollX=function(){r.axis.x.isOverflowing&&(r.showScrollbar("x"),r.positionScrollbar("x")),r.scrollXTicking=!1},this.scrollY=function(){r.axis.y.isOverflowing&&(r.showScrollbar("y"),r.positionScrollbar("y")),r.scrollYTicking=!1},this.onMouseEnter=function(){r.showScrollbar("x"),r.showScrollbar("y")},this.onMouseMove=function(e){r.mouseX=e.clientX,r.mouseY=e.clientY,(r.axis.x.isOverflowing||r.axis.x.forceVisible)&&r.onMouseMoveForAxis("x"),(r.axis.y.isOverflowing||r.axis.y.forceVisible)&&r.onMouseMoveForAxis("y")},this.onMouseLeave=function(){r.onMouseMove.cancel(),(r.axis.x.isOverflowing||r.axis.x.forceVisible)&&r.onMouseLeaveForAxis("x"),(r.axis.y.isOverflowing||r.axis.y.forceVisible)&&r.onMouseLeaveForAxis("y"),r.mouseX=-1,r.mouseY=-1},this.onWindowResize=function(){r.scrollbarWidth=_(),r.hideNativeScrollbar()},this.hideScrollbars=function(){r.axis.x.track.rect=r.axis.x.track.el.getBoundingClientRect(),r.axis.y.track.rect=r.axis.y.track.el.getBoundingClientRect(),r.isWithinBounds(r.axis.y.track.rect)||(r.axis.y.scrollbar.el.classList.remove(r.classNames.visible),r.axis.y.isVisible=!1),r.isWithinBounds(r.axis.x.track.rect)||(r.axis.x.scrollbar.el.classList.remove(r.classNames.visible),r.axis.x.isVisible=!1)},this.onPointerEvent=function(e){var t,n;r.axis.x.scrollbar.rect=r.axis.x.scrollbar.el.getBoundingClientRect(),r.axis.y.scrollbar.rect=r.axis.y.scrollbar.el.getBoundingClientRect(),(r.axis.x.isOverflowing||r.axis.x.forceVisible)&&(n=r.isWithinBounds(r.axis.x.scrollbar.rect)),(r.axis.y.isOverflowing||r.axis.y.forceVisible)&&(t=r.isWithinBounds(r.axis.y.scrollbar.rect)),(t||n)&&(e.preventDefault(),e.stopPropagation(),"mousedown"===e.type&&(t&&r.onDragStart(e,"y"),n&&r.onDragStart(e,"x")))},this.drag=function(t){var n=r.axis[r.draggedAxis].track,i=n.rect[r.axis[r.draggedAxis].sizeAttr],o=r.axis[r.draggedAxis].scrollbar;t.preventDefault(),t.stopPropagation();var a=(("y"===r.draggedAxis?t.pageY:t.pageX)-n.rect[r.axis[r.draggedAxis].offsetAttr]-r.axis[r.draggedAxis].dragOffset)/n.rect[r.axis[r.draggedAxis].sizeAttr]*r.contentWrapperEl[r.axis[r.draggedAxis].scrollSizeAttr];"x"===r.draggedAxis&&(a=r.isRtl&&e.getRtlHelpers().isRtlScrollbarInverted?a-(i+o.size):a,a=r.isRtl&&e.getRtlHelpers().isRtlScrollingInverted?-a:a),r.contentWrapperEl[r.axis[r.draggedAxis].scrollOffsetAttr]=a},this.onEndDrag=function(e){e.preventDefault(),e.stopPropagation(),r.el.classList.remove(r.classNames.dragging),document.removeEventListener("mousemove",r.drag,!0),document.removeEventListener("mouseup",r.onEndDrag,!0),r.removePreventClickId=window.setTimeout(function(){document.removeEventListener("click",r.preventClick,!0),document.removeEventListener("dblclick",r.preventClick,!0),r.removePreventClickId=null})},this.preventClick=function(e){e.preventDefault(),e.stopPropagation()},this.el=t,this.flashTimeout,this.contentEl,this.contentWrapperEl,this.offsetEl,this.maskEl,this.globalObserver,this.mutationObserver,this.resizeObserver,this.scrollbarWidth,this.minScrollbarWidth=20,this.options=Object.assign({},e.defaultOptions,n),this.classNames=Object.assign({},e.defaultOptions.classNames,this.options.classNames),this.isRtl,this.axis={x:{scrollOffsetAttr:"scrollLeft",sizeAttr:"width",scrollSizeAttr:"scrollWidth",offsetAttr:"left",overflowAttr:"overflowX",dragOffset:0,isOverflowing:!0,isVisible:!1,forceVisible:!1,track:{},scrollbar:{}},y:{scrollOffsetAttr:"scrollTop",sizeAttr:"height",scrollSizeAttr:"scrollHeight",offsetAttr:"top",overflowAttr:"overflowY",dragOffset:0,isOverflowing:!0,isVisible:!1,forceVisible:!1,track:{},scrollbar:{}}},this.removePreventClickId=null,e.instances.has(this.el)||(this.recalculate=Tr(this.recalculate.bind(this),64),this.onMouseMove=Tr(this.onMouseMove.bind(this),64),this.hideScrollbars=Fr(this.hideScrollbars.bind(this),this.options.timeout),this.onWindowResize=Fr(this.onWindowResize.bind(this),64,{leading:!0}),e.getRtlHelpers=ai(e.getRtlHelpers),this.init())}e.getRtlHelpers=function(){var t=document.createElement("div");t.innerHTML='<div class="hs-dummy-scrollbar-size"><div style="height: 200%; width: 200%; margin: 10px 0;"></div></div>';var n=t.firstElementChild;document.body.appendChild(n);var r=n.firstElementChild;n.scrollLeft=0;var i=e.getOffset(n),o=e.getOffset(r);n.scrollLeft=999;var a=e.getOffset(r);return{isRtlScrollingInverted:i.left!==o.left&&o.left-a.left!=0,isRtlScrollbarInverted:i.left!==o.left}},e.initHtmlApi=function(){this.initDOMLoadedElements=this.initDOMLoadedElements.bind(this),"undefined"!=typeof MutationObserver&&(this.globalObserver=new MutationObserver(function(t){t.forEach(function(t){Array.prototype.forEach.call(t.addedNodes,function(t){1===t.nodeType&&(t.hasAttribute("data-simplebar")?!e.instances.has(t)&&new e(t,e.getElOptions(t)):Array.prototype.forEach.call(t.querySelectorAll("[data-simplebar]"),function(t){!e.instances.has(t)&&new e(t,e.getElOptions(t))}))}),Array.prototype.forEach.call(t.removedNodes,function(t){1===t.nodeType&&(t.hasAttribute("data-simplebar")?e.instances.has(t)&&e.instances.get(t).unMount():Array.prototype.forEach.call(t.querySelectorAll("[data-simplebar]"),function(t){e.instances.has(t)&&e.instances.get(t).unMount()}))})})}),this.globalObserver.observe(document,{childList:!0,subtree:!0})),"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(this.initDOMLoadedElements):(document.addEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.addEventListener("load",this.initDOMLoadedElements))},e.getElOptions=function(e){return Array.prototype.reduce.call(e.attributes,function(e,t){var n=t.name.match(/data-simplebar-(.+)/);if(n){var r=n[1].replace(/\W+(.)/g,function(e,t){return t.toUpperCase()});switch(t.value){case"true":e[r]=!0;break;case"false":e[r]=!1;break;case void 0:e[r]=!0;break;default:e[r]=t.value}}return e},{})},e.removeObserver=function(){this.globalObserver.disconnect()},e.initDOMLoadedElements=function(){document.removeEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.removeEventListener("load",this.initDOMLoadedElements),Array.prototype.forEach.call(document.querySelectorAll("[data-simplebar]"),function(t){e.instances.has(t)||new e(t,e.getElOptions(t))})},e.getOffset=function(e){var t=e.getBoundingClientRect();return{top:t.top+(window.pageYOffset||document.documentElement.scrollTop),left:t.left+(window.pageXOffset||document.documentElement.scrollLeft)}};var t=e.prototype;return t.init=function(){e.instances.set(this.el,this),Ai&&(this.initDOM(),this.scrollbarWidth=_(),this.recalculate(),this.initListeners())},t.initDOM=function(){var e=this;if(Array.prototype.filter.call(this.el.children,function(t){return t.classList.contains(e.classNames.wrapper)}).length)this.wrapperEl=this.el.querySelector("."+this.classNames.wrapper),this.contentWrapperEl=this.options.scrollableNode||this.el.querySelector("."+this.classNames.contentWrapper),this.contentEl=this.options.contentNode||this.el.querySelector("."+this.classNames.contentEl),this.offsetEl=this.el.querySelector("."+this.classNames.offset),this.maskEl=this.el.querySelector("."+this.classNames.mask),this.placeholderEl=this.el.querySelector("."+this.classNames.placeholder),this.heightAutoObserverWrapperEl=this.el.querySelector("."+this.classNames.heightAutoObserverWrapperEl),this.heightAutoObserverEl=this.el.querySelector("."+this.classNames.heightAutoObserverEl),this.axis.x.track.el=this.el.querySelector("."+this.classNames.track+"."+this.classNames.horizontal),this.axis.y.track.el=this.el.querySelector("."+this.classNames.track+"."+this.classNames.vertical);else{for(this.wrapperEl=document.createElement("div"),this.contentWrapperEl=document.createElement("div"),this.offsetEl=document.createElement("div"),this.maskEl=document.createElement("div"),this.contentEl=document.createElement("div"),this.placeholderEl=document.createElement("div"),this.heightAutoObserverWrapperEl=document.createElement("div"),this.heightAutoObserverEl=document.createElement("div"),this.wrapperEl.classList.add(this.classNames.wrapper),this.contentWrapperEl.classList.add(this.classNames.contentWrapper),this.offsetEl.classList.add(this.classNames.offset),this.maskEl.classList.add(this.classNames.mask),this.contentEl.classList.add(this.classNames.contentEl),this.placeholderEl.classList.add(this.classNames.placeholder),this.heightAutoObserverWrapperEl.classList.add(this.classNames.heightAutoObserverWrapperEl),this.heightAutoObserverEl.classList.add(this.classNames.heightAutoObserverEl);this.el.firstChild;)this.contentEl.appendChild(this.el.firstChild);this.contentWrapperEl.appendChild(this.contentEl),this.offsetEl.appendChild(this.contentWrapperEl),this.maskEl.appendChild(this.offsetEl),this.heightAutoObserverWrapperEl.appendChild(this.heightAutoObserverEl),this.wrapperEl.appendChild(this.heightAutoObserverWrapperEl),this.wrapperEl.appendChild(this.maskEl),this.wrapperEl.appendChild(this.placeholderEl),this.el.appendChild(this.wrapperEl)}if(!this.axis.x.track.el||!this.axis.y.track.el){var t=document.createElement("div"),n=document.createElement("div");t.classList.add(this.classNames.track),n.classList.add(this.classNames.scrollbar),t.appendChild(n),this.axis.x.track.el=t.cloneNode(!0),this.axis.x.track.el.classList.add(this.classNames.horizontal),this.axis.y.track.el=t.cloneNode(!0),this.axis.y.track.el.classList.add(this.classNames.vertical),this.el.appendChild(this.axis.x.track.el),this.el.appendChild(this.axis.y.track.el)}this.axis.x.scrollbar.el=this.axis.x.track.el.querySelector("."+this.classNames.scrollbar),this.axis.y.scrollbar.el=this.axis.y.track.el.querySelector("."+this.classNames.scrollbar),this.options.autoHide||(this.axis.x.scrollbar.el.classList.add(this.classNames.visible),this.axis.y.scrollbar.el.classList.add(this.classNames.visible)),this.el.setAttribute("data-simplebar","init")},t.initListeners=function(){var e=this;this.options.autoHide&&this.el.addEventListener("mouseenter",this.onMouseEnter),["mousedown","click","dblclick"].forEach(function(t){e.el.addEventListener(t,e.onPointerEvent,!0)}),["touchstart","touchend","touchmove"].forEach(function(t){e.el.addEventListener(t,e.onPointerEvent,{capture:!0,passive:!0})}),this.el.addEventListener("mousemove",this.onMouseMove),this.el.addEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl.addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.onWindowResize),this.resizeObserver=new Ei(this.recalculate),this.resizeObserver.observe(this.el),this.resizeObserver.observe(this.contentEl)},t.recalculate=function(){var e=this.heightAutoObserverEl.offsetHeight<=1,t=this.heightAutoObserverEl.offsetWidth<=1;this.elStyles=window.getComputedStyle(this.el),this.isRtl="rtl"===this.elStyles.direction,this.contentEl.style.padding=this.elStyles.paddingTop+" "+this.elStyles.paddingRight+" "+this.elStyles.paddingBottom+" "+this.elStyles.paddingLeft,this.wrapperEl.style.margin="-"+this.elStyles.paddingTop+" -"+this.elStyles.paddingRight+" -"+this.elStyles.paddingBottom+" -"+this.elStyles.paddingLeft,this.contentWrapperEl.style.height=e?"auto":"100%",this.placeholderEl.style.width=t?this.contentEl.offsetWidth+"px":"auto",this.placeholderEl.style.height=this.contentEl.scrollHeight+"px",this.axis.x.isOverflowing=this.contentWrapperEl.scrollWidth>this.contentWrapperEl.offsetWidth,this.axis.y.isOverflowing=this.contentWrapperEl.scrollHeight>this.contentWrapperEl.offsetHeight,this.axis.x.isOverflowing="hidden"!==this.elStyles.overflowX&&this.axis.x.isOverflowing,this.axis.y.isOverflowing="hidden"!==this.elStyles.overflowY&&this.axis.y.isOverflowing,this.axis.x.forceVisible="x"===this.options.forceVisible||!0===this.options.forceVisible,this.axis.y.forceVisible="y"===this.options.forceVisible||!0===this.options.forceVisible,this.hideNativeScrollbar(),this.axis.x.track.rect=this.axis.x.track.el.getBoundingClientRect(),this.axis.y.track.rect=this.axis.y.track.el.getBoundingClientRect(),this.axis.x.scrollbar.size=this.getScrollbarSize("x"),this.axis.y.scrollbar.size=this.getScrollbarSize("y"),this.axis.x.scrollbar.el.style.width=this.axis.x.scrollbar.size+"px",this.axis.y.scrollbar.el.style.height=this.axis.y.scrollbar.size+"px",this.positionScrollbar("x"),this.positionScrollbar("y"),this.toggleTrackVisibility("x"),this.toggleTrackVisibility("y")},t.getScrollbarSize=function(e){void 0===e&&(e="y");var t,n=this.scrollbarWidth?this.contentWrapperEl[this.axis[e].scrollSizeAttr]:this.contentWrapperEl[this.axis[e].scrollSizeAttr]-this.minScrollbarWidth,r=this.axis[e].track.rect[this.axis[e].sizeAttr];if(this.axis[e].isOverflowing){var i=r/n;return t=Math.max(~~(i*r),this.options.scrollbarMinSize),this.options.scrollbarMaxSize&&(t=Math.min(t,this.options.scrollbarMaxSize)),t}},t.positionScrollbar=function(t){void 0===t&&(t="y");var n=this.contentWrapperEl[this.axis[t].scrollSizeAttr],r=this.axis[t].track.rect[this.axis[t].sizeAttr],i=parseInt(this.elStyles[this.axis[t].sizeAttr],10),o=this.axis[t].scrollbar,a=this.contentWrapperEl[this.axis[t].scrollOffsetAttr],s=(a="x"===t&&this.isRtl&&e.getRtlHelpers().isRtlScrollingInverted?-a:a)/(n-i),l=~~((r-o.size)*s);l="x"===t&&this.isRtl&&e.getRtlHelpers().isRtlScrollbarInverted?l+(r-o.size):l,o.el.style.transform="x"===t?"translate3d("+l+"px, 0, 0)":"translate3d(0, "+l+"px, 0)"},t.toggleTrackVisibility=function(e){void 0===e&&(e="y");var t=this.axis[e].track.el,n=this.axis[e].scrollbar.el;this.axis[e].isOverflowing||this.axis[e].forceVisible?(t.style.visibility="visible",this.contentWrapperEl.style[this.axis[e].overflowAttr]="scroll"):(t.style.visibility="hidden",this.contentWrapperEl.style[this.axis[e].overflowAttr]="hidden"),this.axis[e].isOverflowing?n.style.display="block":n.style.display="none"},t.hideNativeScrollbar=function(){if(this.offsetEl.style[this.isRtl?"left":"right"]=this.axis.y.isOverflowing||this.axis.y.forceVisible?"-"+(this.scrollbarWidth||this.minScrollbarWidth)+"px":0,this.offsetEl.style.bottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?"-"+(this.scrollbarWidth||this.minScrollbarWidth)+"px":0,!this.scrollbarWidth){var e=[this.isRtl?"paddingLeft":"paddingRight"];this.contentWrapperEl.style[e]=this.axis.y.isOverflowing||this.axis.y.forceVisible?this.minScrollbarWidth+"px":0,this.contentWrapperEl.style.paddingBottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?this.minScrollbarWidth+"px":0}},t.onMouseMoveForAxis=function(e){void 0===e&&(e="y"),this.axis[e].track.rect=this.axis[e].track.el.getBoundingClientRect(),this.axis[e].scrollbar.rect=this.axis[e].scrollbar.el.getBoundingClientRect(),this.isWithinBounds(this.axis[e].scrollbar.rect)?this.axis[e].scrollbar.el.classList.add(this.classNames.hover):this.axis[e].scrollbar.el.classList.remove(this.classNames.hover),this.isWithinBounds(this.axis[e].track.rect)?(this.showScrollbar(e),this.axis[e].track.el.classList.add(this.classNames.hover)):this.axis[e].track.el.classList.remove(this.classNames.hover)},t.onMouseLeaveForAxis=function(e){void 0===e&&(e="y"),this.axis[e].track.el.classList.remove(this.classNames.hover),this.axis[e].scrollbar.el.classList.remove(this.classNames.hover)},t.showScrollbar=function(e){void 0===e&&(e="y");var t=this.axis[e].scrollbar.el;this.axis[e].isVisible||(t.classList.add(this.classNames.visible),this.axis[e].isVisible=!0),this.options.autoHide&&this.hideScrollbars()},t.onDragStart=function(e,t){void 0===t&&(t="y");var n=this.axis[t].scrollbar.el,r="y"===t?e.pageY:e.pageX;this.axis[t].dragOffset=r-n.getBoundingClientRect()[this.axis[t].offsetAttr],this.draggedAxis=t,this.el.classList.add(this.classNames.dragging),document.addEventListener("mousemove",this.drag,!0),document.addEventListener("mouseup",this.onEndDrag,!0),null===this.removePreventClickId?(document.addEventListener("click",this.preventClick,!0),document.addEventListener("dblclick",this.preventClick,!0)):(window.clearTimeout(this.removePreventClickId),this.removePreventClickId=null)},t.getContentElement=function(){return this.contentEl},t.getScrollElement=function(){return this.contentWrapperEl},t.removeListeners=function(){var e=this;this.options.autoHide&&this.el.removeEventListener("mouseenter",this.onMouseEnter),["mousedown","click","dblclick"].forEach(function(t){e.el.removeEventListener(t,e.onPointerEvent,!0)}),["touchstart","touchend","touchmove"].forEach(function(t){e.el.removeEventListener(t,e.onPointerEvent,{capture:!0,passive:!0})}),this.el.removeEventListener("mousemove",this.onMouseMove),this.el.removeEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onWindowResize),this.mutationObserver&&this.mutationObserver.disconnect(),this.resizeObserver.disconnect(),this.recalculate.cancel(),this.onMouseMove.cancel(),this.hideScrollbars.cancel(),this.onWindowResize.cancel()},t.unMount=function(){this.removeListeners(),e.instances.delete(this.el)},t.isChildNode=function(e){return null!==e&&(e===this.el||this.isChildNode(e.parentNode))},t.isWithinBounds=function(e){return this.mouseX>=e.left&&this.mouseX<=e.left+e.width&&this.mouseY>=e.top&&this.mouseY<=e.top+e.height},e}();return Mi.defaultOptions={autoHide:!0,forceVisible:!1,classNames:{contentEl:"simplebar-content",contentWrapper:"simplebar-content-wrapper",offset:"simplebar-offset",mask:"simplebar-mask",wrapper:"simplebar-wrapper",placeholder:"simplebar-placeholder",scrollbar:"simplebar-scrollbar",track:"simplebar-track",heightAutoObserverWrapperEl:"simplebar-height-auto-observer-wrapper",heightAutoObserverEl:"simplebar-height-auto-observer",visible:"simplebar-visible",horizontal:"simplebar-horizontal",vertical:"simplebar-vertical",hover:"simplebar-hover",dragging:"simplebar-dragging"},scrollbarMinSize:25,scrollbarMaxSize:0,timeout:1e3},Mi.instances=new WeakMap,Ai&&Mi.initHtmlApi(),Mi})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],25:[function(e,t,n){!function(){"use strict";if("undefined"!=typeof window&&window.addEventListener){var e,t,n,r=Object.create(null),i=function(){clearTimeout(t),t=setTimeout(e,100)},o=function(){},a=function(){var e;window.addEventListener("resize",i,!1),window.addEventListener("orientationchange",i,!1),window.MutationObserver?((e=new MutationObserver(i)).observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0}),o=function(){try{e.disconnect(),window.removeEventListener("resize",i,!1),window.removeEventListener("orientationchange",i,!1)}catch(e){}}):(document.documentElement.addEventListener("DOMSubtreeModified",i,!1),o=function(){document.documentElement.removeEventListener("DOMSubtreeModified",i,!1),window.removeEventListener("resize",i,!1),window.removeEventListener("orientationchange",i,!1)})},s=function(e){function t(e){var t;return void 0!==e.protocol?t=e:(t=document.createElement("a")).href=e,t.protocol.replace(/:/g,"")+t.host}var n,r,i;return window.XMLHttpRequest&&(n=new XMLHttpRequest,r=t(location),i=t(e),n=void 0===n.withCredentials&&""!==i&&i!==r?XDomainRequest||void 0:XMLHttpRequest),n},l="http://www.w3.org/1999/xlink";e=function(){function e(){0==(y-=1)&&(o(),a())}function t(e){return function(){!0!==r[e.base]&&(e.useEl.setAttributeNS(l,"xlink:href","#"+e.hash),e.useEl.hasAttribute("href")&&e.useEl.setAttribute("href","#"+e.hash))}}function n(t){return function(){t.onerror=null,t.ontimeout=null,e()}}var i,c,u,d,h,f,p,m,v,g,y=0;for(o(),v=document.getElementsByTagName("use"),h=0;h<v.length;h+=1){try{c=v[h].getBoundingClientRect()}catch(e){c=!1}i=(m=(d=v[h].getAttribute("href")||v[h].getAttributeNS(l,"href")||v[h].getAttribute("xlink:href"))&&d.split?d.split("#"):["",""])[0],u=m[1],f=c&&0===c.left&&0===c.right&&0===c.top&&0===c.bottom,c&&0===c.width&&0===c.height&&!f?(v[h].hasAttribute("href")&&v[h].setAttributeNS(l,"xlink:href",d),i.length&&(!0!==(g=r[i])&&setTimeout(t({useEl:v[h],base:i,hash:u}),0),void 0===g&&void 0!==(p=s(i))&&(g=new p,r[i]=g,g.onload=function(t){return function(){var n,r=document.body,i=document.createElement("x");t.onload=null,i.innerHTML=t.responseText,(n=i.getElementsByTagName("svg")[0])&&(n.setAttribute("aria-hidden","true"),n.style.position="absolute",n.style.width=0,n.style.height=0,n.style.overflow="hidden",r.insertBefore(n,r.firstChild)),e()}}(g),g.onerror=n(g),g.ontimeout=n(g),g.open("GET",i),g.send(),y+=1))):f?i.length&&r[i]&&setTimeout(t({useEl:v[h],base:i,hash:u}),0):void 0===r[i]?r[i]=!0:r[i].onload&&(r[i].abort(),delete r[i].onload,r[i]=!0)}v="",y+=1,e()},n=function(){window.removeEventListener("load",n,!1),t=setTimeout(e,0)},"complete"!==document.readyState?window.addEventListener("load",n,!1):n()}}()},{}],26:[function(e,t,n){!function(){"use strict";var e,t,n=function(t,i){function o(e){return Math.floor(e)}function a(){var e=b.params.autoplay,t=b.slides.eq(b.activeIndex);t.attr("data-swiper-autoplay")&&(e=t.attr("data-swiper-autoplay")||b.params.autoplay),b.autoplayTimeoutId=setTimeout(function(){b.params.loop?(b.fixLoop(),b._slideNext(),b.emit("onAutoplay",b)):b.isEnd?i.autoplayStopOnLast?b.stopAutoplay():(b._slideTo(0),b.emit("onAutoplay",b)):(b._slideNext(),b.emit("onAutoplay",b))},e)}function s(t,n){var r=e(t.target);if(!r.is(n))if("string"==typeof n)r=r.parents(n);else if(n.nodeType){var i;return r.parents().each(function(e,t){t===n&&(i=n)}),i?n:void 0}if(0!==r.length)return r[0]}function l(e,t){t=t||{};var n=new(window.MutationObserver||window.WebkitMutationObserver)(function(e){e.forEach(function(e){b.onResize(!0),b.emit("onObserverUpdate",b,e)})});n.observe(e,{attributes:void 0===t.attributes||t.attributes,childList:void 0===t.childList||t.childList,characterData:void 0===t.characterData||t.characterData}),b.observers.push(n)}function c(e){e.originalEvent&&(e=e.originalEvent);var t=e.keyCode||e.charCode;if(!b.params.allowSwipeToNext&&(b.isHorizontal()&&39===t||!b.isHorizontal()&&40===t))return!1;if(!b.params.allowSwipeToPrev&&(b.isHorizontal()&&37===t||!b.isHorizontal()&&38===t))return!1;if(!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===t||39===t||38===t||40===t){var n=!1;if(b.container.parents("."+b.params.slideClass).length>0&&0===b.container.parents("."+b.params.slideActiveClass).length)return;var r={left:window.pageXOffset,top:window.pageYOffset},i=window.innerWidth,o=window.innerHeight,a=b.container.offset();b.rtl&&(a.left=a.left-b.container[0].scrollLeft);for(var s=[[a.left,a.top],[a.left+b.width,a.top],[a.left,a.top+b.height],[a.left+b.width,a.top+b.height]],l=0;l<s.length;l++){var c=s[l];c[0]>=r.left&&c[0]<=r.left+i&&c[1]>=r.top&&c[1]<=r.top+o&&(n=!0)}if(!n)return}b.isHorizontal()?(37!==t&&39!==t||(e.preventDefault?e.preventDefault():e.returnValue=!1),(39===t&&!b.rtl||37===t&&b.rtl)&&b.slideNext(),(37===t&&!b.rtl||39===t&&b.rtl)&&b.slidePrev()):(38!==t&&40!==t||(e.preventDefault?e.preventDefault():e.returnValue=!1),40===t&&b.slideNext(),38===t&&b.slidePrev()),b.emit("onKeyPress",b,t)}}function u(e){e.originalEvent&&(e=e.originalEvent);var t=0,n=b.rtl?-1:1,r=function(e){var t=0,n=0,r=0,i=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=10*t,i=10*n,"deltaY"in e&&(i=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||i)&&e.deltaMode&&(1===e.deltaMode?(r*=40,i*=40):(r*=800,i*=800)),r&&!t&&(t=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:i}}(e);if(b.params.mousewheelForceToAxis)if(b.isHorizontal()){if(!(Math.abs(r.pixelX)>Math.abs(r.pixelY)))return;t=r.pixelX*n}else{if(!(Math.abs(r.pixelY)>Math.abs(r.pixelX)))return;t=r.pixelY}else t=Math.abs(r.pixelX)>Math.abs(r.pixelY)?-r.pixelX*n:-r.pixelY;if(0!==t){if(b.params.mousewheelInvert&&(t=-t),b.params.freeMode){var i=b.getWrapperTranslate()+t*b.params.mousewheelSensitivity,o=b.isBeginning,a=b.isEnd;if(i>=b.minTranslate()&&(i=b.minTranslate()),i<=b.maxTranslate()&&(i=b.maxTranslate()),b.setWrapperTransition(0),b.setWrapperTranslate(i),b.updateProgress(),b.updateActiveIndex(),(!o&&b.isBeginning||!a&&b.isEnd)&&b.updateClasses(),b.params.freeModeSticky?(clearTimeout(b.mousewheel.timeout),b.mousewheel.timeout=setTimeout(function(){b.slideReset()},300)):b.params.lazyLoading&&b.lazy&&b.lazy.load(),b.emit("onScroll",b,e),b.params.autoplay&&b.params.autoplayDisableOnInteraction&&b.stopAutoplay(),0===i||i===b.maxTranslate())return}else{if((new window.Date).getTime()-b.mousewheel.lastScrollTime>60)if(t<0)if(b.isEnd&&!b.params.loop||b.animating){if(b.params.mousewheelReleaseOnEdges)return!0}else b.slideNext(),b.emit("onScroll",b,e);else if(b.isBeginning&&!b.params.loop||b.animating){if(b.params.mousewheelReleaseOnEdges)return!0}else b.slidePrev(),b.emit("onScroll",b,e);b.mousewheel.lastScrollTime=(new window.Date).getTime()}return e.preventDefault?e.preventDefault():e.returnValue=!1,!1}}function d(t,n){t=e(t);var r,i,o,a=b.rtl?-1:1;r=t.attr("data-swiper-parallax")||"0",i=t.attr("data-swiper-parallax-x"),o=t.attr("data-swiper-parallax-y"),i||o?(i=i||"0",o=o||"0"):b.isHorizontal()?(i=r,o="0"):(o=r,i="0"),i=i.indexOf("%")>=0?parseInt(i,10)*n*a+"%":i*n*a+"px",o=o.indexOf("%")>=0?parseInt(o,10)*n+"%":o*n+"px",t.transform("translate3d("+i+", "+o+",0px)")}function h(e){return 0!==e.indexOf("on")&&(e=e[0]!==e[0].toUpperCase()?"on"+e[0].toUpperCase()+e.substring(1):"on"+e),e}if(!(this instanceof n))return new n(t,i);var f={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,autoplayStopOnLast:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},flip:{slideShadows:!0,limitRotation:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,zoom:!1,zoomMax:3,zoomMin:1,zoomToggle:!0,scrollbar:null,scrollbarHide:!0,scrollbarDraggable:!1,scrollbarSnapOnRelease:!1,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,mousewheelSensitivity:1,mousewheelEventsTarged:"container",hashnav:!1,hashnavWatchState:!1,history:!1,replaceState:!1,breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,touchReleaseOnEdges:!1,uniqueNavElements:!0,pagination:null,paginationElement:"span",paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,paginationProgressRender:null,paginationFractionRender:null,paginationCustomRender:null,paginationType:"bullets",resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingInPrevNextAmount:1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,controlBy:"slide",normalizeSlideIndex:!0,allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationCurrentClass:"swiper-pagination-current",paginationTotalClass:"swiper-pagination-total",paginationHiddenClass:"swiper-pagination-hidden",paginationProgressbarClass:"swiper-pagination-progressbar",paginationClickableClass:"swiper-pagination-clickable",paginationModifierClass:"swiper-pagination-",lazyLoadingClass:"swiper-lazy",lazyStatusLoadingClass:"swiper-lazy-loading",lazyStatusLoadedClass:"swiper-lazy-loaded",lazyPreloaderClass:"swiper-lazy-preloader",notificationClass:"swiper-notification",preloaderClass:"preloader",zoomContainerClass:"swiper-zoom-container",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:!0},p=i&&i.virtualTranslate;i=i||{};var m={};for(var v in i)if("object"!=typeof i[v]||null===i[v]||i[v].nodeType||i[v]===window||i[v]===document||void 0!==r&&i[v]instanceof r||"undefined"!=typeof jQuery&&i[v]instanceof jQuery)m[v]=i[v];else for(var g in m[v]={},i[v])m[v][g]=i[v][g];for(var y in f)if(void 0===i[y])i[y]=f[y];else if("object"==typeof i[y])for(var _ in f[y])void 0===i[y][_]&&(i[y][_]=f[y][_]);var b=this;if(b.params=i,b.originalParams=m,b.classNames=[],void 0!==e&&void 0!==r&&(e=r),(void 0!==e||(e=void 0===r?window.Dom7||window.Zepto||window.jQuery:r))&&(b.$=e,b.currentBreakpoint=void 0,b.getActiveBreakpoint=function(){if(!b.params.breakpoints)return!1;var e,t=!1,n=[];for(e in b.params.breakpoints)b.params.breakpoints.hasOwnProperty(e)&&n.push(e);n.sort(function(e,t){return parseInt(e,10)>parseInt(t,10)});for(var r=0;r<n.length;r++)(e=n[r])>=window.innerWidth&&!t&&(t=e);return t||"max"},b.setBreakpoint=function(){var e=b.getActiveBreakpoint();if(e&&b.currentBreakpoint!==e){var t=e in b.params.breakpoints?b.params.breakpoints[e]:b.originalParams,n=b.params.loop&&t.slidesPerView!==b.params.slidesPerView;for(var r in t)b.params[r]=t[r];b.currentBreakpoint=e,n&&b.destroyLoop&&b.reLoop(!0)}},b.params.breakpoints&&b.setBreakpoint(),b.container=e(t),0!==b.container.length)){if(b.container.length>1){var w=[];return b.container.each(function(){w.push(new n(this,i))}),w}b.container[0].swiper=b,b.container.data("swiper",b),b.classNames.push(b.params.containerModifierClass+b.params.direction),b.params.freeMode&&b.classNames.push(b.params.containerModifierClass+"free-mode"),b.support.flexbox||(b.classNames.push(b.params.containerModifierClass+"no-flexbox"),b.params.slidesPerColumn=1),b.params.autoHeight&&b.classNames.push(b.params.containerModifierClass+"autoheight"),(b.params.parallax||b.params.watchSlidesVisibility)&&(b.params.watchSlidesProgress=!0),b.params.touchReleaseOnEdges&&(b.params.resistanceRatio=0),["cube","coverflow","flip"].indexOf(b.params.effect)>=0&&(b.support.transforms3d?(b.params.watchSlidesProgress=!0,b.classNames.push(b.params.containerModifierClass+"3d")):b.params.effect="slide"),"slide"!==b.params.effect&&b.classNames.push(b.params.containerModifierClass+b.params.effect),"cube"===b.params.effect&&(b.params.resistanceRatio=0,b.params.slidesPerView=1,b.params.slidesPerColumn=1,b.params.slidesPerGroup=1,b.params.centeredSlides=!1,b.params.spaceBetween=0,b.params.virtualTranslate=!0),"fade"!==b.params.effect&&"flip"!==b.params.effect||(b.params.slidesPerView=1,b.params.slidesPerColumn=1,b.params.slidesPerGroup=1,b.params.watchSlidesProgress=!0,b.params.spaceBetween=0,void 0===p&&(b.params.virtualTranslate=!0)),b.params.grabCursor&&b.support.touch&&(b.params.grabCursor=!1),b.wrapper=b.container.children("."+b.params.wrapperClass),b.params.pagination&&(b.paginationContainer=e(b.params.pagination),b.params.uniqueNavElements&&"string"==typeof b.params.pagination&&b.paginationContainer.length>1&&1===b.container.find(b.params.pagination).length&&(b.paginationContainer=b.container.find(b.params.pagination)),"bullets"===b.params.paginationType&&b.params.paginationClickable?b.paginationContainer.addClass(b.params.paginationModifierClass+"clickable"):b.params.paginationClickable=!1,b.paginationContainer.addClass(b.params.paginationModifierClass+b.params.paginationType)),(b.params.nextButton||b.params.prevButton)&&(b.params.nextButton&&(b.nextButton=e(b.params.nextButton),b.params.uniqueNavElements&&"string"==typeof b.params.nextButton&&b.nextButton.length>1&&1===b.container.find(b.params.nextButton).length&&(b.nextButton=b.container.find(b.params.nextButton))),b.params.prevButton&&(b.prevButton=e(b.params.prevButton),b.params.uniqueNavElements&&"string"==typeof b.params.prevButton&&b.prevButton.length>1&&1===b.container.find(b.params.prevButton).length&&(b.prevButton=b.container.find(b.params.prevButton)))),b.isHorizontal=function(){return"horizontal"===b.params.direction},b.rtl=b.isHorizontal()&&("rtl"===b.container[0].dir.toLowerCase()||"rtl"===b.container.css("direction")),b.rtl&&b.classNames.push(b.params.containerModifierClass+"rtl"),b.rtl&&(b.wrongRTL="-webkit-box"===b.wrapper.css("display")),b.params.slidesPerColumn>1&&b.classNames.push(b.params.containerModifierClass+"multirow"),b.device.android&&b.classNames.push(b.params.containerModifierClass+"android"),b.container.addClass(b.classNames.join(" ")),b.translate=0,b.progress=0,b.velocity=0,b.lockSwipeToNext=function(){b.params.allowSwipeToNext=!1,!1===b.params.allowSwipeToPrev&&b.params.grabCursor&&b.unsetGrabCursor()},b.lockSwipeToPrev=function(){b.params.allowSwipeToPrev=!1,!1===b.params.allowSwipeToNext&&b.params.grabCursor&&b.unsetGrabCursor()},b.lockSwipes=function(){b.params.allowSwipeToNext=b.params.allowSwipeToPrev=!1,b.params.grabCursor&&b.unsetGrabCursor()},b.unlockSwipeToNext=function(){b.params.allowSwipeToNext=!0,!0===b.params.allowSwipeToPrev&&b.params.grabCursor&&b.setGrabCursor()},b.unlockSwipeToPrev=function(){b.params.allowSwipeToPrev=!0,!0===b.params.allowSwipeToNext&&b.params.grabCursor&&b.setGrabCursor()},b.unlockSwipes=function(){b.params.allowSwipeToNext=b.params.allowSwipeToPrev=!0,b.params.grabCursor&&b.setGrabCursor()},b.setGrabCursor=function(e){b.container[0].style.cursor="move",b.container[0].style.cursor=e?"-webkit-grabbing":"-webkit-grab",b.container[0].style.cursor=e?"-moz-grabbin":"-moz-grab",b.container[0].style.cursor=e?"grabbing":"grab"},b.unsetGrabCursor=function(){b.container[0].style.cursor=""},b.params.grabCursor&&b.setGrabCursor(),b.imagesToLoad=[],b.imagesLoaded=0,b.loadImage=function(e,t,n,r,i,o){function a(){o&&o()}var s;e.complete&&i?a():t?((s=new window.Image).onload=a,s.onerror=a,r&&(s.sizes=r),n&&(s.srcset=n),t&&(s.src=t)):a()},b.preloadImages=function(){function e(){void 0!==b&&null!==b&&b&&(void 0!==b.imagesLoaded&&b.imagesLoaded++,b.imagesLoaded===b.imagesToLoad.length&&(b.params.updateOnImagesReady&&b.update(),b.emit("onImagesReady",b)))}b.imagesToLoad=b.container.find("img");for(var t=0;t<b.imagesToLoad.length;t++)b.loadImage(b.imagesToLoad[t],b.imagesToLoad[t].currentSrc||b.imagesToLoad[t].getAttribute("src"),b.imagesToLoad[t].srcset||b.imagesToLoad[t].getAttribute("srcset"),b.imagesToLoad[t].sizes||b.imagesToLoad[t].getAttribute("sizes"),!0,e)},b.autoplayTimeoutId=void 0,b.autoplaying=!1,b.autoplayPaused=!1,b.startAutoplay=function(){return void 0===b.autoplayTimeoutId&&!!b.params.autoplay&&!b.autoplaying&&(b.autoplaying=!0,b.emit("onAutoplayStart",b),void a())},b.stopAutoplay=function(e){b.autoplayTimeoutId&&(b.autoplayTimeoutId&&clearTimeout(b.autoplayTimeoutId),b.autoplaying=!1,b.autoplayTimeoutId=void 0,b.emit("onAutoplayStop",b))},b.pauseAutoplay=function(e){b.autoplayPaused||(b.autoplayTimeoutId&&clearTimeout(b.autoplayTimeoutId),b.autoplayPaused=!0,0===e?(b.autoplayPaused=!1,a()):b.wrapper.transitionEnd(function(){b&&(b.autoplayPaused=!1,b.autoplaying?a():b.stopAutoplay())}))},b.minTranslate=function(){return-b.snapGrid[0]},b.maxTranslate=function(){return-b.snapGrid[b.snapGrid.length-1]},b.updateAutoHeight=function(){var e,t=[],n=0;if("auto"!==b.params.slidesPerView&&b.params.slidesPerView>1)for(e=0;e<Math.ceil(b.params.slidesPerView);e++){var r=b.activeIndex+e;if(r>b.slides.length)break;t.push(b.slides.eq(r)[0])}else t.push(b.slides.eq(b.activeIndex)[0]);for(e=0;e<t.length;e++)if(void 0!==t[e]){var i=t[e].offsetHeight;n=i>n?i:n}n&&b.wrapper.css("height",n+"px")},b.updateContainerSize=function(){var e,t;e=void 0!==b.params.width?b.params.width:b.container[0].clientWidth,t=void 0!==b.params.height?b.params.height:b.container[0].clientHeight,0===e&&b.isHorizontal()||0===t&&!b.isHorizontal()||(e=e-parseInt(b.container.css("padding-left"),10)-parseInt(b.container.css("padding-right"),10),t=t-parseInt(b.container.css("padding-top"),10)-parseInt(b.container.css("padding-bottom"),10),b.width=e,b.height=t,b.size=b.isHorizontal()?b.width:b.height)},b.updateSlidesSize=function(){b.slides=b.wrapper.children("."+b.params.slideClass),b.snapGrid=[],b.slidesGrid=[],b.slidesSizesGrid=[];var e,t=b.params.spaceBetween,n=-b.params.slidesOffsetBefore,r=0,i=0;if(void 0!==b.size){var a;"string"==typeof t&&t.indexOf("%")>=0&&(t=parseFloat(t.replace("%",""))/100*b.size),b.virtualSize=-t,b.rtl?b.slides.css({marginLeft:"",marginTop:""}):b.slides.css({marginRight:"",marginBottom:""}),b.params.slidesPerColumn>1&&(a=Math.floor(b.slides.length/b.params.slidesPerColumn)===b.slides.length/b.params.slidesPerColumn?b.slides.length:Math.ceil(b.slides.length/b.params.slidesPerColumn)*b.params.slidesPerColumn,"auto"!==b.params.slidesPerView&&"row"===b.params.slidesPerColumnFill&&(a=Math.max(a,b.params.slidesPerView*b.params.slidesPerColumn)));var s,l,c=b.params.slidesPerColumn,u=a/c,d=u-(b.params.slidesPerColumn*u-b.slides.length);for(e=0;e<b.slides.length;e++){s=0;var h,f,p,m=b.slides.eq(e);if(b.params.slidesPerColumn>1)"column"===b.params.slidesPerColumnFill?(p=e-(f=Math.floor(e/c))*c,(f>d||f===d&&p===c-1)&&++p>=c&&(p=0,f++),h=f+p*a/c,m.css({"-webkit-box-ordinal-group":h,"-moz-box-ordinal-group":h,"-ms-flex-order":h,"-webkit-order":h,order:h})):f=e-(p=Math.floor(e/u))*u,m.css("margin-"+(b.isHorizontal()?"top":"left"),0!==p&&b.params.spaceBetween&&b.params.spaceBetween+"px").attr("data-swiper-column",f).attr("data-swiper-row",p);"none"!==m.css("display")&&("auto"===b.params.slidesPerView?(s=b.isHorizontal()?m.outerWidth(!0):m.outerHeight(!0),b.params.roundLengths&&(s=o(s))):(s=(b.size-(b.params.slidesPerView-1)*t)/b.params.slidesPerView,b.params.roundLengths&&(s=o(s)),b.isHorizontal()?b.slides[e].style.width=s+"px":b.slides[e].style.height=s+"px"),b.slides[e].swiperSlideSize=s,b.slidesSizesGrid.push(s),b.params.centeredSlides?(n=n+s/2+r/2+t,0===r&&0!==e&&(n=n-b.size/2-t),0===e&&(n=n-b.size/2-t),Math.abs(n)<.001&&(n=0),i%b.params.slidesPerGroup==0&&b.snapGrid.push(n),b.slidesGrid.push(n)):(i%b.params.slidesPerGroup==0&&b.snapGrid.push(n),b.slidesGrid.push(n),n=n+s+t),b.virtualSize+=s+t,r=s,i++)}if(b.virtualSize=Math.max(b.virtualSize,b.size)+b.params.slidesOffsetAfter,b.rtl&&b.wrongRTL&&("slide"===b.params.effect||"coverflow"===b.params.effect)&&b.wrapper.css({width:b.virtualSize+b.params.spaceBetween+"px"}),b.support.flexbox&&!b.params.setWrapperSize||(b.isHorizontal()?b.wrapper.css({width:b.virtualSize+b.params.spaceBetween+"px"}):b.wrapper.css({height:b.virtualSize+b.params.spaceBetween+"px"})),b.params.slidesPerColumn>1&&(b.virtualSize=(s+b.params.spaceBetween)*a,b.virtualSize=Math.ceil(b.virtualSize/b.params.slidesPerColumn)-b.params.spaceBetween,b.isHorizontal()?b.wrapper.css({width:b.virtualSize+b.params.spaceBetween+"px"}):b.wrapper.css({height:b.virtualSize+b.params.spaceBetween+"px"}),b.params.centeredSlides)){for(l=[],e=0;e<b.snapGrid.length;e++)b.snapGrid[e]<b.virtualSize+b.snapGrid[0]&&l.push(b.snapGrid[e]);b.snapGrid=l}if(!b.params.centeredSlides){for(l=[],e=0;e<b.snapGrid.length;e++)b.snapGrid[e]<=b.virtualSize-b.size&&l.push(b.snapGrid[e]);b.snapGrid=l,Math.floor(b.virtualSize-b.size)-Math.floor(b.snapGrid[b.snapGrid.length-1])>1&&b.snapGrid.push(b.virtualSize-b.size)}0===b.snapGrid.length&&(b.snapGrid=[0]),0!==b.params.spaceBetween&&(b.isHorizontal()?b.rtl?b.slides.css({marginLeft:t+"px"}):b.slides.css({marginRight:t+"px"}):b.slides.css({marginBottom:t+"px"})),b.params.watchSlidesProgress&&b.updateSlidesOffset()}},b.updateSlidesOffset=function(){for(var e=0;e<b.slides.length;e++)b.slides[e].swiperSlideOffset=b.isHorizontal()?b.slides[e].offsetLeft:b.slides[e].offsetTop},b.currentSlidesPerView=function(){var e,t,n=1;if(b.params.centeredSlides){var r,i=b.slides[b.activeIndex].swiperSlideSize;for(e=b.activeIndex+1;e<b.slides.length;e++)b.slides[e]&&!r&&(n++,(i+=b.slides[e].swiperSlideSize)>b.size&&(r=!0));for(t=b.activeIndex-1;t>=0;t--)b.slides[t]&&!r&&(n++,(i+=b.slides[t].swiperSlideSize)>b.size&&(r=!0))}else for(e=b.activeIndex+1;e<b.slides.length;e++)b.slidesGrid[e]-b.slidesGrid[b.activeIndex]<b.size&&n++;return n},b.updateSlidesProgress=function(e){if(void 0===e&&(e=b.translate||0),0!==b.slides.length){void 0===b.slides[0].swiperSlideOffset&&b.updateSlidesOffset();var t=-e;b.rtl&&(t=e),b.slides.removeClass(b.params.slideVisibleClass);for(var n=0;n<b.slides.length;n++){var r=b.slides[n],i=(t+(b.params.centeredSlides?b.minTranslate():0)-r.swiperSlideOffset)/(r.swiperSlideSize+b.params.spaceBetween);if(b.params.watchSlidesVisibility){var o=-(t-r.swiperSlideOffset),a=o+b.slidesSizesGrid[n];(o>=0&&o<b.size||a>0&&a<=b.size||o<=0&&a>=b.size)&&b.slides.eq(n).addClass(b.params.slideVisibleClass)}r.progress=b.rtl?-i:i}}},b.updateProgress=function(e){void 0===e&&(e=b.translate||0);var t=b.maxTranslate()-b.minTranslate(),n=b.isBeginning,r=b.isEnd;0===t?(b.progress=0,b.isBeginning=b.isEnd=!0):(b.progress=(e-b.minTranslate())/t,b.isBeginning=b.progress<=0,b.isEnd=b.progress>=1),b.isBeginning&&!n&&b.emit("onReachBeginning",b),b.isEnd&&!r&&b.emit("onReachEnd",b),b.params.watchSlidesProgress&&b.updateSlidesProgress(e),b.emit("onProgress",b,b.progress)},b.updateActiveIndex=function(){var e,t,n,r=b.rtl?b.translate:-b.translate;for(t=0;t<b.slidesGrid.length;t++)void 0!==b.slidesGrid[t+1]?r>=b.slidesGrid[t]&&r<b.slidesGrid[t+1]-(b.slidesGrid[t+1]-b.slidesGrid[t])/2?e=t:r>=b.slidesGrid[t]&&r<b.slidesGrid[t+1]&&(e=t+1):r>=b.slidesGrid[t]&&(e=t);b.params.normalizeSlideIndex&&(e<0||void 0===e)&&(e=0),(n=Math.floor(e/b.params.slidesPerGroup))>=b.snapGrid.length&&(n=b.snapGrid.length-1),e!==b.activeIndex&&(b.snapIndex=n,b.previousIndex=b.activeIndex,b.activeIndex=e,b.updateClasses(),b.updateRealIndex())},b.updateRealIndex=function(){b.realIndex=parseInt(b.slides.eq(b.activeIndex).attr("data-swiper-slide-index")||b.activeIndex,10)},b.updateClasses=function(){b.slides.removeClass(b.params.slideActiveClass+" "+b.params.slideNextClass+" "+b.params.slidePrevClass+" "+b.params.slideDuplicateActiveClass+" "+b.params.slideDuplicateNextClass+" "+b.params.slideDuplicatePrevClass);var t=b.slides.eq(b.activeIndex);t.addClass(b.params.slideActiveClass),i.loop&&(t.hasClass(b.params.slideDuplicateClass)?b.wrapper.children("."+b.params.slideClass+":not(."+b.params.slideDuplicateClass+')[data-swiper-slide-index="'+b.realIndex+'"]').addClass(b.params.slideDuplicateActiveClass):b.wrapper.children("."+b.params.slideClass+"."+b.params.slideDuplicateClass+'[data-swiper-slide-index="'+b.realIndex+'"]').addClass(b.params.slideDuplicateActiveClass));var n=t.next("."+b.params.slideClass).addClass(b.params.slideNextClass);b.params.loop&&0===n.length&&(n=b.slides.eq(0)).addClass(b.params.slideNextClass);var r=t.prev("."+b.params.slideClass).addClass(b.params.slidePrevClass);if(b.params.loop&&0===r.length&&(r=b.slides.eq(-1)).addClass(b.params.slidePrevClass),i.loop&&(n.hasClass(b.params.slideDuplicateClass)?b.wrapper.children("."+b.params.slideClass+":not(."+b.params.slideDuplicateClass+')[data-swiper-slide-index="'+n.attr("data-swiper-slide-index")+'"]').addClass(b.params.slideDuplicateNextClass):b.wrapper.children("."+b.params.slideClass+"."+b.params.slideDuplicateClass+'[data-swiper-slide-index="'+n.attr("data-swiper-slide-index")+'"]').addClass(b.params.slideDuplicateNextClass),r.hasClass(b.params.slideDuplicateClass)?b.wrapper.children("."+b.params.slideClass+":not(."+b.params.slideDuplicateClass+')[data-swiper-slide-index="'+r.attr("data-swiper-slide-index")+'"]').addClass(b.params.slideDuplicatePrevClass):b.wrapper.children("."+b.params.slideClass+"."+b.params.slideDuplicateClass+'[data-swiper-slide-index="'+r.attr("data-swiper-slide-index")+'"]').addClass(b.params.slideDuplicatePrevClass)),b.paginationContainer&&b.paginationContainer.length>0){var o,a=b.params.loop?Math.ceil((b.slides.length-2*b.loopedSlides)/b.params.slidesPerGroup):b.snapGrid.length;if(b.params.loop?((o=Math.ceil((b.activeIndex-b.loopedSlides)/b.params.slidesPerGroup))>b.slides.length-1-2*b.loopedSlides&&(o-=b.slides.length-2*b.loopedSlides),o>a-1&&(o-=a),o<0&&"bullets"!==b.params.paginationType&&(o=a+o)):o=void 0!==b.snapIndex?b.snapIndex:b.activeIndex||0,"bullets"===b.params.paginationType&&b.bullets&&b.bullets.length>0&&(b.bullets.removeClass(b.params.bulletActiveClass),b.paginationContainer.length>1?b.bullets.each(function(){e(this).index()===o&&e(this).addClass(b.params.bulletActiveClass)}):b.bullets.eq(o).addClass(b.params.bulletActiveClass)),"fraction"===b.params.paginationType&&(b.paginationContainer.find("."+b.params.paginationCurrentClass).text(o+1),b.paginationContainer.find("."+b.params.paginationTotalClass).text(a)),"progress"===b.params.paginationType){var s=(o+1)/a,l=s,c=1;b.isHorizontal()||(c=s,l=1),b.paginationContainer.find("."+b.params.paginationProgressbarClass).transform("translate3d(0,0,0) scaleX("+l+") scaleY("+c+")").transition(b.params.speed)}"custom"===b.params.paginationType&&b.params.paginationCustomRender&&(b.paginationContainer.html(b.params.paginationCustomRender(b,o+1,a)),b.emit("onPaginationRendered",b,b.paginationContainer[0]))}b.params.loop||(b.params.prevButton&&b.prevButton&&b.prevButton.length>0&&(b.isBeginning?(b.prevButton.addClass(b.params.buttonDisabledClass),b.params.a11y&&b.a11y&&b.a11y.disable(b.prevButton)):(b.prevButton.removeClass(b.params.buttonDisabledClass),b.params.a11y&&b.a11y&&b.a11y.enable(b.prevButton))),b.params.nextButton&&b.nextButton&&b.nextButton.length>0&&(b.isEnd?(b.nextButton.addClass(b.params.buttonDisabledClass),b.params.a11y&&b.a11y&&b.a11y.disable(b.nextButton)):(b.nextButton.removeClass(b.params.buttonDisabledClass),b.params.a11y&&b.a11y&&b.a11y.enable(b.nextButton))))},b.updatePagination=function(){if(b.params.pagination&&b.paginationContainer&&b.paginationContainer.length>0){var e="";if("bullets"===b.params.paginationType){for(var t=b.params.loop?Math.ceil((b.slides.length-2*b.loopedSlides)/b.params.slidesPerGroup):b.snapGrid.length,n=0;n<t;n++)b.params.paginationBulletRender?e+=b.params.paginationBulletRender(b,n,b.params.bulletClass):e+="<"+b.params.paginationElement+' class="'+b.params.bulletClass+'"></'+b.params.paginationElement+">";b.paginationContainer.html(e),b.bullets=b.paginationContainer.find("."+b.params.bulletClass),b.params.paginationClickable&&b.params.a11y&&b.a11y&&b.a11y.initPagination()}"fraction"===b.params.paginationType&&(e=b.params.paginationFractionRender?b.params.paginationFractionRender(b,b.params.paginationCurrentClass,b.params.paginationTotalClass):'<span class="'+b.params.paginationCurrentClass+'"></span> / <span class="'+b.params.paginationTotalClass+'"></span>',b.paginationContainer.html(e)),"progress"===b.params.paginationType&&(e=b.params.paginationProgressRender?b.params.paginationProgressRender(b,b.params.paginationProgressbarClass):'<span class="'+b.params.paginationProgressbarClass+'"></span>',b.paginationContainer.html(e)),"custom"!==b.params.paginationType&&b.emit("onPaginationRendered",b,b.paginationContainer[0])}},b.update=function(e){function t(){b.rtl,b.translate,n=Math.min(Math.max(b.translate,b.maxTranslate()),b.minTranslate()),b.setWrapperTranslate(n),b.updateActiveIndex(),b.updateClasses()}var n;b&&(b.updateContainerSize(),b.updateSlidesSize(),b.updateProgress(),b.updatePagination(),b.updateClasses(),b.params.scrollbar&&b.scrollbar&&b.scrollbar.set(),e?(b.controller&&b.controller.spline&&(b.controller.spline=void 0),b.params.freeMode?(t(),b.params.autoHeight&&b.updateAutoHeight()):(("auto"===b.params.slidesPerView||b.params.slidesPerView>1)&&b.isEnd&&!b.params.centeredSlides?b.slideTo(b.slides.length-1,0,!1,!0):b.slideTo(b.activeIndex,0,!1,!0))||t()):b.params.autoHeight&&b.updateAutoHeight())},b.onResize=function(e){b.params.onBeforeResize&&b.params.onBeforeResize(b),b.params.breakpoints&&b.setBreakpoint();var t=b.params.allowSwipeToPrev,n=b.params.allowSwipeToNext;b.params.allowSwipeToPrev=b.params.allowSwipeToNext=!0,b.updateContainerSize(),b.updateSlidesSize(),("auto"===b.params.slidesPerView||b.params.freeMode||e)&&b.updatePagination(),b.params.scrollbar&&b.scrollbar&&b.scrollbar.set(),b.controller&&b.controller.spline&&(b.controller.spline=void 0);var r=!1;if(b.params.freeMode){var i=Math.min(Math.max(b.translate,b.maxTranslate()),b.minTranslate());b.setWrapperTranslate(i),b.updateActiveIndex(),b.updateClasses(),b.params.autoHeight&&b.updateAutoHeight()}else b.updateClasses(),r=("auto"===b.params.slidesPerView||b.params.slidesPerView>1)&&b.isEnd&&!b.params.centeredSlides?b.slideTo(b.slides.length-1,0,!1,!0):b.slideTo(b.activeIndex,0,!1,!0);b.params.lazyLoading&&!r&&b.lazy&&b.lazy.load(),b.params.allowSwipeToPrev=t,b.params.allowSwipeToNext=n,b.params.onAfterResize&&b.params.onAfterResize(b)},b.touchEventsDesktop={start:"mousedown",move:"mousemove",end:"mouseup"},window.navigator.pointerEnabled?b.touchEventsDesktop={start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled&&(b.touchEventsDesktop={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}),b.touchEvents={start:b.support.touch||!b.params.simulateTouch?"touchstart":b.touchEventsDesktop.start,move:b.support.touch||!b.params.simulateTouch?"touchmove":b.touchEventsDesktop.move,end:b.support.touch||!b.params.simulateTouch?"touchend":b.touchEventsDesktop.end},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===b.params.touchEventsTarget?b.container:b.wrapper).addClass("swiper-wp8-"+b.params.direction),b.initEvents=function(e){var t=e?"off":"on",n=e?"removeEventListener":"addEventListener",r="container"===b.params.touchEventsTarget?b.container[0]:b.wrapper[0],o=b.support.touch?r:document,a=!!b.params.nested;if(b.browser.ie)r[n](b.touchEvents.start,b.onTouchStart,!1),o[n](b.touchEvents.move,b.onTouchMove,a),o[n](b.touchEvents.end,b.onTouchEnd,!1);else{if(b.support.touch){var s=!("touchstart"!==b.touchEvents.start||!b.support.passiveListener||!b.params.passiveListeners)&&{passive:!0,capture:!1};r[n](b.touchEvents.start,b.onTouchStart,s),r[n](b.touchEvents.move,b.onTouchMove,a),r[n](b.touchEvents.end,b.onTouchEnd,s)}(i.simulateTouch&&!b.device.ios&&!b.device.android||i.simulateTouch&&!b.support.touch&&b.device.ios)&&(r[n]("mousedown",b.onTouchStart,!1),document[n]("mousemove",b.onTouchMove,a),document[n]("mouseup",b.onTouchEnd,!1))}window[n]("resize",b.onResize),b.params.nextButton&&b.nextButton&&b.nextButton.length>0&&(b.nextButton[t]("click",b.onClickNext),b.params.a11y&&b.a11y&&b.nextButton[t]("keydown",b.a11y.onEnterKey)),b.params.prevButton&&b.prevButton&&b.prevButton.length>0&&(b.prevButton[t]("click",b.onClickPrev),b.params.a11y&&b.a11y&&b.prevButton[t]("keydown",b.a11y.onEnterKey)),b.params.pagination&&b.params.paginationClickable&&(b.paginationContainer[t]("click","."+b.params.bulletClass,b.onClickIndex),b.params.a11y&&b.a11y&&b.paginationContainer[t]("keydown","."+b.params.bulletClass,b.a11y.onEnterKey)),(b.params.preventClicks||b.params.preventClicksPropagation)&&r[n]("click",b.preventClicks,!0)},b.attachEvents=function(){b.initEvents()},b.detachEvents=function(){b.initEvents(!0)},b.allowClick=!0,b.preventClicks=function(e){b.allowClick||(b.params.preventClicks&&e.preventDefault(),b.params.preventClicksPropagation&&b.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))},b.onClickNext=function(e){e.preventDefault(),b.isEnd&&!b.params.loop||b.slideNext()},b.onClickPrev=function(e){e.preventDefault(),b.isBeginning&&!b.params.loop||b.slidePrev()},b.onClickIndex=function(t){t.preventDefault();var n=e(this).index()*b.params.slidesPerGroup;b.params.loop&&(n+=b.loopedSlides),b.slideTo(n)},b.updateClickedSlide=function(t){var n=s(t,"."+b.params.slideClass),r=!1;if(n)for(var i=0;i<b.slides.length;i++)b.slides[i]===n&&(r=!0);if(!n||!r)return b.clickedSlide=void 0,void(b.clickedIndex=void 0);if(b.clickedSlide=n,b.clickedIndex=e(n).index(),b.params.slideToClickedSlide&&void 0!==b.clickedIndex&&b.clickedIndex!==b.activeIndex){var o,a=b.clickedIndex,l="auto"===b.params.slidesPerView?b.currentSlidesPerView():b.params.slidesPerView;if(b.params.loop){if(b.animating)return;o=parseInt(e(b.clickedSlide).attr("data-swiper-slide-index"),10),b.params.centeredSlides?a<b.loopedSlides-l/2||a>b.slides.length-b.loopedSlides+l/2?(b.fixLoop(),a=b.wrapper.children("."+b.params.slideClass+'[data-swiper-slide-index="'+o+'"]:not(.'+b.params.slideDuplicateClass+")").eq(0).index(),setTimeout(function(){b.slideTo(a)},0)):b.slideTo(a):a>b.slides.length-l?(b.fixLoop(),a=b.wrapper.children("."+b.params.slideClass+'[data-swiper-slide-index="'+o+'"]:not(.'+b.params.slideDuplicateClass+")").eq(0).index(),setTimeout(function(){b.slideTo(a)},0)):b.slideTo(a)}else b.slideTo(a)}};var x,S,T,E,A,M,L,C,k,D,I,O,P="input, select, textarea, button, video",N=Date.now(),R=[];for(var q in b.animating=!1,b.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0},b.onTouchStart=function(t){if(t.originalEvent&&(t=t.originalEvent),(I="touchstart"===t.type)||!("which"in t)||3!==t.which){if(b.params.noSwiping&&s(t,"."+b.params.noSwipingClass))return void(b.allowClick=!0);if(!b.params.swipeHandler||s(t,b.params.swipeHandler)){var n=b.touches.currentX="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,r=b.touches.currentY="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY;if(!(b.device.ios&&b.params.iOSEdgeSwipeDetection&&n<=b.params.iOSEdgeSwipeThreshold)){if(x=!0,S=!1,T=!0,A=void 0,O=void 0,b.touches.startX=n,b.touches.startY=r,E=Date.now(),b.allowClick=!0,b.updateContainerSize(),b.swipeDirection=void 0,b.params.threshold>0&&(C=!1),"touchstart"!==t.type){var i=!0;e(t.target).is(P)&&(i=!1),document.activeElement&&e(document.activeElement).is(P)&&document.activeElement.blur(),i&&t.preventDefault()}b.emit("onTouchStart",b,t)}}}},b.onTouchMove=function(t){if(t.originalEvent&&(t=t.originalEvent),!I||"mousemove"!==t.type){if(t.preventedByNestedSwiper)return b.touches.startX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,void(b.touches.startY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY);if(b.params.onlyExternal)return b.allowClick=!1,void(x&&(b.touches.startX=b.touches.currentX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,b.touches.startY=b.touches.currentY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,E=Date.now()));if(I&&b.params.touchReleaseOnEdges&&!b.params.loop)if(b.isHorizontal()){if(b.touches.currentX<b.touches.startX&&b.translate<=b.maxTranslate()||b.touches.currentX>b.touches.startX&&b.translate>=b.minTranslate())return}else if(b.touches.currentY<b.touches.startY&&b.translate<=b.maxTranslate()||b.touches.currentY>b.touches.startY&&b.translate>=b.minTranslate())return;if(I&&document.activeElement&&t.target===document.activeElement&&e(t.target).is(P))return S=!0,void(b.allowClick=!1);if(T&&b.emit("onTouchMove",b,t),!(t.targetTouches&&t.targetTouches.length>1)){var n;if(b.touches.currentX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,b.touches.currentY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,void 0===A)b.isHorizontal()&&b.touches.currentY===b.touches.startY||!b.isHorizontal()&&b.touches.currentX===b.touches.startX?A=!1:(n=180*Math.atan2(Math.abs(b.touches.currentY-b.touches.startY),Math.abs(b.touches.currentX-b.touches.startX))/Math.PI,A=b.isHorizontal()?n>b.params.touchAngle:90-n>b.params.touchAngle);if(A&&b.emit("onTouchMoveOpposite",b,t),void 0===O&&(b.touches.currentX===b.touches.startX&&b.touches.currentY===b.touches.startY||(O=!0)),x){if(A)return void(x=!1);if(O){b.allowClick=!1,b.emit("onSliderMove",b,t),t.preventDefault(),b.params.touchMoveStopPropagation&&!b.params.nested&&t.stopPropagation(),S||(i.loop&&b.fixLoop(),L=b.getWrapperTranslate(),b.setWrapperTransition(0),b.animating&&b.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),b.params.autoplay&&b.autoplaying&&(b.params.autoplayDisableOnInteraction?b.stopAutoplay():b.pauseAutoplay()),D=!1,!b.params.grabCursor||!0!==b.params.allowSwipeToNext&&!0!==b.params.allowSwipeToPrev||b.setGrabCursor(!0)),S=!0;var r=b.touches.diff=b.isHorizontal()?b.touches.currentX-b.touches.startX:b.touches.currentY-b.touches.startY;r*=b.params.touchRatio,b.rtl&&(r=-r),b.swipeDirection=r>0?"prev":"next",M=r+L;var o=!0;if(r>0&&M>b.minTranslate()?(o=!1,b.params.resistance&&(M=b.minTranslate()-1+Math.pow(-b.minTranslate()+L+r,b.params.resistanceRatio))):r<0&&M<b.maxTranslate()&&(o=!1,b.params.resistance&&(M=b.maxTranslate()+1-Math.pow(b.maxTranslate()-L-r,b.params.resistanceRatio))),o&&(t.preventedByNestedSwiper=!0),!b.params.allowSwipeToNext&&"next"===b.swipeDirection&&M<L&&(M=L),!b.params.allowSwipeToPrev&&"prev"===b.swipeDirection&&M>L&&(M=L),b.params.threshold>0){if(!(Math.abs(r)>b.params.threshold||C))return void(M=L);if(!C)return C=!0,b.touches.startX=b.touches.currentX,b.touches.startY=b.touches.currentY,M=L,void(b.touches.diff=b.isHorizontal()?b.touches.currentX-b.touches.startX:b.touches.currentY-b.touches.startY)}b.params.followFinger&&((b.params.freeMode||b.params.watchSlidesProgress)&&b.updateActiveIndex(),b.params.freeMode&&(0===R.length&&R.push({position:b.touches[b.isHorizontal()?"startX":"startY"],time:E}),R.push({position:b.touches[b.isHorizontal()?"currentX":"currentY"],time:(new window.Date).getTime()})),b.updateProgress(M),b.setWrapperTranslate(M))}}}}},b.onTouchEnd=function(t){if(t.originalEvent&&(t=t.originalEvent),T&&b.emit("onTouchEnd",b,t),T=!1,x){b.params.grabCursor&&S&&x&&(!0===b.params.allowSwipeToNext||!0===b.params.allowSwipeToPrev)&&b.setGrabCursor(!1);var n,r=Date.now(),i=r-E;if(b.allowClick&&(b.updateClickedSlide(t),b.emit("onTap",b,t),i<300&&r-N>300&&(k&&clearTimeout(k),k=setTimeout(function(){b&&(b.params.paginationHide&&b.paginationContainer.length>0&&!e(t.target).hasClass(b.params.bulletClass)&&b.paginationContainer.toggleClass(b.params.paginationHiddenClass),b.emit("onClick",b,t))},300)),i<300&&r-N<300&&(k&&clearTimeout(k),b.emit("onDoubleTap",b,t))),N=Date.now(),setTimeout(function(){b&&(b.allowClick=!0)},0),!x||!S||!b.swipeDirection||0===b.touches.diff||M===L)return void(x=S=!1);if(x=S=!1,n=b.params.followFinger?b.rtl?b.translate:-b.translate:-M,b.params.freeMode){if(n<-b.minTranslate())return void b.slideTo(b.activeIndex);if(n>-b.maxTranslate())return void(b.slides.length<b.snapGrid.length?b.slideTo(b.snapGrid.length-1):b.slideTo(b.slides.length-1));if(b.params.freeModeMomentum){if(R.length>1){var o=R.pop(),a=R.pop(),s=o.position-a.position,l=o.time-a.time;b.velocity=s/l,b.velocity=b.velocity/2,Math.abs(b.velocity)<b.params.freeModeMinimumVelocity&&(b.velocity=0),(l>150||(new window.Date).getTime()-o.time>300)&&(b.velocity=0)}else b.velocity=0;b.velocity=b.velocity*b.params.freeModeMomentumVelocityRatio,R.length=0;var c=1e3*b.params.freeModeMomentumRatio,u=b.velocity*c,d=b.translate+u;b.rtl&&(d=-d);var h,f=!1,p=20*Math.abs(b.velocity)*b.params.freeModeMomentumBounceRatio;if(d<b.maxTranslate())b.params.freeModeMomentumBounce?(d+b.maxTranslate()<-p&&(d=b.maxTranslate()-p),h=b.maxTranslate(),f=!0,D=!0):d=b.maxTranslate();else if(d>b.minTranslate())b.params.freeModeMomentumBounce?(d-b.minTranslate()>p&&(d=b.minTranslate()+p),h=b.minTranslate(),f=!0,D=!0):d=b.minTranslate();else if(b.params.freeModeSticky){var m,v=0;for(v=0;v<b.snapGrid.length;v+=1)if(b.snapGrid[v]>-d){m=v;break}d=Math.abs(b.snapGrid[m]-d)<Math.abs(b.snapGrid[m-1]-d)||"next"===b.swipeDirection?b.snapGrid[m]:b.snapGrid[m-1],b.rtl||(d=-d)}if(0!==b.velocity)c=b.rtl?Math.abs((-d-b.translate)/b.velocity):Math.abs((d-b.translate)/b.velocity);else if(b.params.freeModeSticky)return void b.slideReset();b.params.freeModeMomentumBounce&&f?(b.updateProgress(h),b.setWrapperTransition(c),b.setWrapperTranslate(d),b.onTransitionStart(),b.animating=!0,b.wrapper.transitionEnd(function(){b&&D&&(b.emit("onMomentumBounce",b),b.setWrapperTransition(b.params.speed),b.setWrapperTranslate(h),b.wrapper.transitionEnd(function(){b&&b.onTransitionEnd()}))})):b.velocity?(b.updateProgress(d),b.setWrapperTransition(c),b.setWrapperTranslate(d),b.onTransitionStart(),b.animating||(b.animating=!0,b.wrapper.transitionEnd(function(){b&&b.onTransitionEnd()}))):b.updateProgress(d),b.updateActiveIndex()}return void((!b.params.freeModeMomentum||i>=b.params.longSwipesMs)&&(b.updateProgress(),b.updateActiveIndex()))}var g,y=0,_=b.slidesSizesGrid[0];for(g=0;g<b.slidesGrid.length;g+=b.params.slidesPerGroup)void 0!==b.slidesGrid[g+b.params.slidesPerGroup]?n>=b.slidesGrid[g]&&n<b.slidesGrid[g+b.params.slidesPerGroup]&&(y=g,_=b.slidesGrid[g+b.params.slidesPerGroup]-b.slidesGrid[g]):n>=b.slidesGrid[g]&&(y=g,_=b.slidesGrid[b.slidesGrid.length-1]-b.slidesGrid[b.slidesGrid.length-2]);var w=(n-b.slidesGrid[y])/_;if(i>b.params.longSwipesMs){if(!b.params.longSwipes)return void b.slideTo(b.activeIndex);"next"===b.swipeDirection&&(w>=b.params.longSwipesRatio?b.slideTo(y+b.params.slidesPerGroup):b.slideTo(y)),"prev"===b.swipeDirection&&(w>1-b.params.longSwipesRatio?b.slideTo(y+b.params.slidesPerGroup):b.slideTo(y))}else{if(!b.params.shortSwipes)return void b.slideTo(b.activeIndex);"next"===b.swipeDirection&&b.slideTo(y+b.params.slidesPerGroup),"prev"===b.swipeDirection&&b.slideTo(y)}}},b._slideTo=function(e,t){return b.slideTo(e,t,!0,!0)},b.slideTo=function(e,t,n,r){void 0===n&&(n=!0),void 0===e&&(e=0),e<0&&(e=0),b.snapIndex=Math.floor(e/b.params.slidesPerGroup),b.snapIndex>=b.snapGrid.length&&(b.snapIndex=b.snapGrid.length-1);var i=-b.snapGrid[b.snapIndex];if(b.params.autoplay&&b.autoplaying&&(r||!b.params.autoplayDisableOnInteraction?b.pauseAutoplay(t):b.stopAutoplay()),b.updateProgress(i),b.params.normalizeSlideIndex)for(var o=0;o<b.slidesGrid.length;o++)-Math.floor(100*i)>=Math.floor(100*b.slidesGrid[o])&&(e=o);return!(!b.params.allowSwipeToNext&&i<b.translate&&i<b.minTranslate()||!b.params.allowSwipeToPrev&&i>b.translate&&i>b.maxTranslate()&&(b.activeIndex||0)!==e||(void 0===t&&(t=b.params.speed),b.previousIndex=b.activeIndex||0,b.activeIndex=e,b.updateRealIndex(),b.rtl&&-i===b.translate||!b.rtl&&i===b.translate?(b.params.autoHeight&&b.updateAutoHeight(),b.updateClasses(),"slide"!==b.params.effect&&b.setWrapperTranslate(i),1):(b.updateClasses(),b.onTransitionStart(n),0===t||b.browser.lteIE9?(b.setWrapperTranslate(i),b.setWrapperTransition(0),b.onTransitionEnd(n)):(b.setWrapperTranslate(i),b.setWrapperTransition(t),b.animating||(b.animating=!0,b.wrapper.transitionEnd(function(){b&&b.onTransitionEnd(n)}))),0)))},b.onTransitionStart=function(e){void 0===e&&(e=!0),b.params.autoHeight&&b.updateAutoHeight(),b.lazy&&b.lazy.onTransitionStart(),e&&(b.emit("onTransitionStart",b),b.activeIndex!==b.previousIndex&&(b.emit("onSlideChangeStart",b),b.activeIndex>b.previousIndex?b.emit("onSlideNextStart",b):b.emit("onSlidePrevStart",b)))},b.onTransitionEnd=function(e){b.animating=!1,b.setWrapperTransition(0),void 0===e&&(e=!0),b.lazy&&b.lazy.onTransitionEnd(),e&&(b.emit("onTransitionEnd",b),b.activeIndex!==b.previousIndex&&(b.emit("onSlideChangeEnd",b),b.activeIndex>b.previousIndex?b.emit("onSlideNextEnd",b):b.emit("onSlidePrevEnd",b))),b.params.history&&b.history&&b.history.setHistory(b.params.history,b.activeIndex),b.params.hashnav&&b.hashnav&&b.hashnav.setHash()},b.slideNext=function(e,t,n){return b.params.loop?!b.animating&&(b.fixLoop(),b.container[0].clientLeft,b.slideTo(b.activeIndex+b.params.slidesPerGroup,t,e,n)):b.slideTo(b.activeIndex+b.params.slidesPerGroup,t,e,n)},b._slideNext=function(e){return b.slideNext(!0,e,!0)},b.slidePrev=function(e,t,n){return b.params.loop?!b.animating&&(b.fixLoop(),b.container[0].clientLeft,b.slideTo(b.activeIndex-1,t,e,n)):b.slideTo(b.activeIndex-1,t,e,n)},b._slidePrev=function(e){return b.slidePrev(!0,e,!0)},b.slideReset=function(e,t,n){return b.slideTo(b.activeIndex,t,e)},b.disableTouchControl=function(){return b.params.onlyExternal=!0,!0},b.enableTouchControl=function(){return b.params.onlyExternal=!1,!0},b.setWrapperTransition=function(e,t){b.wrapper.transition(e),"slide"!==b.params.effect&&b.effects[b.params.effect]&&b.effects[b.params.effect].setTransition(e),b.params.parallax&&b.parallax&&b.parallax.setTransition(e),b.params.scrollbar&&b.scrollbar&&b.scrollbar.setTransition(e),b.params.control&&b.controller&&b.controller.setTransition(e,t),b.emit("onSetTransition",b,e)},b.setWrapperTranslate=function(e,t,n){var r=0,i=0;b.isHorizontal()?r=b.rtl?-e:e:i=e,b.params.roundLengths&&(r=o(r),i=o(i)),b.params.virtualTranslate||(b.support.transforms3d?b.wrapper.transform("translate3d("+r+"px, "+i+"px, 0px)"):b.wrapper.transform("translate("+r+"px, "+i+"px)")),b.translate=b.isHorizontal()?r:i;var a=b.maxTranslate()-b.minTranslate();(0===a?0:(e-b.minTranslate())/a)!==b.progress&&b.updateProgress(e),t&&b.updateActiveIndex(),"slide"!==b.params.effect&&b.effects[b.params.effect]&&b.effects[b.params.effect].setTranslate(b.translate),b.params.parallax&&b.parallax&&b.parallax.setTranslate(b.translate),b.params.scrollbar&&b.scrollbar&&b.scrollbar.setTranslate(b.translate),b.params.control&&b.controller&&b.controller.setTranslate(b.translate,n),b.emit("onSetTranslate",b,b.translate)},b.getTranslate=function(e,t){var n,r,i,o;return void 0===t&&(t="x"),b.params.virtualTranslate?b.rtl?-b.translate:b.translate:(i=window.getComputedStyle(e,null),window.WebKitCSSMatrix?((r=i.transform||i.webkitTransform).split(",").length>6&&(r=r.split(", ").map(function(e){return e.replace(",",".")}).join(", ")),o=new window.WebKitCSSMatrix("none"===r?"":r)):n=(o=i.MozTransform||i.OTransform||i.MsTransform||i.msTransform||i.transform||i.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===t&&(r=window.WebKitCSSMatrix?o.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===t&&(r=window.WebKitCSSMatrix?o.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),b.rtl&&r&&(r=-r),r||0)},b.getWrapperTranslate=function(e){return void 0===e&&(e=b.isHorizontal()?"x":"y"),b.getTranslate(b.wrapper[0],e)},b.observers=[],b.initObservers=function(){if(b.params.observeParents)for(var e=b.container.parents(),t=0;t<e.length;t++)l(e[t]);l(b.container[0],{childList:!1}),l(b.wrapper[0],{attributes:!1})},b.disconnectObservers=function(){for(var e=0;e<b.observers.length;e++)b.observers[e].disconnect();b.observers=[]},b.createLoop=function(){b.wrapper.children("."+b.params.slideClass+"."+b.params.slideDuplicateClass).remove();var t=b.wrapper.children("."+b.params.slideClass);"auto"!==b.params.slidesPerView||b.params.loopedSlides||(b.params.loopedSlides=t.length),b.loopedSlides=parseInt(b.params.loopedSlides||b.params.slidesPerView,10),b.loopedSlides=b.loopedSlides+b.params.loopAdditionalSlides,b.loopedSlides>t.length&&(b.loopedSlides=t.length);var n,r=[],i=[];for(t.each(function(n,o){var a=e(this);n<b.loopedSlides&&i.push(o),n<t.length&&n>=t.length-b.loopedSlides&&r.push(o),a.attr("data-swiper-slide-index",n)}),n=0;n<i.length;n++)b.wrapper.append(e(i[n].cloneNode(!0)).addClass(b.params.slideDuplicateClass));for(n=r.length-1;n>=0;n--)b.wrapper.prepend(e(r[n].cloneNode(!0)).addClass(b.params.slideDuplicateClass))},b.destroyLoop=function(){b.wrapper.children("."+b.params.slideClass+"."+b.params.slideDuplicateClass).remove(),b.slides.removeAttr("data-swiper-slide-index")},b.reLoop=function(e){var t=b.activeIndex-b.loopedSlides;b.destroyLoop(),b.createLoop(),b.updateSlidesSize(),e&&b.slideTo(t+b.loopedSlides,0,!1)},b.fixLoop=function(){var e;b.activeIndex<b.loopedSlides?(e=b.slides.length-3*b.loopedSlides+b.activeIndex,e+=b.loopedSlides,b.slideTo(e,0,!1,!0)):("auto"===b.params.slidesPerView&&b.activeIndex>=2*b.loopedSlides||b.activeIndex>b.slides.length-2*b.params.slidesPerView)&&(e=-b.slides.length+b.activeIndex+b.loopedSlides,e+=b.loopedSlides,b.slideTo(e,0,!1,!0))},b.appendSlide=function(e){if(b.params.loop&&b.destroyLoop(),"object"==typeof e&&e.length)for(var t=0;t<e.length;t++)e[t]&&b.wrapper.append(e[t]);else b.wrapper.append(e);b.params.loop&&b.createLoop(),b.params.observer&&b.support.observer||b.update(!0)},b.prependSlide=function(e){b.params.loop&&b.destroyLoop();var t=b.activeIndex+1;if("object"==typeof e&&e.length){for(var n=0;n<e.length;n++)e[n]&&b.wrapper.prepend(e[n]);t=b.activeIndex+e.length}else b.wrapper.prepend(e);b.params.loop&&b.createLoop(),b.params.observer&&b.support.observer||b.update(!0),b.slideTo(t,0,!1)},b.removeSlide=function(e){b.params.loop&&(b.destroyLoop(),b.slides=b.wrapper.children("."+b.params.slideClass));var t,n=b.activeIndex;if("object"==typeof e&&e.length){for(var r=0;r<e.length;r++)t=e[r],b.slides[t]&&b.slides.eq(t).remove(),t<n&&n--;n=Math.max(n,0)}else t=e,b.slides[t]&&b.slides.eq(t).remove(),t<n&&n--,n=Math.max(n,0);b.params.loop&&b.createLoop(),b.params.observer&&b.support.observer||b.update(!0),b.params.loop?b.slideTo(n+b.loopedSlides,0,!1):b.slideTo(n,0,!1)},b.removeAllSlides=function(){for(var e=[],t=0;t<b.slides.length;t++)e.push(t);b.removeSlide(e)},b.effects={fade:{setTranslate:function(){for(var e=0;e<b.slides.length;e++){var t=b.slides.eq(e),n=-t[0].swiperSlideOffset;b.params.virtualTranslate||(n-=b.translate);var r=0;b.isHorizontal()||(r=n,n=0);var i=b.params.fade.crossFade?Math.max(1-Math.abs(t[0].progress),0):1+Math.min(Math.max(t[0].progress,-1),0);t.css({opacity:i}).transform("translate3d("+n+"px, "+r+"px, 0px)")}},setTransition:function(e){if(b.slides.transition(e),b.params.virtualTranslate&&0!==e){var t=!1;b.slides.transitionEnd(function(){if(!t&&b){t=!0,b.animating=!1;for(var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],n=0;n<e.length;n++)b.wrapper.trigger(e[n])}})}}},flip:{setTranslate:function(){for(var t=0;t<b.slides.length;t++){var n=b.slides.eq(t),r=n[0].progress;b.params.flip.limitRotation&&(r=Math.max(Math.min(n[0].progress,1),-1));var i=-180*r,o=0,a=-n[0].swiperSlideOffset,s=0;if(b.isHorizontal()?b.rtl&&(i=-i):(s=a,a=0,o=-i,i=0),n[0].style.zIndex=-Math.abs(Math.round(r))+b.slides.length,b.params.flip.slideShadows){var l=b.isHorizontal()?n.find(".swiper-slide-shadow-left"):n.find(".swiper-slide-shadow-top"),c=b.isHorizontal()?n.find(".swiper-slide-shadow-right"):n.find(".swiper-slide-shadow-bottom");0===l.length&&(l=e('<div class="swiper-slide-shadow-'+(b.isHorizontal()?"left":"top")+'"></div>'),n.append(l)),0===c.length&&(c=e('<div class="swiper-slide-shadow-'+(b.isHorizontal()?"right":"bottom")+'"></div>'),n.append(c)),l.length&&(l[0].style.opacity=Math.max(-r,0)),c.length&&(c[0].style.opacity=Math.max(r,0))}n.transform("translate3d("+a+"px, "+s+"px, 0px) rotateX("+o+"deg) rotateY("+i+"deg)")}},setTransition:function(t){if(b.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),b.params.virtualTranslate&&0!==t){var n=!1;b.slides.eq(b.activeIndex).transitionEnd(function(){if(!n&&b&&e(this).hasClass(b.params.slideActiveClass)){n=!0,b.animating=!1;for(var t=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],r=0;r<t.length;r++)b.wrapper.trigger(t[r])}})}}},cube:{setTranslate:function(){var t,n=0;b.params.cube.shadow&&(b.isHorizontal()?(0===(t=b.wrapper.find(".swiper-cube-shadow")).length&&(t=e('<div class="swiper-cube-shadow"></div>'),b.wrapper.append(t)),t.css({height:b.width+"px"})):0===(t=b.container.find(".swiper-cube-shadow")).length&&(t=e('<div class="swiper-cube-shadow"></div>'),b.container.append(t)));for(var r=0;r<b.slides.length;r++){var i=b.slides.eq(r),o=90*r,a=Math.floor(o/360);b.rtl&&(o=-o,a=Math.floor(-o/360));var s=Math.max(Math.min(i[0].progress,1),-1),l=0,c=0,u=0;r%4==0?(l=4*-a*b.size,u=0):(r-1)%4==0?(l=0,u=4*-a*b.size):(r-2)%4==0?(l=b.size+4*a*b.size,u=b.size):(r-3)%4==0&&(l=-b.size,u=3*b.size+4*b.size*a),b.rtl&&(l=-l),b.isHorizontal()||(c=l,l=0);var d="rotateX("+(b.isHorizontal()?0:-o)+"deg) rotateY("+(b.isHorizontal()?o:0)+"deg) translate3d("+l+"px, "+c+"px, "+u+"px)";if(s<=1&&s>-1&&(n=90*r+90*s,b.rtl&&(n=90*-r-90*s)),i.transform(d),b.params.cube.slideShadows){var h=b.isHorizontal()?i.find(".swiper-slide-shadow-left"):i.find(".swiper-slide-shadow-top"),f=b.isHorizontal()?i.find(".swiper-slide-shadow-right"):i.find(".swiper-slide-shadow-bottom");0===h.length&&(h=e('<div class="swiper-slide-shadow-'+(b.isHorizontal()?"left":"top")+'"></div>'),i.append(h)),0===f.length&&(f=e('<div class="swiper-slide-shadow-'+(b.isHorizontal()?"right":"bottom")+'"></div>'),i.append(f)),h.length&&(h[0].style.opacity=Math.max(-s,0)),f.length&&(f[0].style.opacity=Math.max(s,0))}}if(b.wrapper.css({"-webkit-transform-origin":"50% 50% -"+b.size/2+"px","-moz-transform-origin":"50% 50% -"+b.size/2+"px","-ms-transform-origin":"50% 50% -"+b.size/2+"px","transform-origin":"50% 50% -"+b.size/2+"px"}),b.params.cube.shadow)if(b.isHorizontal())t.transform("translate3d(0px, "+(b.width/2+b.params.cube.shadowOffset)+"px, "+-b.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+b.params.cube.shadowScale+")");else{var p=Math.abs(n)-90*Math.floor(Math.abs(n)/90),m=1.5-(Math.sin(2*p*Math.PI/360)/2+Math.cos(2*p*Math.PI/360)/2),v=b.params.cube.shadowScale,g=b.params.cube.shadowScale/m,y=b.params.cube.shadowOffset;t.transform("scale3d("+v+", 1, "+g+") translate3d(0px, "+(b.height/2+y)+"px, "+-b.height/2/g+"px) rotateX(-90deg)")}var _=b.isSafari||b.isUiWebView?-b.size/2:0;b.wrapper.transform("translate3d(0px,0,"+_+"px) rotateX("+(b.isHorizontal()?0:n)+"deg) rotateY("+(b.isHorizontal()?-n:0)+"deg)")},setTransition:function(e){b.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),b.params.cube.shadow&&!b.isHorizontal()&&b.container.find(".swiper-cube-shadow").transition(e)}},coverflow:{setTranslate:function(){for(var t=b.translate,n=b.isHorizontal()?-t+b.width/2:-t+b.height/2,r=b.isHorizontal()?b.params.coverflow.rotate:-b.params.coverflow.rotate,i=b.params.coverflow.depth,o=0,a=b.slides.length;o<a;o++){var s=b.slides.eq(o),l=b.slidesSizesGrid[o],c=(n-s[0].swiperSlideOffset-l/2)/l*b.params.coverflow.modifier,u=b.isHorizontal()?r*c:0,d=b.isHorizontal()?0:r*c,h=-i*Math.abs(c),f=b.isHorizontal()?0:b.params.coverflow.stretch*c,p=b.isHorizontal()?b.params.coverflow.stretch*c:0;Math.abs(p)<.001&&(p=0),Math.abs(f)<.001&&(f=0),Math.abs(h)<.001&&(h=0),Math.abs(u)<.001&&(u=0),Math.abs(d)<.001&&(d=0);var m="translate3d("+p+"px,"+f+"px,"+h+"px)  rotateX("+d+"deg) rotateY("+u+"deg)";if(s.transform(m),s[0].style.zIndex=1-Math.abs(Math.round(c)),b.params.coverflow.slideShadows){var v=b.isHorizontal()?s.find(".swiper-slide-shadow-left"):s.find(".swiper-slide-shadow-top"),g=b.isHorizontal()?s.find(".swiper-slide-shadow-right"):s.find(".swiper-slide-shadow-bottom");0===v.length&&(v=e('<div class="swiper-slide-shadow-'+(b.isHorizontal()?"left":"top")+'"></div>'),s.append(v)),0===g.length&&(g=e('<div class="swiper-slide-shadow-'+(b.isHorizontal()?"right":"bottom")+'"></div>'),s.append(g)),v.length&&(v[0].style.opacity=c>0?c:0),g.length&&(g[0].style.opacity=-c>0?-c:0)}}b.browser.ie&&(b.wrapper[0].style.perspectiveOrigin=n+"px 50%")},setTransition:function(e){b.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}}},b.lazy={initialImageLoaded:!1,loadImageInSlide:function(t,n){if(void 0!==t&&(void 0===n&&(n=!0),0!==b.slides.length)){var r=b.slides.eq(t),i=r.find("."+b.params.lazyLoadingClass+":not(."+b.params.lazyStatusLoadedClass+"):not(."+b.params.lazyStatusLoadingClass+")");!r.hasClass(b.params.lazyLoadingClass)||r.hasClass(b.params.lazyStatusLoadedClass)||r.hasClass(b.params.lazyStatusLoadingClass)||(i=i.add(r[0])),0!==i.length&&i.each(function(){var t=e(this);t.addClass(b.params.lazyStatusLoadingClass);var i=t.attr("data-background"),o=t.attr("data-src"),a=t.attr("data-srcset"),s=t.attr("data-sizes");b.loadImage(t[0],o||i,a,s,!1,function(){if(void 0!==b&&null!==b&&b){if(i?(t.css("background-image",'url("'+i+'")'),t.removeAttr("data-background")):(a&&(t.attr("srcset",a),t.removeAttr("data-srcset")),s&&(t.attr("sizes",s),t.removeAttr("data-sizes")),o&&(t.attr("src",o),t.removeAttr("data-src"))),t.addClass(b.params.lazyStatusLoadedClass).removeClass(b.params.lazyStatusLoadingClass),r.find("."+b.params.lazyPreloaderClass+", ."+b.params.preloaderClass).remove(),b.params.loop&&n){var e=r.attr("data-swiper-slide-index");if(r.hasClass(b.params.slideDuplicateClass)){var l=b.wrapper.children('[data-swiper-slide-index="'+e+'"]:not(.'+b.params.slideDuplicateClass+")");b.lazy.loadImageInSlide(l.index(),!1)}else{var c=b.wrapper.children("."+b.params.slideDuplicateClass+'[data-swiper-slide-index="'+e+'"]');b.lazy.loadImageInSlide(c.index(),!1)}}b.emit("onLazyImageReady",b,r[0],t[0])}}),b.emit("onLazyImageLoad",b,r[0],t[0])})}},load:function(){var t,n=b.params.slidesPerView;if("auto"===n&&(n=0),b.lazy.initialImageLoaded||(b.lazy.initialImageLoaded=!0),b.params.watchSlidesVisibility)b.wrapper.children("."+b.params.slideVisibleClass).each(function(){b.lazy.loadImageInSlide(e(this).index())});else if(n>1)for(t=b.activeIndex;t<b.activeIndex+n;t++)b.slides[t]&&b.lazy.loadImageInSlide(t);else b.lazy.loadImageInSlide(b.activeIndex);if(b.params.lazyLoadingInPrevNext)if(n>1||b.params.lazyLoadingInPrevNextAmount&&b.params.lazyLoadingInPrevNextAmount>1){var r=b.params.lazyLoadingInPrevNextAmount,i=n,o=Math.min(b.activeIndex+i+Math.max(r,i),b.slides.length),a=Math.max(b.activeIndex-Math.max(i,r),0);for(t=b.activeIndex+n;t<o;t++)b.slides[t]&&b.lazy.loadImageInSlide(t);for(t=a;t<b.activeIndex;t++)b.slides[t]&&b.lazy.loadImageInSlide(t)}else{var s=b.wrapper.children("."+b.params.slideNextClass);s.length>0&&b.lazy.loadImageInSlide(s.index());var l=b.wrapper.children("."+b.params.slidePrevClass);l.length>0&&b.lazy.loadImageInSlide(l.index())}},onTransitionStart:function(){b.params.lazyLoading&&(b.params.lazyLoadingOnTransitionStart||!b.params.lazyLoadingOnTransitionStart&&!b.lazy.initialImageLoaded)&&b.lazy.load()},onTransitionEnd:function(){b.params.lazyLoading&&!b.params.lazyLoadingOnTransitionStart&&b.lazy.load()}},b.scrollbar={isTouched:!1,setDragPosition:function(e){var t=b.scrollbar,n=(b.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageX:e.pageX||e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageY:e.pageY||e.clientY)-t.track.offset()[b.isHorizontal()?"left":"top"]-t.dragSize/2,r=-b.minTranslate()*t.moveDivider,i=-b.maxTranslate()*t.moveDivider;n<r?n=r:n>i&&(n=i),n=-n/t.moveDivider,b.updateProgress(n),b.setWrapperTranslate(n,!0)},dragStart:function(e){var t=b.scrollbar;t.isTouched=!0,e.preventDefault(),e.stopPropagation(),t.setDragPosition(e),clearTimeout(t.dragTimeout),t.track.transition(0),b.params.scrollbarHide&&t.track.css("opacity",1),b.wrapper.transition(100),t.drag.transition(100),b.emit("onScrollbarDragStart",b)},dragMove:function(e){var t=b.scrollbar;t.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,t.setDragPosition(e),b.wrapper.transition(0),t.track.transition(0),t.drag.transition(0),b.emit("onScrollbarDragMove",b))},dragEnd:function(e){var t=b.scrollbar;t.isTouched&&(t.isTouched=!1,b.params.scrollbarHide&&(clearTimeout(t.dragTimeout),t.dragTimeout=setTimeout(function(){t.track.css("opacity",0),t.track.transition(400)},1e3)),b.emit("onScrollbarDragEnd",b),b.params.scrollbarSnapOnRelease&&b.slideReset())},draggableEvents:!1!==b.params.simulateTouch||b.support.touch?b.touchEvents:b.touchEventsDesktop,enableDraggable:function(){var t=b.scrollbar,n=b.support.touch?t.track:document;e(t.track).on(t.draggableEvents.start,t.dragStart),e(n).on(t.draggableEvents.move,t.dragMove),e(n).on(t.draggableEvents.end,t.dragEnd)},disableDraggable:function(){var t=b.scrollbar,n=b.support.touch?t.track:document;e(t.track).off(t.draggableEvents.start,t.dragStart),e(n).off(t.draggableEvents.move,t.dragMove),e(n).off(t.draggableEvents.end,t.dragEnd)},set:function(){if(b.params.scrollbar){var t=b.scrollbar;t.track=e(b.params.scrollbar),b.params.uniqueNavElements&&"string"==typeof b.params.scrollbar&&t.track.length>1&&1===b.container.find(b.params.scrollbar).length&&(t.track=b.container.find(b.params.scrollbar)),t.drag=t.track.find(".swiper-scrollbar-drag"),0===t.drag.length&&(t.drag=e('<div class="swiper-scrollbar-drag"></div>'),t.track.append(t.drag)),t.drag[0].style.width="",t.drag[0].style.height="",t.trackSize=b.isHorizontal()?t.track[0].offsetWidth:t.track[0].offsetHeight,t.divider=b.size/b.virtualSize,t.moveDivider=t.divider*(t.trackSize/b.size),t.dragSize=t.trackSize*t.divider,b.isHorizontal()?t.drag[0].style.width=t.dragSize+"px":t.drag[0].style.height=t.dragSize+"px",t.divider>=1?t.track[0].style.display="none":t.track[0].style.display="",b.params.scrollbarHide&&(t.track[0].style.opacity=0)}},setTranslate:function(){if(b.params.scrollbar){var e,t=b.scrollbar,n=(b.translate,t.dragSize);e=(t.trackSize-t.dragSize)*b.progress,b.rtl&&b.isHorizontal()?(e=-e)>0?(n=t.dragSize-e,e=0):-e+t.dragSize>t.trackSize&&(n=t.trackSize+e):e<0?(n=t.dragSize+e,e=0):e+t.dragSize>t.trackSize&&(n=t.trackSize-e),b.isHorizontal()?(b.support.transforms3d?t.drag.transform("translate3d("+e+"px, 0, 0)"):t.drag.transform("translateX("+e+"px)"),t.drag[0].style.width=n+"px"):(b.support.transforms3d?t.drag.transform("translate3d(0px, "+e+"px, 0)"):t.drag.transform("translateY("+e+"px)"),t.drag[0].style.height=n+"px"),b.params.scrollbarHide&&(clearTimeout(t.timeout),t.track[0].style.opacity=1,t.timeout=setTimeout(function(){t.track[0].style.opacity=0,t.track.transition(400)},1e3))}},setTransition:function(e){b.params.scrollbar&&b.scrollbar.drag.transition(e)}},b.controller={LinearSpline:function(e,t){var n,r,i=function(){var e,t,n;return function(r,i){for(t=-1,e=r.length;e-t>1;)r[n=e+t>>1]<=i?t=n:e=n;return e}}();this.x=e,this.y=t,this.lastIndex=e.length-1,this.x.length,this.interpolate=function(e){return e?(r=i(this.x,e),n=r-1,(e-this.x[n])*(this.y[r]-this.y[n])/(this.x[r]-this.x[n])+this.y[n]):0}},getInterpolateFunction:function(e){b.controller.spline||(b.controller.spline=b.params.loop?new b.controller.LinearSpline(b.slidesGrid,e.slidesGrid):new b.controller.LinearSpline(b.snapGrid,e.snapGrid))},setTranslate:function(e,t){function r(t){e=t.rtl&&"horizontal"===t.params.direction?-b.translate:b.translate,"slide"===b.params.controlBy&&(b.controller.getInterpolateFunction(t),o=-b.controller.spline.interpolate(-e)),o&&"container"!==b.params.controlBy||(i=(t.maxTranslate()-t.minTranslate())/(b.maxTranslate()-b.minTranslate()),o=(e-b.minTranslate())*i+t.minTranslate()),b.params.controlInverse&&(o=t.maxTranslate()-o),t.updateProgress(o),t.setWrapperTranslate(o,!1,b),t.updateActiveIndex()}var i,o,a=b.params.control;if(Array.isArray(a))for(var s=0;s<a.length;s++)a[s]!==t&&a[s]instanceof n&&r(a[s]);else a instanceof n&&t!==a&&r(a)},setTransition:function(e,t){function r(t){t.setWrapperTransition(e,b),0!==e&&(t.onTransitionStart(),t.wrapper.transitionEnd(function(){o&&(t.params.loop&&"slide"===b.params.controlBy&&t.fixLoop(),t.onTransitionEnd())}))}var i,o=b.params.control;if(Array.isArray(o))for(i=0;i<o.length;i++)o[i]!==t&&o[i]instanceof n&&r(o[i]);else o instanceof n&&t!==o&&r(o)}},b.hashnav={onHashCange:function(e,t){var n=document.location.hash.replace("#","");n!==b.slides.eq(b.activeIndex).attr("data-hash")&&b.slideTo(b.wrapper.children("."+b.params.slideClass+'[data-hash="'+n+'"]').index())},attachEvents:function(t){var n=t?"off":"on";e(window)[n]("hashchange",b.hashnav.onHashCange)},setHash:function(){if(b.hashnav.initialized&&b.params.hashnav)if(b.params.replaceState&&window.history&&window.history.replaceState)window.history.replaceState(null,null,"#"+b.slides.eq(b.activeIndex).attr("data-hash")||"");else{var e=b.slides.eq(b.activeIndex),t=e.attr("data-hash")||e.attr("data-history");document.location.hash=t||""}},init:function(){if(b.params.hashnav&&!b.params.history){b.hashnav.initialized=!0;var e=document.location.hash.replace("#","");if(e)for(var t=0,n=b.slides.length;t<n;t++){var r=b.slides.eq(t);if((r.attr("data-hash")||r.attr("data-history"))===e&&!r.hasClass(b.params.slideDuplicateClass)){var i=r.index();b.slideTo(i,0,b.params.runCallbacksOnInit,!0)}}b.params.hashnavWatchState&&b.hashnav.attachEvents()}},destroy:function(){b.params.hashnavWatchState&&b.hashnav.attachEvents(!0)}},b.history={init:function(){if(b.params.history){if(!window.history||!window.history.pushState)return b.params.history=!1,void(b.params.hashnav=!0);b.history.initialized=!0,this.paths=this.getPathValues(),(this.paths.key||this.paths.value)&&(this.scrollToSlide(0,this.paths.value,b.params.runCallbacksOnInit),b.params.replaceState||window.addEventListener("popstate",this.setHistoryPopState))}},setHistoryPopState:function(){b.history.paths=b.history.getPathValues(),b.history.scrollToSlide(b.params.speed,b.history.paths.value,!1)},getPathValues:function(){var e=window.location.pathname.slice(1).split("/"),t=e.length;return{key:e[t-2],value:e[t-1]}},setHistory:function(e,t){if(b.history.initialized&&b.params.history){var n=b.slides.eq(t),r=this.slugify(n.attr("data-history"));window.location.pathname.includes(e)||(r=e+"/"+r),b.params.replaceState?window.history.replaceState(null,null,r):window.history.pushState(null,null,r)}},slugify:function(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},scrollToSlide:function(e,t,n){if(t)for(var r=0,i=b.slides.length;r<i;r++){var o=b.slides.eq(r);if(this.slugify(o.attr("data-history"))===t&&!o.hasClass(b.params.slideDuplicateClass)){var a=o.index();b.slideTo(a,e,n)}}else b.slideTo(0,e,n)}},b.disableKeyboardControl=function(){b.params.keyboardControl=!1,e(document).off("keydown",c)},b.enableKeyboardControl=function(){b.params.keyboardControl=!0,e(document).on("keydown",c)},b.mousewheel={event:!1,lastScrollTime:(new window.Date).getTime()},b.params.mousewheelControl&&(b.mousewheel.event=navigator.userAgent.indexOf("firefox")>-1?"DOMMouseScroll":function(){var e="onwheel"in document;if(!e){var t=document.createElement("div");t.setAttribute("onwheel","return;"),e="function"==typeof t.onwheel}return!e&&document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")&&(e=document.implementation.hasFeature("Events.wheel","3.0")),e}()?"wheel":"mousewheel"),b.disableMousewheelControl=function(){if(!b.mousewheel.event)return!1;var t=b.container;return"container"!==b.params.mousewheelEventsTarged&&(t=e(b.params.mousewheelEventsTarged)),t.off(b.mousewheel.event,u),b.params.mousewheelControl=!1,!0},b.enableMousewheelControl=function(){if(!b.mousewheel.event)return!1;var t=b.container;return"container"!==b.params.mousewheelEventsTarged&&(t=e(b.params.mousewheelEventsTarged)),t.on(b.mousewheel.event,u),b.params.mousewheelControl=!0,!0},b.parallax={setTranslate:function(){b.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){d(this,b.progress)}),b.slides.each(function(){var t=e(this);t.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){d(this,Math.min(Math.max(t[0].progress,-1),1))})})},setTransition:function(t){void 0===t&&(t=b.params.speed),b.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var n=e(this),r=parseInt(n.attr("data-swiper-parallax-duration"),10)||t;0===t&&(r=0),n.transition(r)})}},b.zoom={scale:1,currentScale:1,isScaling:!1,gesture:{slide:void 0,slideWidth:void 0,slideHeight:void 0,image:void 0,imageWrap:void 0,zoomMax:b.params.zoomMax},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0},getDistanceBetweenTouches:function(e){if(e.targetTouches.length<2)return 1;var t=e.targetTouches[0].pageX,n=e.targetTouches[0].pageY,r=e.targetTouches[1].pageX,i=e.targetTouches[1].pageY;return Math.sqrt(Math.pow(r-t,2)+Math.pow(i-n,2))},onGestureStart:function(t){var n=b.zoom;if(!b.support.gestures){if("touchstart"!==t.type||"touchstart"===t.type&&t.targetTouches.length<2)return;n.gesture.scaleStart=n.getDistanceBetweenTouches(t)}n.gesture.slide&&n.gesture.slide.length||(n.gesture.slide=e(this),0===n.gesture.slide.length&&(n.gesture.slide=b.slides.eq(b.activeIndex)),n.gesture.image=n.gesture.slide.find("img, svg, canvas"),n.gesture.imageWrap=n.gesture.image.parent("."+b.params.zoomContainerClass),n.gesture.zoomMax=n.gesture.imageWrap.attr("data-swiper-zoom")||b.params.zoomMax,0!==n.gesture.imageWrap.length)?(n.gesture.image.transition(0),n.isScaling=!0):n.gesture.image=void 0},onGestureChange:function(e){var t=b.zoom;if(!b.support.gestures){if("touchmove"!==e.type||"touchmove"===e.type&&e.targetTouches.length<2)return;t.gesture.scaleMove=t.getDistanceBetweenTouches(e)}t.gesture.image&&0!==t.gesture.image.length&&(b.support.gestures?t.scale=e.scale*t.currentScale:t.scale=t.gesture.scaleMove/t.gesture.scaleStart*t.currentScale,t.scale>t.gesture.zoomMax&&(t.scale=t.gesture.zoomMax-1+Math.pow(t.scale-t.gesture.zoomMax+1,.5)),t.scale<b.params.zoomMin&&(t.scale=b.params.zoomMin+1-Math.pow(b.params.zoomMin-t.scale+1,.5)),t.gesture.image.transform("translate3d(0,0,0) scale("+t.scale+")"))},onGestureEnd:function(e){var t=b.zoom;!b.support.gestures&&("touchend"!==e.type||"touchend"===e.type&&e.changedTouches.length<2)||t.gesture.image&&0!==t.gesture.image.length&&(t.scale=Math.max(Math.min(t.scale,t.gesture.zoomMax),b.params.zoomMin),t.gesture.image.transition(b.params.speed).transform("translate3d(0,0,0) scale("+t.scale+")"),t.currentScale=t.scale,t.isScaling=!1,1===t.scale&&(t.gesture.slide=void 0))},onTouchStart:function(e,t){var n=e.zoom;n.gesture.image&&0!==n.gesture.image.length&&(n.image.isTouched||("android"===e.device.os&&t.preventDefault(),n.image.isTouched=!0,n.image.touchesStart.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,n.image.touchesStart.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY))},onTouchMove:function(e){var t=b.zoom;if(t.gesture.image&&0!==t.gesture.image.length&&(b.allowClick=!1,t.image.isTouched&&t.gesture.slide)){t.image.isMoved||(t.image.width=t.gesture.image[0].offsetWidth,t.image.height=t.gesture.image[0].offsetHeight,t.image.startX=b.getTranslate(t.gesture.imageWrap[0],"x")||0,t.image.startY=b.getTranslate(t.gesture.imageWrap[0],"y")||0,t.gesture.slideWidth=t.gesture.slide[0].offsetWidth,t.gesture.slideHeight=t.gesture.slide[0].offsetHeight,t.gesture.imageWrap.transition(0),b.rtl&&(t.image.startX=-t.image.startX),b.rtl&&(t.image.startY=-t.image.startY));var n=t.image.width*t.scale,r=t.image.height*t.scale;if(!(n<t.gesture.slideWidth&&r<t.gesture.slideHeight)){if(t.image.minX=Math.min(t.gesture.slideWidth/2-n/2,0),t.image.maxX=-t.image.minX,t.image.minY=Math.min(t.gesture.slideHeight/2-r/2,0),t.image.maxY=-t.image.minY,t.image.touchesCurrent.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,t.image.touchesCurrent.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!t.image.isMoved&&!t.isScaling){if(b.isHorizontal()&&Math.floor(t.image.minX)===Math.floor(t.image.startX)&&t.image.touchesCurrent.x<t.image.touchesStart.x||Math.floor(t.image.maxX)===Math.floor(t.image.startX)&&t.image.touchesCurrent.x>t.image.touchesStart.x)return void(t.image.isTouched=!1);if(!b.isHorizontal()&&Math.floor(t.image.minY)===Math.floor(t.image.startY)&&t.image.touchesCurrent.y<t.image.touchesStart.y||Math.floor(t.image.maxY)===Math.floor(t.image.startY)&&t.image.touchesCurrent.y>t.image.touchesStart.y)return void(t.image.isTouched=!1)}e.preventDefault(),e.stopPropagation(),t.image.isMoved=!0,t.image.currentX=t.image.touchesCurrent.x-t.image.touchesStart.x+t.image.startX,t.image.currentY=t.image.touchesCurrent.y-t.image.touchesStart.y+t.image.startY,t.image.currentX<t.image.minX&&(t.image.currentX=t.image.minX+1-Math.pow(t.image.minX-t.image.currentX+1,.8)),t.image.currentX>t.image.maxX&&(t.image.currentX=t.image.maxX-1+Math.pow(t.image.currentX-t.image.maxX+1,.8)),t.image.currentY<t.image.minY&&(t.image.currentY=t.image.minY+1-Math.pow(t.image.minY-t.image.currentY+1,.8)),t.image.currentY>t.image.maxY&&(t.image.currentY=t.image.maxY-1+Math.pow(t.image.currentY-t.image.maxY+1,.8)),t.velocity.prevPositionX||(t.velocity.prevPositionX=t.image.touchesCurrent.x),t.velocity.prevPositionY||(t.velocity.prevPositionY=t.image.touchesCurrent.y),t.velocity.prevTime||(t.velocity.prevTime=Date.now()),t.velocity.x=(t.image.touchesCurrent.x-t.velocity.prevPositionX)/(Date.now()-t.velocity.prevTime)/2,t.velocity.y=(t.image.touchesCurrent.y-t.velocity.prevPositionY)/(Date.now()-t.velocity.prevTime)/2,Math.abs(t.image.touchesCurrent.x-t.velocity.prevPositionX)<2&&(t.velocity.x=0),Math.abs(t.image.touchesCurrent.y-t.velocity.prevPositionY)<2&&(t.velocity.y=0),t.velocity.prevPositionX=t.image.touchesCurrent.x,t.velocity.prevPositionY=t.image.touchesCurrent.y,t.velocity.prevTime=Date.now(),t.gesture.imageWrap.transform("translate3d("+t.image.currentX+"px, "+t.image.currentY+"px,0)")}}},onTouchEnd:function(e,t){var n=e.zoom;if(n.gesture.image&&0!==n.gesture.image.length){if(!n.image.isTouched||!n.image.isMoved)return n.image.isTouched=!1,void(n.image.isMoved=!1);n.image.isTouched=!1,n.image.isMoved=!1;var r=300,i=300,o=n.velocity.x*r,a=n.image.currentX+o,s=n.velocity.y*i,l=n.image.currentY+s;0!==n.velocity.x&&(r=Math.abs((a-n.image.currentX)/n.velocity.x)),0!==n.velocity.y&&(i=Math.abs((l-n.image.currentY)/n.velocity.y));var c=Math.max(r,i);n.image.currentX=a,n.image.currentY=l;var u=n.image.width*n.scale,d=n.image.height*n.scale;n.image.minX=Math.min(n.gesture.slideWidth/2-u/2,0),n.image.maxX=-n.image.minX,n.image.minY=Math.min(n.gesture.slideHeight/2-d/2,0),n.image.maxY=-n.image.minY,n.image.currentX=Math.max(Math.min(n.image.currentX,n.image.maxX),n.image.minX),n.image.currentY=Math.max(Math.min(n.image.currentY,n.image.maxY),n.image.minY),n.gesture.imageWrap.transition(c).transform("translate3d("+n.image.currentX+"px, "+n.image.currentY+"px,0)")}},onTransitionEnd:function(e){var t=e.zoom;t.gesture.slide&&e.previousIndex!==e.activeIndex&&(t.gesture.image.transform("translate3d(0,0,0) scale(1)"),t.gesture.imageWrap.transform("translate3d(0,0,0)"),t.gesture.slide=t.gesture.image=t.gesture.imageWrap=void 0,t.scale=t.currentScale=1)},toggleZoom:function(t,n){var r,i,o,a,s,l,c,u,d,h,f,p,m,v,g,y,_=t.zoom;(_.gesture.slide||(_.gesture.slide=t.clickedSlide?e(t.clickedSlide):t.slides.eq(t.activeIndex),_.gesture.image=_.gesture.slide.find("img, svg, canvas"),_.gesture.imageWrap=_.gesture.image.parent("."+t.params.zoomContainerClass)),_.gesture.image&&0!==_.gesture.image.length)&&(void 0===_.image.touchesStart.x&&n?(r="touchend"===n.type?n.changedTouches[0].pageX:n.pageX,i="touchend"===n.type?n.changedTouches[0].pageY:n.pageY):(r=_.image.touchesStart.x,i=_.image.touchesStart.y),_.scale&&1!==_.scale?(_.scale=_.currentScale=1,_.gesture.imageWrap.transition(300).transform("translate3d(0,0,0)"),_.gesture.image.transition(300).transform("translate3d(0,0,0) scale(1)"),_.gesture.slide=void 0):(_.scale=_.currentScale=_.gesture.imageWrap.attr("data-swiper-zoom")||t.params.zoomMax,n?(g=_.gesture.slide[0].offsetWidth,y=_.gesture.slide[0].offsetHeight,o=_.gesture.slide.offset().left+g/2-r,a=_.gesture.slide.offset().top+y/2-i,c=_.gesture.image[0].offsetWidth,u=_.gesture.image[0].offsetHeight,d=c*_.scale,h=u*_.scale,m=-(f=Math.min(g/2-d/2,0)),v=-(p=Math.min(y/2-h/2,0)),s=o*_.scale,l=a*_.scale,s<f&&(s=f),s>m&&(s=m),l<p&&(l=p),l>v&&(l=v)):(s=0,l=0),_.gesture.imageWrap.transition(300).transform("translate3d("+s+"px, "+l+"px,0)"),_.gesture.image.transition(300).transform("translate3d(0,0,0) scale("+_.scale+")")))},attachEvents:function(t){var n=t?"off":"on";if(b.params.zoom){var r=(b.slides,!("touchstart"!==b.touchEvents.start||!b.support.passiveListener||!b.params.passiveListeners)&&{passive:!0,capture:!1});b.support.gestures?(b.slides[n]("gesturestart",b.zoom.onGestureStart,r),b.slides[n]("gesturechange",b.zoom.onGestureChange,r),b.slides[n]("gestureend",b.zoom.onGestureEnd,r)):"touchstart"===b.touchEvents.start&&(b.slides[n](b.touchEvents.start,b.zoom.onGestureStart,r),b.slides[n](b.touchEvents.move,b.zoom.onGestureChange,r),b.slides[n](b.touchEvents.end,b.zoom.onGestureEnd,r)),b[n]("touchStart",b.zoom.onTouchStart),b.slides.each(function(t,r){e(r).find("."+b.params.zoomContainerClass).length>0&&e(r)[n](b.touchEvents.move,b.zoom.onTouchMove)}),b[n]("touchEnd",b.zoom.onTouchEnd),b[n]("transitionEnd",b.zoom.onTransitionEnd),b.params.zoomToggle&&b.on("doubleTap",b.zoom.toggleZoom)}},init:function(){b.zoom.attachEvents()},destroy:function(){b.zoom.attachEvents(!0)}},b._plugins=[],b.plugins){var z=b.plugins[q](b,b.params[q]);z&&b._plugins.push(z)}return b.callPlugins=function(e){for(var t=0;t<b._plugins.length;t++)e in b._plugins[t]&&b._plugins[t][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},b.emitterEventListeners={},b.emit=function(e){var t;if(b.params[e]&&b.params[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),b.emitterEventListeners[e])for(t=0;t<b.emitterEventListeners[e].length;t++)b.emitterEventListeners[e][t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);b.callPlugins&&b.callPlugins(e,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},b.on=function(e,t){return e=h(e),b.emitterEventListeners[e]||(b.emitterEventListeners[e]=[]),b.emitterEventListeners[e].push(t),b},b.off=function(e,t){var n;if(e=h(e),void 0===t)return b.emitterEventListeners[e]=[],b;if(b.emitterEventListeners[e]&&0!==b.emitterEventListeners[e].length){for(n=0;n<b.emitterEventListeners[e].length;n++)b.emitterEventListeners[e][n]===t&&b.emitterEventListeners[e].splice(n,1);return b}},b.once=function(e,t){e=h(e);var n=function(){t(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),b.off(e,n)};return b.on(e,n),b},b.a11y={makeFocusable:function(e){return e.attr("tabIndex","0"),e},addRole:function(e,t){return e.attr("role",t),e},addLabel:function(e,t){return e.attr("aria-label",t),e},disable:function(e){return e.attr("aria-disabled",!0),e},enable:function(e){return e.attr("aria-disabled",!1),e},onEnterKey:function(t){13===t.keyCode&&(e(t.target).is(b.params.nextButton)?(b.onClickNext(t),b.isEnd?b.a11y.notify(b.params.lastSlideMessage):b.a11y.notify(b.params.nextSlideMessage)):e(t.target).is(b.params.prevButton)&&(b.onClickPrev(t),b.isBeginning?b.a11y.notify(b.params.firstSlideMessage):b.a11y.notify(b.params.prevSlideMessage)),e(t.target).is("."+b.params.bulletClass)&&e(t.target)[0].click())},liveRegion:e('<span class="'+b.params.notificationClass+'" aria-live="assertive" aria-atomic="true"></span>'),notify:function(e){var t=b.a11y.liveRegion;0!==t.length&&(t.html(""),t.html(e))},init:function(){b.params.nextButton&&b.nextButton&&b.nextButton.length>0&&(b.a11y.makeFocusable(b.nextButton),b.a11y.addRole(b.nextButton,"button"),b.a11y.addLabel(b.nextButton,b.params.nextSlideMessage)),b.params.prevButton&&b.prevButton&&b.prevButton.length>0&&(b.a11y.makeFocusable(b.prevButton),b.a11y.addRole(b.prevButton,"button"),b.a11y.addLabel(b.prevButton,b.params.prevSlideMessage)),e(b.container).append(b.a11y.liveRegion)},initPagination:function(){b.params.pagination&&b.params.paginationClickable&&b.bullets&&b.bullets.length&&b.bullets.each(function(){var t=e(this);b.a11y.makeFocusable(t),b.a11y.addRole(t,"button"),b.a11y.addLabel(t,b.params.paginationBulletMessage.replace(/{{index}}/,t.index()+1))})},destroy:function(){b.a11y.liveRegion&&b.a11y.liveRegion.length>0&&b.a11y.liveRegion.remove()}},b.init=function(){b.params.loop&&b.createLoop(),b.updateContainerSize(),b.updateSlidesSize(),b.updatePagination(),b.params.scrollbar&&b.scrollbar&&(b.scrollbar.set(),b.params.scrollbarDraggable&&b.scrollbar.enableDraggable()),"slide"!==b.params.effect&&b.effects[b.params.effect]&&(b.params.loop||b.updateProgress(),b.effects[b.params.effect].setTranslate()),b.params.loop?b.slideTo(b.params.initialSlide+b.loopedSlides,0,b.params.runCallbacksOnInit):(b.slideTo(b.params.initialSlide,0,b.params.runCallbacksOnInit),0===b.params.initialSlide&&(b.parallax&&b.params.parallax&&b.parallax.setTranslate(),b.lazy&&b.params.lazyLoading&&(b.lazy.load(),b.lazy.initialImageLoaded=!0))),b.attachEvents(),b.params.observer&&b.support.observer&&b.initObservers(),b.params.preloadImages&&!b.params.lazyLoading&&b.preloadImages(),b.params.zoom&&b.zoom&&b.zoom.init(),b.params.autoplay&&b.startAutoplay(),b.params.keyboardControl&&b.enableKeyboardControl&&b.enableKeyboardControl(),b.params.mousewheelControl&&b.enableMousewheelControl&&b.enableMousewheelControl(),b.params.hashnavReplaceState&&(b.params.replaceState=b.params.hashnavReplaceState),b.params.history&&b.history&&b.history.init(),b.params.hashnav&&b.hashnav&&b.hashnav.init(),b.params.a11y&&b.a11y&&b.a11y.init(),b.emit("onInit",b)},b.cleanupStyles=function(){b.container.removeClass(b.classNames.join(" ")).removeAttr("style"),b.wrapper.removeAttr("style"),b.slides&&b.slides.length&&b.slides.removeClass([b.params.slideVisibleClass,b.params.slideActiveClass,b.params.slideNextClass,b.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),b.paginationContainer&&b.paginationContainer.length&&b.paginationContainer.removeClass(b.params.paginationHiddenClass),b.bullets&&b.bullets.length&&b.bullets.removeClass(b.params.bulletActiveClass),b.params.prevButton&&e(b.params.prevButton).removeClass(b.params.buttonDisabledClass),b.params.nextButton&&e(b.params.nextButton).removeClass(b.params.buttonDisabledClass),b.params.scrollbar&&b.scrollbar&&(b.scrollbar.track&&b.scrollbar.track.length&&b.scrollbar.track.removeAttr("style"),b.scrollbar.drag&&b.scrollbar.drag.length&&b.scrollbar.drag.removeAttr("style"))},b.destroy=function(e,t){b.detachEvents(),b.stopAutoplay(),b.params.scrollbar&&b.scrollbar&&b.params.scrollbarDraggable&&b.scrollbar.disableDraggable(),b.params.loop&&b.destroyLoop(),t&&b.cleanupStyles(),b.disconnectObservers(),b.params.zoom&&b.zoom&&b.zoom.destroy(),b.params.keyboardControl&&b.disableKeyboardControl&&b.disableKeyboardControl(),b.params.mousewheelControl&&b.disableMousewheelControl&&b.disableMousewheelControl(),b.params.a11y&&b.a11y&&b.a11y.destroy(),b.params.history&&!b.params.replaceState&&window.removeEventListener("popstate",b.history.setHistoryPopState),b.params.hashnav&&b.hashnav&&b.hashnav.destroy(),b.emit("onDestroy"),!1!==e&&(b=null)},b.init(),b}};n.prototype={isSafari:function(){var e=window.navigator.userAgent.toLowerCase();return e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent),isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1,lteIE9:function(){var e=document.createElement("div");return e.innerHTML="\x3c!--[if lte IE 9]><i></i><![endif]--\x3e",1===e.getElementsByTagName("i").length}()},device:function(){var e=window.navigator.userAgent,t=e.match(/(Android);?[\s\/]+([\d.]+)?/),n=e.match(/(iPad).*OS\s([\d_]+)/),r=e.match(/(iPod)(.*OS\s([\d_]+))?/),i=!n&&e.match(/(iPhone\sOS|iOS)\s([\d_]+)/);return{ios:n||i||r,android:t}}(),support:{touch:window.Modernizr&&!0===Modernizr.touch||!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch),transforms3d:window.Modernizr&&!0===Modernizr.csstransforms3d||function(){var e=document.createElement("div").style;return"webkitPerspective"in e||"MozPerspective"in e||"OPerspective"in e||"MsPerspective"in e||"perspective"in e}(),flexbox:function(){for(var e=document.createElement("div").style,t="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),n=0;n<t.length;n++)if(t[n]in e)return!0}(),observer:"MutationObserver"in window||"WebkitMutationObserver"in window,passiveListener:function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveListener",null,t)}catch(e){}return e}(),gestures:"ongesturestart"in window},plugins:{}};for(var r=function(){var e=function(e){var t=0;for(t=0;t<e.length;t++)this[t]=e[t];return this.length=e.length,this},t=function(t,n){var r=[],i=0;if(t&&!n&&t instanceof e)return t;if(t)if("string"==typeof t){var o,a,s=t.trim();if(s.indexOf("<")>=0&&s.indexOf(">")>=0){var l="div";for(0===s.indexOf("<li")&&(l="ul"),0===s.indexOf("<tr")&&(l="tbody"),0!==s.indexOf("<td")&&0!==s.indexOf("<th")||(l="tr"),0===s.indexOf("<tbody")&&(l="table"),0===s.indexOf("<option")&&(l="select"),(a=document.createElement(l)).innerHTML=t,i=0;i<a.childNodes.length;i++)r.push(a.childNodes[i])}else for(o=n||"#"!==t[0]||t.match(/[ .<>:~]/)?(n||document).querySelectorAll(t):[document.getElementById(t.split("#")[1])],i=0;i<o.length;i++)o[i]&&r.push(o[i])}else if(t.nodeType||t===window||t===document)r.push(t);else if(t.length>0&&t[0].nodeType)for(i=0;i<t.length;i++)r.push(t[i]);return new e(r)};return e.prototype={addClass:function(e){if(void 0===e)return this;for(var t=e.split(" "),n=0;n<t.length;n++)for(var r=0;r<this.length;r++)this[r].classList.add(t[n]);return this},removeClass:function(e){for(var t=e.split(" "),n=0;n<t.length;n++)for(var r=0;r<this.length;r++)this[r].classList.remove(t[n]);return this},hasClass:function(e){return!!this[0]&&this[0].classList.contains(e)},toggleClass:function(e){for(var t=e.split(" "),n=0;n<t.length;n++)for(var r=0;r<this.length;r++)this[r].classList.toggle(t[n]);return this},attr:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var n=0;n<this.length;n++)if(2===arguments.length)this[n].setAttribute(e,t);else for(var r in e)this[n][r]=e[r],this[n].setAttribute(r,e[r]);return this},removeAttr:function(e){for(var t=0;t<this.length;t++)this[t].removeAttribute(e);return this},data:function(e,t){if(void 0!==t){for(var n=0;n<this.length;n++){var r=this[n];r.dom7ElementDataStorage||(r.dom7ElementDataStorage={}),r.dom7ElementDataStorage[e]=t}return this}if(this[0])return this[0].getAttribute("data-"+e)||(this[0].dom7ElementDataStorage&&e in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[e]:void 0)},transform:function(e){for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=e}return this},transition:function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=e}return this},on:function(e,n,r,i){function o(e){var i=e.target;if(t(i).is(n))r.call(i,e);else for(var o=t(i).parents(),a=0;a<o.length;a++)t(o[a]).is(n)&&r.call(o[a],e)}var a,s,l=e.split(" ");for(a=0;a<this.length;a++)if("function"==typeof n||!1===n)for("function"==typeof n&&(r=arguments[1],i=arguments[2]||!1),s=0;s<l.length;s++)this[a].addEventListener(l[s],r,i);else for(s=0;s<l.length;s++)this[a].dom7LiveListeners||(this[a].dom7LiveListeners=[]),this[a].dom7LiveListeners.push({listener:r,liveListener:o}),this[a].addEventListener(l[s],o,i);return this},off:function(e,t,n,r){for(var i=e.split(" "),o=0;o<i.length;o++)for(var a=0;a<this.length;a++)if("function"==typeof t||!1===t)"function"==typeof t&&(n=arguments[1],r=arguments[2]||!1),this[a].removeEventListener(i[o],n,r);else if(this[a].dom7LiveListeners)for(var s=0;s<this[a].dom7LiveListeners.length;s++)this[a].dom7LiveListeners[s].listener===n&&this[a].removeEventListener(i[o],this[a].dom7LiveListeners[s].liveListener,r);return this},once:function(e,t,n,r){var i=this;"function"==typeof t&&(t=!1,n=arguments[1],r=arguments[2]),i.on(e,t,function o(a){n(a),i.off(e,t,o,r)},r)},trigger:function(e,t){for(var n=0;n<this.length;n++){var r;try{r=new window.CustomEvent(e,{detail:t,bubbles:!0,cancelable:!0})}catch(n){(r=document.createEvent("Event")).initEvent(e,!0,!0),r.detail=t}this[n].dispatchEvent(r)}return this},transitionEnd:function(e){function t(o){if(o.target===this)for(e.call(this,o),n=0;n<r.length;n++)i.off(r[n],t)}var n,r=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=this;if(e)for(n=0;n<r.length;n++)i.on(r[n],t);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width")):null},outerWidth:function(e){return this.length>0?e?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?parseFloat(this.css("height")):null},outerHeight:function(e){return this.length>0?e?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){var e=this[0],t=e.getBoundingClientRect(),n=document.body,r=e.clientTop||n.clientTop||0,i=e.clientLeft||n.clientLeft||0,o=window.pageYOffset||e.scrollTop,a=window.pageXOffset||e.scrollLeft;return{top:t.top+o-r,left:t.left+a-i}}return null},css:function(e,t){var n;if(1===arguments.length){if("string"!=typeof e){for(n=0;n<this.length;n++)for(var r in e)this[n].style[r]=e[r];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(n=0;n<this.length;n++)this[n].style[e]=t;return this}return this},each:function(e){for(var t=0;t<this.length;t++)e.call(this[t],t,this[t]);return this},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:void 0;for(var t=0;t<this.length;t++)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t++)this[t].textContent=e;return this},is:function(n){if(!this[0])return!1;var r,i;if("string"==typeof n){var o=this[0];if(o===document)return n===document;if(o===window)return n===window;if(o.matches)return o.matches(n);if(o.webkitMatchesSelector)return o.webkitMatchesSelector(n);if(o.mozMatchesSelector)return o.mozMatchesSelector(n);if(o.msMatchesSelector)return o.msMatchesSelector(n);for(r=t(n),i=0;i<r.length;i++)if(r[i]===this[0])return!0;return!1}if(n===document)return this[0]===document;if(n===window)return this[0]===window;if(n.nodeType||n instanceof e){for(r=n.nodeType?[n]:n,i=0;i<r.length;i++)if(r[i]===this[0])return!0;return!1}return!1},index:function(){if(this[0]){for(var e=this[0],t=0;null!==(e=e.previousSibling);)1===e.nodeType&&t++;return t}},eq:function(t){if(void 0===t)return this;var n,r=this.length;return t>r-1?new e([]):t<0?new e((n=r+t)<0?[]:[this[n]]):new e([this[t]])},append:function(t){var n,r;for(n=0;n<this.length;n++)if("string"==typeof t){var i=document.createElement("div");for(i.innerHTML=t;i.firstChild;)this[n].appendChild(i.firstChild)}else if(t instanceof e)for(r=0;r<t.length;r++)this[n].appendChild(t[r]);else this[n].appendChild(t);return this},prepend:function(t){var n,r;for(n=0;n<this.length;n++)if("string"==typeof t){var i=document.createElement("div");for(i.innerHTML=t,r=i.childNodes.length-1;r>=0;r--)this[n].insertBefore(i.childNodes[r],this[n].childNodes[0])}else if(t instanceof e)for(r=0;r<t.length;r++)this[n].insertBefore(t[r],this[n].childNodes[0]);else this[n].insertBefore(t,this[n].childNodes[0]);return this},insertBefore:function(e){for(var n=t(e),r=0;r<this.length;r++)if(1===n.length)n[0].parentNode.insertBefore(this[r],n[0]);else if(n.length>1)for(var i=0;i<n.length;i++)n[i].parentNode.insertBefore(this[r].cloneNode(!0),n[i])},insertAfter:function(e){for(var n=t(e),r=0;r<this.length;r++)if(1===n.length)n[0].parentNode.insertBefore(this[r],n[0].nextSibling);else if(n.length>1)for(var i=0;i<n.length;i++)n[i].parentNode.insertBefore(this[r].cloneNode(!0),n[i].nextSibling)},next:function(n){return new e(this.length>0?n?this[0].nextElementSibling&&t(this[0].nextElementSibling).is(n)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(n){var r=[],i=this[0];if(!i)return new e([]);for(;i.nextElementSibling;){var o=i.nextElementSibling;n?t(o).is(n)&&r.push(o):r.push(o),i=o}return new e(r)},prev:function(n){return new e(this.length>0?n?this[0].previousElementSibling&&t(this[0].previousElementSibling).is(n)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(n){var r=[],i=this[0];if(!i)return new e([]);for(;i.previousElementSibling;){var o=i.previousElementSibling;n?t(o).is(n)&&r.push(o):r.push(o),i=o}return new e(r)},parent:function(e){for(var n=[],r=0;r<this.length;r++)e?t(this[r].parentNode).is(e)&&n.push(this[r].parentNode):n.push(this[r].parentNode);return t(t.unique(n))},parents:function(e){for(var n=[],r=0;r<this.length;r++)for(var i=this[r].parentNode;i;)e?t(i).is(e)&&n.push(i):n.push(i),i=i.parentNode;return t(t.unique(n))},find:function(t){for(var n=[],r=0;r<this.length;r++)for(var i=this[r].querySelectorAll(t),o=0;o<i.length;o++)n.push(i[o]);return new e(n)},children:function(n){for(var r=[],i=0;i<this.length;i++)for(var o=this[i].childNodes,a=0;a<o.length;a++)n?1===o[a].nodeType&&t(o[a]).is(n)&&r.push(o[a]):1===o[a].nodeType&&r.push(o[a]);return new e(t.unique(r))},remove:function(){for(var e=0;e<this.length;e++)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},add:function(){var e,n,r=this;for(e=0;e<arguments.length;e++){var i=t(arguments[e]);for(n=0;n<i.length;n++)r[r.length]=i[n],r.length++}return r}},t.fn=e.prototype,t.unique=function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t},t}(),i=["jQuery","Zepto","Dom7"],o=0;o<i.length;o++)window[i[o]]&&function(e){e.fn.swiper=function(t){var r;return e(this).each(function(){var e=new n(this,t);r||(r=e)}),r}}(window[i[o]]);(t=void 0===r?window.Dom7||window.Zepto||window.jQuery:r)&&("transitionEnd"in t.fn||(t.fn.transitionEnd=function(e){function t(o){if(o.target===this)for(e.call(this,o),n=0;n<r.length;n++)i.off(r[n],t)}var n,r=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=this;if(e)for(n=0;n<r.length;n++)i.on(r[n],t);return this}),"transform"in t.fn||(t.fn.transform=function(e){for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=e}return this}),"transition"in t.fn||(t.fn.transition=function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=e}return this}),"outerWidth"in t.fn||(t.fn.outerWidth=function(e){return this.length>0?e?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null})),window.Swiper=n}(),void 0!==t?t.exports=window.Swiper:"function"==typeof define&&define.amd&&define([],function(){"use strict";return window.Swiper})},{}],27:[function(e,t,n){(function(t,r){function i(e,t){this._id=e,this._clearFn=t}var o=e("process/browser.js").nextTick,a=Function.prototype.apply,s=Array.prototype.slice,l={},c=0;n.setTimeout=function(){return new i(a.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new i(a.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n.setImmediate="function"==typeof t?t:function(e){var t=c++,r=!(arguments.length<2)&&s.call(arguments,1);return l[t]=!0,o(function(){l[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof r?r:function(e){delete l[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":20,timers:27}],28:[function(e,t,n){(function(e){var r=r||function(){var e=[];return{getAll:function(){return e},removeAll:function(){e=[]},add:function(t){e.push(t)},remove:function(t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)},update:function(t,n){if(0===e.length)return!1;var i=0;for(t=void 0!==t?t:r.now();i<e.length;)e[i].update(t)||n?i++:e.splice(i,1);return!0}}}();"undefined"==typeof window&&void 0!==e?r.now=function(){var t=e.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?r.now=window.performance.now.bind(window.performance):void 0!==Date.now?r.now=Date.now:r.now=function(){return(new Date).getTime()},r.Tween=function(e){var t,n=e,i={},o={},a={},s=1e3,l=0,c=!1,u=!1,d=!1,h=0,f=null,p=r.Easing.Linear.None,m=r.Interpolation.Linear,v=[],g=null,y=!1,_=null,b=null,w=null;this.to=function(e,t){return o=e,void 0!==t&&(s=t),this},this.start=function(e){for(var t in r.add(this),u=!0,y=!1,f=void 0!==e?e:r.now(),f+=h,o){if(o[t]instanceof Array){if(0===o[t].length)continue;o[t]=[n[t]].concat(o[t])}void 0!==n[t]&&(i[t]=n[t],i[t]instanceof Array==0&&(i[t]*=1),a[t]=i[t]||0)}return this},this.stop=function(){return u?(r.remove(this),u=!1,null!==w&&w.call(n,n),this.stopChainedTweens(),this):this},this.end=function(){return this.update(f+s),this},this.stopChainedTweens=function(){for(var e=0,t=v.length;e<t;e++)v[e].stop()},this.delay=function(e){return h=e,this},this.repeat=function(e){return l=e,this},this.repeatDelay=function(e){return t=e,this},this.yoyo=function(e){return c=e,this},this.easing=function(e){return p=e,this},this.interpolation=function(e){return m=e,this},this.chain=function(){return v=arguments,this},this.onStart=function(e){return g=e,this},this.onUpdate=function(e){return _=e,this},this.onComplete=function(e){return b=e,this},this.onStop=function(e){return w=e,this},this.update=function(e){var r,u,w;if(e<f)return!0;for(r in!1===y&&(null!==g&&g.call(n,n),y=!0),w=p(u=(u=(e-f)/s)>1?1:u),o)if(void 0!==i[r]){var x=i[r]||0,S=o[r];S instanceof Array?n[r]=m(S,w):("string"==typeof S&&(S="+"===S.charAt(0)||"-"===S.charAt(0)?x+parseFloat(S):parseFloat(S)),"number"==typeof S&&(n[r]=x+(S-x)*w))}if(null!==_&&_.call(n,w),1===u){if(l>0){for(r in isFinite(l)&&l--,a){if("string"==typeof o[r]&&(a[r]=a[r]+parseFloat(o[r])),c){var T=a[r];a[r]=o[r],o[r]=T}i[r]=a[r]}return c&&(d=!d),f=void 0!==t?e+t:e+h,!0}null!==b&&b.call(n,n);for(var E=0,A=v.length;E<A;E++)v[E].start(f+s);return!1}return!0}},r.Easing={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-r.Easing.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*r.Easing.Bounce.In(2*e):.5*r.Easing.Bounce.Out(2*e-1)+.5}}},r.Interpolation={Linear:function(e,t){var n=e.length-1,i=n*t,o=Math.floor(i),a=r.Interpolation.Utils.Linear;return t<0?a(e[0],e[1],i):t>1?a(e[n],e[n-1],n-i):a(e[o],e[o+1>n?n:o+1],i-o)},Bezier:function(e,t){for(var n=0,i=e.length-1,o=Math.pow,a=r.Interpolation.Utils.Bernstein,s=0;s<=i;s++)n+=o(1-t,i-s)*o(t,s)*e[s]*a(i,s);return n},CatmullRom:function(e,t){var n=e.length-1,i=n*t,o=Math.floor(i),a=r.Interpolation.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(o=Math.floor(i=n*(1+t))),a(e[(o-1+n)%n],e[o],e[(o+1)%n],e[(o+2)%n],i-o)):t<0?e[0]-(a(e[0],e[0],e[1],e[1],-i)-e[0]):t>1?e[n]-(a(e[n],e[n],e[n-1],e[n-1],i-n)-e[n]):a(e[o?o-1:0],e[o],e[n<o+1?n:o+1],e[n<o+2?n:o+2],i-o)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=r.Interpolation.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:function(){var e=[1];return function(t){var n=1;if(e[t])return e[t];for(var r=t;r>1;r--)n*=r;return e[t]=n,n}}(),CatmullRom:function(e,t,n,r,i){var o=.5*(n-e),a=.5*(r-t),s=i*i;return(2*t-2*n+o+a)*(i*s)+(-3*t+3*n-2*o-a)*s+o*i+t}}},function(e){"function"==typeof define&&define.amd?define([],function(){return r}):void 0!==t&&"object"==typeof n?t.exports=r:void 0!==e&&(e.TWEEN=r)}(this)}).call(this,e("_process"))},{_process:20}],29:[function(e,t,n){var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,r){"object"===(void 0===n?"undefined":i(n))&&void 0!==t?t.exports=r():"function"==typeof define&&define.amd?define(r):e.LazyLoad=r()}(this,function(){"use strict";function e(e,t,n){return!(a(e,t,n)||c(e,t,n)||l(e,t,n)||u(e,t,n))}var t=function(e,t){return e.getAttribute("data-"+t)},n=function(e){return function(e,t,n){var r="data-"+t;null!==n?e.setAttribute(r,n):e.removeAttribute(r)}(e,"was-processed","true")},i=function(e){return"true"===t(e,"was-processed")},o=function(e){return e.getBoundingClientRect().top+window.pageYOffset-e.ownerDocument.documentElement.clientTop},a=function(e,t,n){return(t===window?window.innerHeight+window.pageYOffset:o(t)+t.offsetHeight)<=o(e)-n},s=function(e){return e.getBoundingClientRect().left+window.pageXOffset-e.ownerDocument.documentElement.clientLeft},l=function(e,t,n){var r=window.innerWidth;return(t===window?r+window.pageXOffset:s(t)+r)<=s(e)-n},c=function(e,t,n){return(t===window?window.pageYOffset:o(t))>=o(e)+n+e.offsetHeight},u=function(e,t,n){return(t===window?window.pageXOffset:s(t))>=s(e)+n+e.offsetWidth},d=function(e,t){var n,r=new e(t);try{n=new CustomEvent("LazyLoad::Initialized",{detail:{instance:r}})}catch(e){(n=document.createEvent("CustomEvent")).initCustomEvent("LazyLoad::Initialized",!1,!1,{instance:r})}window.dispatchEvent(n)},h=function(e,t){return t?e.replace(/\.(jpe?g|png)/gi,".webp"):e},f="undefined"!=typeof window,p=f&&!("onscroll"in window)||/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),m=f&&"classList"in document.createElement("p"),v=f&&function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))&&0===e.toDataURL("image/webp").indexOf("data:image/webp")}(),g=function(e,t){m?e.classList.add(t):e.className+=(e.className?" ":"")+t},y=function(e,n,r,i){for(var o,a=0;o=e.children[a];a+=1)if("SOURCE"===o.tagName){var s=t(o,r);_(o,n,s,i)}},_=function(e,t,n,r){n&&e.setAttribute(t,h(n,r))},b=function(e,n){var r=v&&n.to_webp,i=t(e,n.data_src),o=t(e,n.data_bg);if(i){var a=h(i,r);e.style.backgroundImage='url("'+a+'")'}if(o){var s=h(o,r);e.style.backgroundImage=s}},w={IMG:function(e,n){var r=v&&n.to_webp,i=n.data_srcset,o=e.parentNode;o&&"PICTURE"===o.tagName&&y(o,"srcset",i,r);var a=t(e,n.data_sizes);_(e,"sizes",a);var s=t(e,i);_(e,"srcset",s,r);var l=t(e,n.data_src);_(e,"src",l,r)},IFRAME:function(e,n){var r=t(e,n.data_src);_(e,"src",r)},VIDEO:function(e,n){var r=n.data_src,i=t(e,r);y(e,"src",r),_(e,"src",i),e.load()}},x=function(e,t){var n=t._settings,r=e.tagName,i=w[r];if(i)return i(e,n),t._updateLoadingCount(1),void(t._elements=function(e,t){return e.filter(function(e){return e!==t})}(t._elements,e));b(e,n)},S=function(e,t){e&&e(t)},T=function(e,t,n){e.addEventListener(t,n)},E=function(e,t,n){e.removeEventListener(t,n)},A=function(e,t,n){E(e,"load",t),E(e,"loadeddata",t),E(e,"error",n)},M=function(e,t,n){var r=n._settings,i=t?r.class_loaded:r.class_error,o=t?r.callback_load:r.callback_error,a=e.target;(function(e,t){m?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")})(a,r.class_loading),g(a,i),S(o,a),n._updateLoadingCount(-1)},L=function(e,t){var n=function n(i){M(i,!0,t),A(e,n,r)},r=function r(i){M(i,!1,t),A(e,n,r)};!function(e,t,n){T(e,"load",t),T(e,"loadeddata",t),T(e,"error",n)}(e,n,r)},C=["IMG","IFRAME","VIDEO"],k=function(e){this._settings=r({},{elements_selector:"img",container:window,threshold:300,throttle:150,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",class_loading:"loading",class_loaded:"loaded",class_error:"error",class_initial:"initial",skip_invisible:!0,callback_load:null,callback_error:null,callback_set:null,callback_enter:null,callback_finish:null,to_webp:!1},e),this._loadingCount=0,this._queryOriginNode=this._settings.container===window?document:this._settings.container,this._previousLoopTime=0,this._loopTimeout=null,this._boundHandleScroll=this.handleScroll.bind(this),this._isFirstLoop=!0,window.addEventListener("resize",this._boundHandleScroll),this.update()};return k.prototype={_loopThroughElements:function(t){var n=this._settings,r=this._elements,i=r?r.length:0,o=void 0,a=[],s=this._isFirstLoop;if(s&&(this._isFirstLoop=!1),0!==i){for(o=0;o<i;o++){var l=r[o];n.skip_invisible&&null===l.offsetParent||(t||e(l,n.container,n.threshold))&&(s&&g(l,n.class_initial),this.load(l),a.push(o))}!function(e,t){for(;t.length;)e.splice(t.pop(),1)}(r,a)}else this._stopScrollHandler()},_startScrollHandler:function(){this._isHandlingScroll||(this._isHandlingScroll=!0,this._settings.container.addEventListener("scroll",this._boundHandleScroll))},_stopScrollHandler:function(){this._isHandlingScroll&&(this._isHandlingScroll=!1,this._settings.container.removeEventListener("scroll",this._boundHandleScroll))},_updateLoadingCount:function(e){this._loadingCount+=e,0===this._elements.length&&0===this._loadingCount&&S(this._settings.callback_finish)},handleScroll:function(){var e=this._settings.throttle;if(0!==e){var t=Date.now(),n=e-(t-this._previousLoopTime);n<=0||n>e?(this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null),this._previousLoopTime=t,this._loopThroughElements()):this._loopTimeout||(this._loopTimeout=setTimeout(function(){this._previousLoopTime=Date.now(),this._loopTimeout=null,this._loopThroughElements()}.bind(this),n))}else this._loopThroughElements()},loadAll:function(){this._loopThroughElements(!0)},update:function(e){var t=this._settings,n=e||this._queryOriginNode.querySelectorAll(t.elements_selector);this._elements=function(e){return e.filter(function(e){return!i(e)})}(Array.prototype.slice.call(n)),p?this.loadAll():(this._loopThroughElements(),this._startScrollHandler())},destroy:function(){window.removeEventListener("resize",this._boundHandleScroll),this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null),this._stopScrollHandler(),this._elements=null,this._queryOriginNode=null,this._settings=null},load:function(e,t){!function(e,t,r){var o=t._settings;!r&&i(e)||(S(o.callback_enter,e),C.indexOf(e.tagName)>-1&&(L(e,t),g(e,o.class_loading)),x(e,t),n(e),S(o.callback_set,e))}(e,this,t)}},f&&function(e,t){if(t)if(t.length)for(var n,r=0;n=t[r];r+=1)d(e,n);else d(e,t)}(k,window.lazyLoadOptions),k})},{}],30:[function(e,t,n){e("svgxuse"),e("./helpers/classList"),e("./helpers/scope"),e("./helpers/closest"),e("./tools/overflowScroll"),e("./helpers/customEvent"),e("./helpers/polyfill"),e("focus-outline-manager"),e("simplebar"),window.Promise||(window.Promise=e("promise-polyfill"));var r=e("pubsub-js"),i={listener:e("./modules/listener"),resize:e("./modules/resize"),scroll:e("./modules/scroll"),manager:e("./modules/misc"),nav:e("./modules/nav"),lazy:e("./modules/lazyload"),scroll:e("./modules/scroll"),sliders:e("./modules/slider"),reviews:e("./modules/reviews"),toggle:e("./modules/toggle"),modal:e("./modules/modal"),select:e("./modules/select"),forms:e("./modules/forms"),anims:e("./modules/anims"),technology:e("./modules/technology"),checkout:e("./modules/checkout"),preloader:e("./modules/preloader"),sparkDetails:e("./modules/sparkDetails"),tagManager:e("./modules/tagManager"),product:e("./modules/product"),accordions:e("./modules/accordeon"),countdown:e("./modules/countdown"),audio:e("./modules/audioPlayer"),storeLocator:e("./modules/store-locator"),storeLocatorCn:e("./modules/store-locator-cn"),hoverGallery:e("./modules/hoverGallery"),autofill:e("./modules/autocomplete-address"),subscription:e("./modules/subscription"),oddEvenGrid:e("./modules/oddEvenGrid"),scrollTo:e("./modules/scrollTo"),location:e("./modules/location"),Compare:e("./modules/compare"),request:e("./modules/request"),filters:e("./modules/filters"),myAccount:e("./modules/myAccount"),tabindex:e("./modules/tabindex"),tabpanel:e("./modules/tabpanel"),Snapcall:e("./modules/snapcall"),ObjectFit:e("./modules/object-fit")};new function(){for(var e in feature.touch&&document.body.classList.add("touch"),i)i.hasOwnProperty(e)&&(this[e]=new i[e](this));"object-fit"in document.body.style||document.body.classList.add("no-object-fit"),r.publish("app.start"),r.publish("scroll",{direction:"down",pos:window.pageYOffset})}},{"./helpers/classList":31,"./helpers/closest":32,"./helpers/customEvent":33,"./helpers/polyfill":35,"./helpers/scope":36,"./modules/accordeon":37,"./modules/anims":38,"./modules/audioPlayer":39,"./modules/autocomplete-address":40,"./modules/checkout":41,"./modules/compare":42,"./modules/countdown":43,"./modules/filters":44,"./modules/forms":45,"./modules/hoverGallery":46,"./modules/lazyload":48,"./modules/listener":49,"./modules/location":50,"./modules/misc":51,"./modules/modal":52,"./modules/myAccount":53,"./modules/nav":54,"./modules/object-fit":55,"./modules/oddEvenGrid":56,"./modules/preloader":57,"./modules/product":58,"./modules/request":59,"./modules/resize":60,"./modules/reviews":61,"./modules/scroll":62,"./modules/scrollTo":63,"./modules/select":64,"./modules/slider":65,"./modules/snapcall":66,"./modules/sparkDetails":67,"./modules/store-locator":69,"./modules/store-locator-cn":68,"./modules/subscription":70,"./modules/tabindex":71,"./modules/tabpanel":72,"./modules/tagManager":73,"./modules/technology":74,"./modules/toggle":75,"./tools/overflowScroll":79,"focus-outline-manager":3,"promise-polyfill":21,"pubsub-js":22,simplebar:24,svgxuse:25}],31:[function(e,t,n){"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))||function(e){"use strict";if("Element"in e){var t=e.Element.prototype,n=Object,r=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},i=Array.prototype.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},o=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},a=function(e,t){if(""===t)throw new o("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new o("INVALID_CHARACTER_ERR","String contains an invalid character");return i.call(e,t)},s=function(e){for(var t=r.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],i=0,o=n.length;i<o;i++)this.push(n[i]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},l=s.prototype=[],c=function(){return new s(this)};if(o.prototype=Error.prototype,l.item=function(e){return this[e]||null},l.contains=function(e){return-1!==a(this,e+="")},l.add=function(){var e,t=arguments,n=0,r=t.length,i=!1;do{e=t[n]+"",-1===a(this,e)&&(this.push(e),i=!0)}while(++n<r);i&&this._updateClassName()},l.remove=function(){var e,t,n=arguments,r=0,i=n.length,o=!1;do{for(e=n[r]+"",t=a(this,e);-1!==t;)this.splice(t,1),o=!0,t=a(this,e)}while(++r<i);o&&this._updateClassName()},l.toggle=function(e,t){e+="";var n=this.contains(e),r=n?!0!==t&&"remove":!1!==t&&"add";return r&&this[r](e),!0===t||!1===t?t:!n},l.toString=function(){return this.join(" ")},n.defineProperty){var u={get:c,enumerable:!0,configurable:!0};try{n.defineProperty(t,"classList",u)}catch(e){void 0!==e.number&&-2146823252!==e.number||(u.enumerable=!1,n.defineProperty(t,"classList",u))}}else n.prototype.__defineGetter__&&t.__defineGetter__("classList",c)}}(self),function(){"use strict";var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var n,r=arguments.length;for(n=0;n<r;n++)e=arguments[n],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}}e=null}())},{}],32:[function(e,t,n){!function(e){"function"!=typeof e.matches&&(e.matches=e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||function(e){for(var t=this,n=(t.document||t.ownerDocument).querySelectorAll(e),r=0;n[r]&&n[r]!==t;)++r;return Boolean(n[r])}),"function"!=typeof e.closest&&(e.closest=function(e){for(var t=this;t&&1===t.nodeType;){if(t.matches(e))return t;t=t.parentNode}return null})}(window.Element.prototype)},{}],33:[function(e,t,n){!function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}if("function"==typeof window.CustomEvent)return!1;e.prototype=window.Event.prototype,window.CustomEvent=e}()},{}],34:[function(e,t,n){function r(e){for(var t in e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=!!(e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue)):this.type=e,e)t!==t.toUpperCase()&&"function"!=typeof e[t]&&(this[t]=e[t])}r.prototype={constructor:r,isDefaultPrevented:!1,isPropagationStopped:!1,isImmediatePropagationStopped:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=!0,e&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=!0,e&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=!0,e&&e.stopImmediatePropagation(),this.stopPropagation()}},t.exports=function(e,t,n,i,o){function a(e,t){for(var n in 3===(e=new r(e)).target.nodeType&&(e.target=e.target.parentNode),t)e[n]=t[n];return e}function s(){e.removeEventListener(t,l,o)}function l(e){if(!c)return i(a(e,{currentTarget:e.currentTarget})),void(o&&o.once&&s());var t=e.target.closest(n);t&&(i(a(e,{currentTarget:t})),o&&o.once&&s())}var c;return"string"==typeof n?c=!0:(o=i,i=n),e.addEventListener(t,l,o),{event:t,options:o,selector:n,unbind:s}}},{}],35:[function(e,t,n){window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var n=0;n<this.length;n++)e.call(t,this[n],n,this)}),function(e){for(var t=0;t<e.length;t++)!window[e[t]]||"remove"in window[e[t]].prototype||(window[e[t]].prototype.remove=function(){this.parentNode.removeChild(this)})}(["Element","CharacterData","DocumentType"])},{}],36:[function(e,t,n){!function(e,t){try{e.querySelector(":scope body")}catch(n){["querySelector","querySelectorAll"].forEach(function(n){var r=t[n];t[n]=function(t){if(/(^|,)\s*:scope/.test(t)){var i=this.id;this.id="ID_"+Date.now(),t=t.replace(/((^|,)\s*):scope/g,"$1#"+this.id);var o=e[n](t);return this.id=i,o}return r.call(this,t)}})}}(window.document,Element.prototype)},{}],37:[function(e,t,n){var r=e("pubsub-js"),i=e("../helpers/delegate"),o=e("../tools/tablist"),a=e("../tools/smoothScroll");t.exports=function(){"use strict";function e(e){var t=e.currentTarget,n=document.documentElement.scrollTop||document.scrollingElement.scrollTop,r=document.querySelector(".page-nav").clientHeight||document.querySelector(".breadcrumb").clientHeight;setTimeout(function(){a.go({easing:{effect:"Cubic",type:"InOut"},from:n,url:"URL",to:t.getBoundingClientRect().top+(n-r),timing:300})},300)}function t(e){var t=e.currentTarget,n=t.closest("form[data-compare-zone]"),r=n.querySelectorAll(t.dataset.accordeon);[].slice.call(r).forEach(function(e){e.classList.contains("show")?(e.classList.remove("show"),e.classList.add("hide")):(e.classList.add("show"),e.classList.remove("hide")),t.classList.toggle("open")}),t.classList.contains("open")?(n.classList.add("open-specs"),t.setAttribute("aria-expanded",!0)):(n.classList.remove("open-specs"),t.setAttribute("aria-expanded",!1))}function n(){document.querySelectorAll('.accordeon[role="tablist"]').forEach(function(e){e.classList.contains("inner-accordeon")&&e.querySelectorAll(".accordeon").forEach(function(e){e.classList.remove("accordeon")}),new o(e).closeAll()}),i(document.body,"click","[data-accordeon]",t),i(document.body,"click",".products-widgets .accordeon .tab",e)}return r.subscribe("app.start",n),{init:n}}},{"../helpers/delegate":34,"../tools/smoothScroll":80,"../tools/tablist":81,"pubsub-js":22}],38:[function(e,t,n){var r=e("pubsub-js"),i=e("in-viewport"),o=e("../helpers/delegate");t.exports=function(){"use strict";function e(){l.animatables&&l.animatables.length&&(l.animatables.forEach(function(e){e.addEventListener("transitionend",a)}),r.subscribe("scroll",t))}function t(t){var o,a,s=0,d=document.documentElement.scrollTop||document.body.scrollTop,h=window.innerHeight;!0===t&&(r.unsubscribe("scroll"),n(),e()),l.animatables.filter(function(e){return e.getAttribute("data-animate")===c.start&&i(e)}).forEach(function(e,t){if(o=Number(e.getAttribute("data-offset"))||0,a=e.getAttribute("data-callback"),window.feature.touch&&(o=0),i(e,o)){if(s=.3*t,a&&r.publish("anim.launch",{id:a}),d>h/2&&!u)return s=0,e.style.transitionDuration="0s",void e.setAttribute("data-animate",c.end);e.setAttribute("data-animate",c.running),e.style.transitionDelay=s+"s"}})}function n(){l.animatables=[].slice.call(document.querySelectorAll("[data-animate]"))}function a(){this.setAttribute("data-animate",c.end)}function s(){if(window.mobile||window.tablet){var r=document.querySelectorAll("[data-transition-delay]");r&&function(e){[].slice.call(e).forEach(function(e){var t=[].slice.call(e.querySelectorAll("[data-delayed]")),n=e.dataset.transitionDelay;t.forEach(function(e,t){var r=JSON.parse(e.dataset.delayed);e.style.transitionDelay=parseFloat(n)+parseFloat(t*r.delay)+"s",r.removeAfter&&o(e,"transitionend",function(){e.style.transitionDelay=null},{once:!0})})})}(r)}else window.requestAnimationFrame(function(){n(),e(),l.animatables.length&&(window.requestAnimationFrame(t),u=!0)})}var l={},c={end:"end",running:"running",start:"start"},u=!1;return r.subscribe("app.start",s),r.subscribe("breakpoint",s),{css:function(e,t,n,r){"out"===e&&(t.classList.add(n.running),o(t,"transitionend",function(){t.classList.remove(n.done),n.basic&&t.classList.remove(n.basic),t.classList.remove(n.running)},{once:!0})),"in"===e&&(t.classList.add(n.done),window.requestAnimationFrame(function(){n.basic&&t.classList.add(n.basic),r&&window.requestAnimationFrame(r)}))},checkVisibles:t,init:s}}},{"../helpers/delegate":34,"in-viewport":4,"pubsub-js":22}],39:[function(e,t,n){var r=e("pubsub-js"),i=e("../helpers/delegate");t.exports=function(){"use strict";function e(e){var t=e.originalEvent?e.currentTarget:e,n=document.querySelector(t.dataset.play);n.paused?(n.play(),window.isPlaying=!0):(n.pause(),window.clearTimeout(l),window.clearTimeout(c),window.isPlaying=!1),t.classList.toggle("playing-track")}function t(e,t){var n=e.originalEvent?e.currentTarget:e;n.closest("[data-playing]").querySelector("audio").volume=t||n.value,n.parentNode.querySelector(".current").style.width=100*(t||n.value)+"%"}function n(n,r){var i=n.originalEvent?n.currentTarget:n,o=i.closest(".item"),s=JSON.parse(i.dataset.audio),l=i.closest("[data-playlist]").querySelector("[data-playing]"),c=l.querySelector("audio");l.querySelector("[data-title]").textContent=s.title,c.src=s.url,o.parentNode.querySelector(":scope .active").classList.remove("active"),o.classList.add("active"),l.querySelector(".playing-track")&&l.querySelector(".playing-track").classList.remove("playing-track");var u=window.setInterval(function(){c.readyState>0&&(window.clearInterval(u),a(l,c,o),r?t(l.querySelector("[data-volume]"),.5):window.isPlaying&&e(l.querySelector("[data-play]")))},100)}function o(e){var t=e.currentTarget,n=t.closest("[data-playing]").querySelector("audio"),r=t.getBoundingClientRect(),i=e.pageX-r.left,o=parseInt(i/t.offsetWidth*100,10);n.currentTime=n.duration*o/100,s(t.closest("[data-playlist]").querySelector(".elapsed"),n)}function a(e,t,r){var o=e.querySelector("progress"),a=(t.duration,e.querySelector(".elapsed"));a.textContent=(t.currentTime/100).toFixed(2).replace(".",":"),e.querySelector(".duration").textContent=(t.duration/100).toFixed(2).replace(".",":"),o.value=0,o.max=t.duration,i(t,"ended",function(){r.parentNode.querySelector("[data-track].active").nextElementSibling&&n(r.parentNode.querySelector("[data-track].active").nextElementSibling.querySelector("[data-audio]")),window.clearTimeout(l),window.clearTimeout(c)},{once:!0}),t.addEventListener("play",function(){var e=function(){o.value=t.currentTime,l=window.setTimeout(e,u)};e()}),t.addEventListener("timeupdate",function(){s(a,t)})}function s(e,t){e.textContent=(t.currentTime/100).toFixed(2).replace(".",":")}var l,c,u=100;return r.subscribe("app.start",function(){document.querySelector("[data-playlist]")&&(n(document.querySelector("[data-audio]"),!0),i(document.body,"click","[data-audio]",function(e){e.preventDefault(),n(e)}),i(document.body,"click","[data-play]",function(t){t.preventDefault(),e(t)}),i(document.body,"click","[data-progress]",o),i(document.body,"touchend","[data-progress]",o),i(document.body,"input","[data-volume]",t),i(document.body,"click","[data-playlist] [data-toggle]",function(e){var t=e.currentTarget;t.closest("[data-playlist]").dataset.playlist="true"===t.getAttribute("aria-expanded")}))}),{}}},{"../helpers/delegate":34,"pubsub-js":22}],40:[function(e,t,n){e("pubsub-js"),e("reqwest"),e("../helpers/delegate"),t.exports=function(e){"use strict";function t(){[].slice.call(o).forEach(function(e){var t=new google.maps.places.Autocomplete(e,{componentRestrictions:{country:window.config.map.country},types:["geocode"]});google.maps.event.addDomListener(e,"keydown",function(e){13===e.keyCode&&e.preventDefault()}),t&&(t.addListener("place_changed",function(){n(t,e)}),e.addEventListener("focus",function(){var e;e=t,navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(t){var n={lat:t.coords.latitude,lng:t.coords.longitude},r=new google.maps.Circle({center:n,radius:t.coords.accuracy});e&&e.setBounds(r.getBounds())})}))})}function n(t,n){var i=t.getPlace(),o=n.closest("[data-form-fill]"),a={};[].slice.call(o.querySelectorAll("[data-autofill]")).forEach(function(t){if(-1!==t.dataset.autofill.indexOf(","))for(var n=t.dataset.autofill.split(","),r=0;r<n.length;r++)a[n[r]]="long_name";else a[t.dataset.autofill]="long_name";t.value="",t.querySelector("option")&&(t.querySelector("option").selected=!0,e.select.refresh(t.closest(".field"))),t.hasAttribute("data-autofill-more")&&(a[t.dataset.autofillMore]="long_name")});for(var s=0;s<i.address_components.length;s++){var l=i.address_components[s].types[0],c=o.querySelector('[data-autofill-more="'+l+'"]'),u=o.querySelector('[data-autofill*="'+l+'"]');a[l]&&r({place:i,elt:u,more:c,map:a,type:l,index:s})}e.forms.labelHolders(o),[].slice.call(o.querySelectorAll("[data-fill-me]")).forEach(function(e){e.value=e.dataset.fillMe+" "+e.value})}function r(e){if(e.elt&&e.elt.hasAttribute("data-country")){var t=e.place.address_components[e.index].short_name,n=e.elt.querySelector('[data-autoval="'+t.toLowerCase()+'"]')||e.elt.querySelector('[data-autoval="'+t.toUpperCase()+'"]');if(!n)return;e.elt.matches("[data-ajax]")&&document.querySelector(JSON.parse(e.elt.dataset.ajax).target).classList.remove("disabled"),n.selected="selected",e.elt.dispatchEvent(new Event("change"))}else{if(e.more)return void e.more.setAttribute("data-fill-me",e.place.address_components[e.index][e.map[e.type]]);var r=e.place.address_components[e.index][e.map[e.type]];e.elt.value=r}"postal_code"===e.elt.dataset.autofill&&(e.elt.focus(),window.requestAnimationFrame(function(){e.elt.blur()}))}function i(e){e=e||document,o=e.querySelectorAll("[data-autofiller]"),window.autofillReady&&0!==o.length&&t()}var o;return window.initPlaces=function(){window.autofillReady=!0,i()},{load:i}}},{"../helpers/delegate":34,"pubsub-js":22,reqwest:23}],41:[function(require,module,exports){function Checkout(Site){"use strict";function bind(){document.addEventListener("invalid",function(e){e.preventDefault()},!0),delegate(document.body,"click","button[data-submit], a[data-submit]",ajaxHandler),delegate(document.body,"click","button.bt-anchor",btAnchor),delegate(document.body,"click","button.bt-edit",btEdit),delegate(document.body,"change","select[data-submit], input[data-submit]",ajaxHandler),delegate(document.body,"click","form[data-validate] button",function(e){validateFields(e,e.currentTarget.closest("form"),!0)}),delegate(document.body,"click","[data-basket]",basketHandler),delegate(document.body,"keyup","[data-basket]",accessBasket),delegate(document.body,"basketupdate",".product-details [data-basket]",removeProduct),delegate(document.body,"focusout","[data-checkfield]",validateField),delegate(document.body,"keyup","[data-checkfield]",validateField),delegate(document.body,"click",'input[type="checkbox"][data-checkfield]',validateField),delegate(document.body,"click","[data-close-popin]",closeDialogPopin),delegate(document.body,"click",".address-button",switchAddressesBlocs),delegate(document.body,"change",".address-radio",refreshShippingHtml),delegate(document.body,"click","#added-modal .close",closeAddedModal),delegate(document.body,"change",'[id*="country"]',function(e){e.currentTarget.closest("form").querySelector('[id*="region"]')&&document.body.classList.contains("checkout")&&(switchCountry(e.currentTarget,e.currentTarget.closest("form").querySelector('[id*="region"]')),checkifOptionalPostCode(e.currentTarget.closest("[data-postal]")))}),delegate(document.body,"focusout","#gift-code",trimField),ps.subscribe("basket.update",function(e,t){window.gmttracking&&window.gmttracking("basket.update",t)});for(var e=document.querySelectorAll(".count"),t=0;t<e.length;t++)e[t].innerText>0&&(e[t].style.opacity=1)}function trimField(e){var t=e.currentTarget,n=t.value.replace(/\s+/g,"");t.value=n}function closeDialogPopin(e){var t=e.currentTarget.closest("#dialog-popin-buy");document.body.querySelector("#dialog-popin-buy")&&(e.preventDefault(),t.classList.toggle("show"))}function removeProduct(e){var t=e.currentTarget.closest(".product-details");t.style.height=t.offsetHeight+"px",e.preventDefault(),window.setTimeout(function(){t.style.opacity=0,t.style.paddingTop=0,t.style.paddingBottom=0,t.style.height=0,delegate(t,"transitionend",function(e){1===t.parentNode.children.length&&(t=t.parentNode),t.parentNode.removeChild(t)},{once:!0})},20)}function accessBasket(e){e.preventDefault(),13===e.keyCode&&e.currentTarget.click()}function basketHandler(e){var t=e.currentTarget,n=t.dataset.basket;e.preventDefault(),t.classList.add("basket-added");var r=document.querySelector("#added-modal"),i=r.querySelector(".product-added"),o=i.querySelectorAll(".added"),a=r.querySelector(".loader");r&&(r.classList.remove("hide"),r.setAttribute("aria-hidden",!1),r.setAttribute("tabindex","-1"),o.forEach(function(e){e.classList.contains("thumb")?e.src="":(e.classList.contains("title")||e.classList.contains("quantity"))&&(e.innerText="")}),i.classList.contains("hide")||i.classList.add("hide"),a.classList.contains("hide")&&a.classList.remove("hide"),smoothScroll.go({easing:{effect:"Cubic",type:"InOut"},from:window.pageYOffset,to:0,timing:830})),reqwest({url:window.config.urls.basket.href,method:window.config.urls.basket.method,data:n,success:function(e){var r=JSON.parse(n);if(t.dataset.enableDialog&&"true"==t.dataset.enableDialog)if(r.quantity>1){document.querySelector("#dialog-popin-buy").classList.toggle("show"),t.classList.remove("basket-added"),r.redirect="0",n=JSON.stringify(r)}else 1==r.quantity&&(r.redirect="1",n=JSON.stringify(r));var s=new CustomEvent("basketupdate",{bubbles:!0,cancelable:!0});if(t.classList.add("basket-added"),t.hasAttribute("data-text")){var l=t.querySelector("span")?t.querySelector("span"):t;t.originalText=t.textContent,l.textContent=t.dataset.text}window.setTimeout(function(){t.classList.remove("basket-added"),t.hasAttribute("data-text")&&(l.textContent=t.originalText)},window.config.timings.addToBasket),confirmAddToBag(i,o,a,r),t.dispatchEvent(s),ps.publish("basket.update",n),basketTrigger.forEach(function(t){t.querySelector(".count").innerHTML=e.quantity,basket.innerHTML=e.content,t.querySelector(".count").innerText>0&&(t.querySelector(".count").style.opacity=1)}),e.redirect&&1==r.redirect&&(window.location.href=e.redirect)}})}function confirmAddToBag(e,t,n,r){e.classList.remove("hide"),n.classList.add("hide"),t.forEach(function(e){e.classList.contains("thumb")?e.src=r.thumb:e.classList.contains("title")?e.innerText=r.title:e.classList.contains("quantity")&&(e.innerText=r.quantity)})}function closeAddedModal(e){var t=document.querySelector("#added-modal");e.preventDefault(),t.classList.add("hide")}function stepHandler(resp,zone){var next=zone.nextElementSibling;if(zone.querySelector(".fieldset").innerHTML=resp.current,zone.classList.remove("loading"),zone.classList.add("complete"),Site.select.refresh(zone),Site.forms.labelHolders(zone),resp.total){var total=zone.parentNode.querySelector("[data-step]:last-child .ct");total.innerHTML=resp.total}if(resp.next){if(next.querySelector(".fieldset").innerHTML=resp.next,document.querySelector("[data-postal]"))for(var zones=document.querySelectorAll("[data-postal]"),z=0;z<zones.length;z++)checkifOptionalPostCode(zones[z]);if(next.querySelector('[data-form="payment-details"]')){var form=next.querySelector('[data-form="payment-details"]').closest("form"),buttons=form.querySelector(".buttons"),submit=buttons.querySelector('button[type="submit"]'),loader=buttons.querySelector(".loader");submit.addEventListener("click",function(e){0==validateFields(e,form,!1)?(submit.classList.add("hide"),loader.classList.remove("hide")):(submit.classList.remove("hide"),loader.classList.add("hide"))})}window.requestAnimationFrame(function(){Site.select.refresh(next),Site.forms.labelHolders(next),next.querySelector("[data-autofiller]")&&Site.autofill.load(next),smoothScroll.go({easing:{effect:"Cubic",type:"InOut"},from:window.pageYOffset,to:Site.nav.eltOffset(next).top-mobileOffset,timing:830,callback:function(){var e=zone.parentNode.querySelector("[data-step].idle");next.classList.remove("idle"),e&&(breadcrumb.querySelector(".active").innerHTML="<button class='bt-anchor' data-step='"+(e.dataset.step-1)+"'><span>"+e.parentNode.querySelector('div[data-step="'+(e.dataset.step-1)+'"]').querySelector("h1").textContent+"</span></button>",breadcrumb.querySelector(".active").removeAttribute("aria-current"),breadcrumb.querySelector(".active").classList.remove("active"),breadcrumb.querySelector('[data-section="'+e.dataset.step+'"]').classList.add("active"),breadcrumb.querySelector(".active").setAttribute("aria-current",!0),breadcrumb.querySelector('[data-section="'+e.dataset.step+'"]').innerHTML="<button class='bt-anchor' data-step='"+e.dataset.step+"'><span>"+e.querySelector("h1").textContent+"</span></button>")}})})}else smoothScroll.go({easing:{effect:"Cubic",type:"InOut"},from:window.pageYOffset,to:Site.nav.eltOffset(zone).top-mobileOffset,timing:830,callback:function(){next.classList.add("idle"),next.querySelector(".ct")&&next.querySelector(".ct").parentNode.removeChild(next.querySelector(".ct"))}});zone.querySelector("script")&&eval(zone.querySelector("script").text),next.querySelector("script")&&eval(next.querySelector("script").text)}function ajaxHandler(e){var t,n=e.currentTarget,r=document.querySelector('[data-form="'+n.dataset.submit+'"]'),i=r.closest("[data-step]"),o={},a=r.querySelectorAll("input, textarea, select"),s=n.closest("form"),l=(i.getAttribute("data-step"),document.querySelectorAll("div[data-step]").length,!1);if(e.preventDefault(),s&&(l=validateFields(e,s,!1)),s&&!s.checkValidity()||l)return[].slice.call(a).forEach(function(e){(!t&&!e.checkValidity()||!t&&validateField(e))&&(t=e)}),void smoothScroll.go({easing:{effect:"Cubic",type:"InOut"},from:window.pageYOffset,to:Site.nav.eltOffset(t).top-mobileOffset,timing:830,callback:function(){s.reportValidity()}});[].slice.call(a).forEach(function(e){e.value&&0===e.value.length||-1!==["checkbox","radio"].indexOf(e.type)&&!e.checked||(o[e.name]=e.value)}),n.parentNode.querySelector(".loader")&&(n.classList.add("hide"),n.parentNode.querySelector(".loader").classList.remove("hide")),i.classList.add("loading"),reqwest({url:n.dataset.url,method:s?s.method:"POST",data:o,success:function(e){window.setTimeout(function(){stepHandler(e,i)},500)}})}function validateField(e){var t=e.currentTarget?e.currentTarget:e,n=t.parentNode.parentNode,r=document.querySelector("#customer_password"),i=document.querySelector("#confirm_password"),o=!1,a=!1,s=/[^\u0000-\u00ff]/;if(t.dataset.required&&(t.required=!0),!t.offsetParent&&t.required&&(t.required=!1,t.setAttribute("data-required",!0)),1==t.required&&t.validity.valueMissing&&0==t.validity.value&&(a=!0),t.hasAttribute("data-checkfield")&&(t.validity.valueMissing||t.validity.typeMismatch||"password"===t.type&&t.value.length<6||"confirm_password"===t.id&&r.value!==i.value?(n.classList.add("error"),n.classList.remove("valid"),t.setAttribute("aria-invalid",!0),a=!0):(n.classList.remove("error"),n.classList.add("valid"),t.removeAttribute("aria-invalid"))),t.hasAttribute("data-notlatin"))for(var l=0;l<t.value.length;l++)1==(o=o||!0===s.test(t.value))?(a=!0,t.validity.value=!1):t.validity.value=!0;return!0===s.test(t.value)&&(a=!0),a?displayError(t):removeError(t),a}function validateFields(e,t,n){var r=(e.currentTarget,t.querySelectorAll("input, textarea, select")),i=!1;return e.preventDefault(),[].slice.call(r).forEach(function(e){i?validateField(e):i=validateField(e)}),!i&&n&&t.submit(),i}function displayError(e){var t=document.createElement("span"),n=document.createTextNode(e.dataset.checkfield),r=document.createTextNode(e.dataset.notlatin),i=e.parentNode;"INPUT"===e.nodeName&&(i.parentNode.classList.remove("valid"),i.parentNode.classList.add("error")),"SELECT"===e.nodeName&&(i.classList.remove("valid"),i.classList.add("error")),t.classList.add("msg-error"),e.dataset.checkfield&&(e.hasAttribute("data-notlatin")&&0==e.validity.value?i.parentNode.querySelector(".msg-error")?i.parentNode.querySelector(".msg-error").innerHTML=e.dataset.notlatin:t.appendChild(r):i.parentNode.querySelector(".msg-error")?i.parentNode.querySelector(".msg-error").innerHTML=e.dataset.checkfield:t.appendChild(n),"INPUT"!==e.nodeName||i.parentNode.querySelector(".msg-error")||i.parentNode.insertBefore(t,i.nextElementSibling),"SELECT"!==e.nodeName||i.parentNode.querySelector(".msg-error")||i.insertBefore(t,i.nextElementSibling))}function removeError(e){"INPUT"===e.nodeName&&(e.parentNode.parentNode.classList.remove("error"),e.parentNode.parentNode.classList.add("valid")),"SELECT"===e.nodeName&&(e.parentNode.classList.remove("error"),e.parentNode.classList.add("valid"))}function btAnchor(e){var t=e.currentTarget.dataset.step,n=document.querySelector('div[data-step="'+t+'"]');smoothScroll.go({easing:{effect:"Cubic",type:"InOut"},from:window.pageYOffset,to:Site.nav.eltOffset(n).top-mobileOffset,timing:830,callback:function(){var e=n.parentNode.querySelector('div[data-step="'+t+'"]');e&&(e.classList.remove("complete"),breadcrumb.querySelector(".active").removeAttribute("aria-current",!0),breadcrumb.querySelector(".active").classList.remove("active"),breadcrumb.querySelector('[data-section="'+e.dataset.step+'"]').classList.add("active"),breadcrumb.querySelector(".active").setAttribute("aria-current",!0),breadcrumb.querySelector('[data-section="'+e.dataset.step+'"]').innerHTML="<button class='bt-anchor' data-step='"+e.dataset.step+"'><span>"+e.querySelector("h1").textContent+"</span></button>")}})}function btEdit(e){var t=e.currentTarget.closest("div[data-step]"),n=breadcrumb.querySelector('[data-section="'+t.dataset.step+'"]');n.classList.add("active"),n.nextElementSibling.classList.remove("active"),n.nextElementSibling.innerHTML="<span data-section='"+(parseInt(t.dataset.step)+1)+"'></span>"}function switchAddressesBlocs(e){var t=e.currentTarget,n=t.closest(".fields"),r=JSON.parse(t.dataset.toggle),i=document.querySelector("#"+r.id),o=i.querySelector(".address-button"),a=document.querySelector("#new-shipping-address"),s=document.querySelector("#new-billing-address");t.setAttribute("aria-expanded",!0),t.classList.add("open"),n.setAttribute("aria-hidden",!0),n.classList.remove("open"),o.setAttribute("aria-expanded",!1),o.classList.remove("open"),i.setAttribute("aria-hidden",!1),i.classList.add("open"),"new-shipping-address-button"==t.id?a.value=1:"new-billing-address-button"==t.id?s.value=1:"go-back-shipping-addresses"==t.id?a.value=0:"go-back-billing-addresses"==t.id&&(s.value=0)}function checkifOptionalPostCode(e){var t=e.dataset.postal.split(","),n=e.querySelector('[id*="country-"]'),r=e.querySelector('[id*="postcode-"]');if(n){if(void 0==n.value)return;t.includes(n.value)?(r.value="",r.removeAttribute("required"),r.setAttribute("disabled","disabled")):r.hasAttribute("disabled")&&(r.removeAttribute("disabled"),r.setAttribute("required","required"))}}function refreshShippingHtml(e){var t=e.currentTarget,n=document.querySelector("#delivery-means"),r=t.closest("[data-shipping"),i="address_id="+t.value;reqwest({url:r.dataset.shipping,method:"POST",data:i,success:function(e){n.innerHTML=e.html}})}function switchCountry(e,t){var n=JSON.parse(e.dataset.country),r=e.value;if(t){for(var i=[],o=n.config.regions_required,a=Object.keys(o),s=0;s<a.length;s++){var l=a[s];2===o[l].length&&(i[s]=o[l])}if(i.includes(r)){t.closest(".field").removeAttribute("hidden");var c=n[r];for(var u in c)if(c.hasOwnProperty(u)&&c[u].code&&c[u].name){var d=new Option(c[u].name,c[u].id,!1);d.setAttribute("code",c[u].code),t.options.add(d)}}else t.closest(".field").setAttribute("hidden",!0);for(s=t.options.length-1;s>=0;s--)t.options[s].value&&t.options[s].setAttribute("data-autoval",t.options[s].getAttribute("code"))}}function init(){bind()}var breadcrumb=document.getElementById("nav-wrapper")?document.getElementById("nav-wrapper").querySelector(".breadcrumb"):null,basket=document.getElementById("basket"),basketTrigger=[].slice.call(document.querySelectorAll('[aria-controls="basket"]')),mobileOffset=window.mobile?0:Site.nav.navsOffset();return ps.subscribe("app.start",init),{}}var ps=require("pubsub-js"),delegate=require("../helpers/delegate"),smoothScroll=require("../tools/smoothScroll"),reqwest=require("reqwest");module.exports=Checkout},{"../helpers/delegate":34,"../tools/smoothScroll":80,"pubsub-js":22,reqwest:23}],42:[function(e,t,n){var r=e("pubsub-js"),i=e("reqwest"),o=e("../helpers/delegate");t.exports=function(e){"use strict";function t(e){var t=e.currentTarget,r=t.options[t.selectedIndex].value,i=(t.querySelectorAll("option"),t.closest("form[data-compare-zone]")),o=i.querySelectorAll("[data-compare]");[].slice.call(o).forEach(function(e){e.classList.add("skupdate")}),t.classList.remove("skupdate");var a=i.querySelectorAll(".skupdate");[].slice.call(a).forEach(function(e){e.options[e.selectedIndex].value==r&&n(e)})}function n(e){var t=new Event("change"),n=e.querySelectorAll("option"),r=(e.options[e.selectedIndex].value,!1),i=function(){var e=document.querySelectorAll(".skupdate"),t=[];return[].slice.call(e).forEach(function(e){t.push(e.options[e.selectedIndex].value)}),t}();[].slice.call(n).forEach(function(e){var t=e.value;i.includes(t)?e.selected=!1:!1===r&&(r=!0,e.selected=!0)}),e.dispatchEvent(t)}function a(e){var t=e.currentTarget.closest("form[data-compare-zone]"),n=t.querySelectorAll("[data-compare]"),r=JSON.parse(t.dataset.compareZone),o="";[].slice.call(n).forEach(function(e,t){o+=t<2?e.name+"="+e.options[e.selectedIndex].value+"&":e.name+"="+e.options[e.selectedIndex].value}),o+="&specs={"+r.specs+"}",[].slice.call(n).forEach(function(e){var t=JSON.parse(e.dataset.compare);document.querySelector(t.target).innerHTML='<svg class="loader" xmlns="http://www.w3.org/2000/svg" width="40px" height="40px" viewBox="0 0 40 40"><path opacity="0.2" fill="#AAA" d="M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946 s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634 c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z"></path><path fill="#AAA" d="M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0 C22.32,8.481,24.301,9.057,26.013,10.047z" transform="rotate(330.331 20 20)"><animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 20 20" to="360 20 20" dur="1s" repeatCount="indefinite"></animateTransform></path></svg>'}),i({url:r.url,method:r.method,data:o,success:function(e){[].slice.call(n).forEach(function(t){for(var n=0;n<e.length;n++){var r=e[n],i=JSON.parse(t.dataset.compare),o=document.querySelector(i.target);if(r.sku==t.options[t.selectedIndex].value){o.innerHTML=r.html;var a=document.querySelectorAll(".cat[data-accordeon]");if(a&&(a.forEach(function(e){e.classList.add("open"),document.querySelectorAll(e.dataset.accordeon).forEach(function(e){e.classList.add("show")})}),l(a)),null!==o.querySelector(".lazyload")){var s=o.querySelector(".lazyload"),c=s.parentNode.querySelectorAll("[data-srcset]");s.src=s.dataset.src,s.removeAttribute("data-src"),c.forEach(function(e){e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset")})}}}});var r=document.querySelectorAll(".show-specs[data-accordeon]");r&&[].slice.call(r).forEach(function(e){var n=e.parentNode.nextElementSibling;t.classList.contains("open-specs")?(n.classList.remove("hide"),e.classList.add("open")):(n.classList.add("hide"),e.classList.remove("open"))})}})}function s(e){var t=e.currentTarget;document.querySelectorAll(t.dataset.accordeon).forEach(function(e){e.classList.contains("show")&&(e.style.height=e.dataset.height)})}function l(e){for(var t=e.length/3,n=0;n<=t;n++){var r=document.querySelectorAll(".row-"+n),i=0;r.forEach(function(e){if(e.style.height="",i<e.clientHeight){var t=window.getComputedStyle(e,null).getPropertyValue("padding").replace("px","");i=e.clientHeight-t}}),r.forEach(function(e){window.desktop?e.style.height=i+"px":e.setAttribute("data-height",i+"px")}),e.forEach(function(e){e.classList.remove("open"),document.querySelectorAll(e.dataset.accordeon).forEach(function(e){e.classList.remove("show")})})}}r.subscribe("app.start",function(){o(document.body,"change","[data-compare]",t),o(document.body,"change","[data-compare]",a),o(document.body,"click","[data-accordeon]",s),window.addEventListener("load",function(e){(e=document.querySelectorAll(".cat[data-accordeon]"))&&l(e)})})}},{"../helpers/delegate":34,"pubsub-js":22,reqwest:23}],43:[function(e,t,n){var r=e("pubsub-js");e("../helpers/delegate"),t.exports=function(){"use strict";function e(){window.addEventListener("load",function(){!function(){var e=document.querySelector("[data-countdown]");if(e)var t=new Date(e.dataset.countdown).getTime(),r=e.querySelector(".date"),i=r.querySelector(".hours"),o=i.nextElementSibling,a=r.querySelector(".minutes"),s=a.nextElementSibling,l=r.querySelector(".seconds"),c=l.nextElementSibling,u=e.parentNode.querySelector(".end"),d=setInterval(function(){var h=(new Date).getTime(),f=t-h,p=Math.floor(f/864e5),m=Math.floor(24*p+f%864e5/36e5)<10?"0"+Math.floor(24*p+f%864e5/36e5):Math.floor(24*p+f%864e5/36e5),v=Math.floor(f%36e5/6e4)<10?"0"+Math.floor(f%36e5/6e4):Math.floor(f%36e5/6e4),g=Math.floor(f%6e4/1e3)<10?"0"+Math.floor(f%6e4/1e3):Math.floor(f%6e4/1e3);i.innerHTML=m,n(m,o),a.innerHTML=v,n(v,s),l.innerHTML=g,n(g,c),r.classList.add("loaded"),f<0&&(clearInterval(d),e.innerHTML="",u.classList.add("show"))},1e3)}()}),window.addEventListener("scroll",function(){!function(){if(document.querySelector("[data-increment]"))for(var e=document.querySelectorAll("[data-increment]"),n=0;n<e.length;n++){var r=e[n],i=r.getBoundingClientRect().top;i<500&&i>400&&!r.classList.contains("ended")&&(r.classList.add("ended"),new t({elem:r,speed:50}))}}()})}function t(e){var t=e.elem,n=JSON.parse(t.dataset.increment),r=parseFloat(n.value)||0,i=parseInt(n.duration)||0,o=parseInt(n.delay)||0,a=(e.speed<30?30:e.speed)||30,s=0,l=r/(i/a),c=null,u=function(){(s+=l)<r?t.innerHTML=s.toFixed(0).toString():(clearInterval(c),t.innerHTML=r.toFixed(0).toString())};setTimeout(function(){c=setInterval(u.bind(this),a)}.bind(this),o),this.reset=function(){clearInterval(c),r=parseFloat(t.getAttribute(n.value))||0,i=parseInt(t.getAttribute(n.duration))||0,l=r/(i/a),o=parseInt(t.getAttribute(n.delay))||0,s=0,c=setInterval(u,a)}.bind(this)}function n(e,t){e<=1&&"s"==t.textContent.charAt(t.textContent.length-1)?t.innerHTML=t.textContent.slice(0,-1):e>1&&"s"!==t.textContent.charAt(t.textContent.length-1)&&(t.innerHTML+="s")}return r.subscribe("app.start",function(){e()}),{}}},{"../helpers/delegate":34,"pubsub-js":22}],44:[function(e,t,n){var r=e("pubsub-js"),i=e("../helpers/delegate"),o=e("choices.js");t.exports=function(){"use strict";function e(){var e;document.body.querySelector("[data-filter-accessories]")&&(i(document.body,"change","[data-filter-accessories]",t),window.addEventListener("load",function(){!function(){if(document.querySelector("[data-filter-accessories]")){var e=document.querySelectorAll("[data-filter-accessories]"),t=e[0].closest("form").parentNode,r=t.querySelectorAll("[data-product]"),i=[],o=new Event("change");[].slice.call(e).forEach(function(e){[].slice.call(e.options).forEach(function(e){e.value==n("phantom")||e.value==n("type")?e.selected=!0:e.selected=!1}),i.push(e.value),e.dispatchEvent(o)}),[].slice.call(r).forEach(function(e){i.includes(e.dataset.product)&&i.includes(e.dataset.category)||i.includes(e.dataset.product)&&i.includes("all")||i.includes(e.dataset.category)&&i.includes("all")||"all"==i[0]&&"all"==i[1]?e.classList.remove("close"):(i.includes(e.dataset.product)&&!i.includes(e.dataset.category)||!i.includes(e.dataset.product)&&i.includes(e.dataset.category)||!i.includes(e.dataset.product)&&!i.includes(e.dataset.category))&&e.classList.add("close")})}}()})),document.body.querySelector("[data-filter-city]")&&(e=document.body.querySelector("[data-filter-city]"),new o(e,{searchResultLimit:100}),i(document.body,"change","[data-filter-city]",a))}function t(e){var t=e.currentTarget,n=t.closest("form").querySelectorAll("[data-filter-accessories]"),r=t.closest("form").nextElementSibling,i=r.querySelectorAll("[data-product]"),o=[];[].slice.call(n).forEach(function(e){o.push(e.value)}),[].slice.call(i).forEach(function(e){o.includes(e.dataset.product)&&o.includes(e.dataset.category)||o.includes(e.dataset.product)&&o.includes("all")||o.includes(e.dataset.category)&&o.includes("all")||"all"==o[0]&&"all"==o[1]?e.classList.remove("close"):(o.includes(e.dataset.product)&&!o.includes(e.dataset.category)||!o.includes(e.dataset.product)&&o.includes(e.dataset.category)||!o.includes(e.dataset.product)&&!o.includes(e.dataset.category))&&e.classList.add("close")});var a=r.querySelectorAll(".close[data-product]"),s=r.querySelector(".no-results");6==a.length?s.style.display="block":s.style.display="none"}function n(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}function a(e){var t=e.currentTarget,n=t.closest("form").nextElementSibling.querySelectorAll("[data-city]");[].slice.call(n).forEach(function(e){e.dataset.city==t.value?e.classList.remove("hide"):"all"==t.value?e.classList.remove("hide"):e.classList.add("hide")})}return r.subscribe("app.start",function(){e()}),{}}},{"../helpers/delegate":34,"choices.js":2,"pubsub-js":22}],45:[function(e,t,n){var r=e("pubsub-js"),i=e("reqwest"),o=e("../helpers/delegate");e("choices.js"),t.exports=function(e){"use strict";function t(){o(document.body,"input",".label-holder input, .label-holder textarea",T),o(document.body,"focusout","input[data-check-ajax]",c),o(document.body,"input","input[data-check-ajax]",function(e){s(e.currentTarget,!1)},{once:!0}),o(document.body,"keyup","input[data-check-ajax]",function(e){13==e.keyCode&&e.currentTarget.validity.valid&&s(e.currentTarget,!0,!0)}),o(document.body,"submit","form[data-check-ajax]",c),o(document.body,"change","select[data-ajax-target]",l),o(document.body,"submit","form[data-validate]",d),o(document.body,"mousedown","[data-reveal]",h),o(document.body,"touchstart","[data-reveal]",h),o(document.body,"mouseup","[data-reveal]",h),o(document.body,"touchleave","[data-reveal]",h),o(document.body,"change","[data-unique-option]",v),o(document.body,"change","[data-addon]",_),o(document.body,"change","[data-enable]",p),o(document.body,"change","[data-disable]",f),o(document.body,"change","[data-triggers]",u),o(document.body,"change","[data-key]",b),o(document.body,"submit","[data-post-ajax]",x),o(document.body,"mouseup","[data-submit-ajax]",S),o(document.body,"click","[data-href]",a),o(document.body,"change",".custom-select select",n),document.querySelectorAll(".custom-select select").forEach(function(e){n(e)})}function n(e){var t=e.currentTarget||e,n=t.parentNode.querySelector("label")||t.parentNode.querySelector(".label");0!==t.options.selectedIndex?n.classList.add("filled"):n.classList.remove("filled")}function a(e){var t=e.currentTarget.dataset.href,n=atob(t);e.preventDefault(),window.location.href="mailto:"+n}function s(e,t,n){t?(e.form.classList.remove("checking"),n&&e.form.querySelector('[type="submit"]').click()):e.form.classList.add("checking")}function l(e){var t=e.currentTarget,n=JSON.parse(t.dataset.ajaxTarget);i({url:n.url,method:n.method,success:function(e){[].slice.call(e).forEach(function(e){var r=document.querySelector(n.refreshzone);r.firstChild.classList.remove("show"),n.refreshzone&&e.value==t.value&&(r.innerHTML=e.html,r.firstChild.classList.add("show"),setTimeout(function(){r.firstChild.classList.add("show")},500),"location"==r.id&&r.parentNode.querySelector(".placeholder").classList.remove("show"))})}})}function c(e){var t,n,r=e.originalEvent?e.currentTarget:e,a=r.matches("form"),l=a?r.querySelector("[data-ajax-target]"):r,c=a?JSON.parse(l.dataset.ajaxTarget):JSON.parse(l.dataset.checkAjax),u=l.closest('[class*="custom-"]')?l.closest('[class*="custom-"]'):l,d=c.depends?document.querySelector(c.depends):null,h=c.hidden?document.querySelectorAll(c.hidden):null;if(a&&e.originalEvent&&e.preventDefault(),l.validity.valid&&(!d||""!=d.value)){if(c.loader&&(t=l.closest(".field")).classList.add("loading"),n=c.refreshzone?l.name+"="+l.value:"email="+l.value,l.params&&(n+="&"+l.params),d)if("radio"==d.type){d=document.querySelectorAll(c.depends);for(var f=0;f<d.length;f++){var p=d[f];1==p.checked&&(n+="&"+p.name+"="+p.value)}}else n+="&"+d.id+"="+d.value;if(h)for(f=0;f<h.length;f++){var m=h[f];n+="&"+m.name+"="+m.value}i({url:c.url,method:c.method,data:n,success:function(e){c.appendhtml&&(u.nextElementSibling&&-1!==u.nextElementSibling.classList.value.indexOf("msg-")&&u.nextElementSibling.parentNode.removeChild(u.nextElementSibling),void 0!==e.success?1==e.success?u.parentNode.querySelector(".email-return").innerHTML=e.success_message:0==e.success&&(u.parentNode.querySelector(".email-return").innerHTML=e.error[0]):u.insertAdjacentHTML("afterend",e.html)),c.refreshzone&&"error"!==e.status&&(document.querySelector(c.refreshzone).innerHTML=e.html),"error"===e.status?(l.setCustomValidity(l.dataset.message),o(l,"input",function(){l.setCustomValidity("")},{once:!0})):l.setCustomValidity(""),e.status&&(u.classList.remove("error"),u.classList.remove("valid"),u.classList.add(e.status)),c.loader&&t.classList.remove("loading"),s(l,!0)}})}}function u(e){var t=e.currentTarget,n=document.querySelector(t.dataset.triggers);""!==t.value&&""!==n.value&&n.hasAttribute("data-check-ajax")&&c(n)}function d(e){if(e.originalEvent&&e.currentTarget.classList.contains("checking"))e.preventDefault();else{var t=e.originalEvent?e.currentTarget:e,n=[].slice.call(t.querySelectorAll("[required]"));[].slice.call(t.querySelectorAll("[pattern]")),n.forEach(function(e){var t=e.closest('[class*="custom-"]')||e;e.checkValidity()?(t.classList.remove("error"),t.classList.add("valid")):(t.classList.add("error"),t.classList.remove("valid"))})}}function h(e,t){var n=e.currentTarget;"mousedown"===e.type||"touchstart"===e.type?n.parentNode.querySelector("input").setAttribute("type","text"):n.parentNode.querySelector("input").setAttribute("type","password")}function f(e){for(var t=e.currentTarget,n=JSON.parse(t.dataset.disable),r=document.querySelector(n.zone).querySelectorAll("input"),i=0;i<n.targets.length;i++)r[n.targets[i]].disabled=!e.checked;o(t.closest("[data-disablers]"),"change","input",function(e){if(!e.currentTarget.dataset.disable)for(var t=0;t<n.targets.length;t++)r[n.targets[t]].disabled=""},{once:!0})}function p(e){var t=e.currentTarget,n=document.querySelectorAll('[data-enablable="'+t.dataset.enable+'"]');document.querySelectorAll("[data-option]"),[].slice.call(n).forEach(function(e){var n=t.checked;e.disabled=!n,e.hasAttribute("data-unique-option")&&m(e.value,n)})}function m(e,t){var n=document.querySelectorAll('[data-option="'+e+'"]');n&&[].slice.call(n).forEach(function(e){if(e.querySelector('.sum input[type="checkbox"]').checked=t,t){if(e.classList.add("disabled"),e.querySelector(".options.show")){var n=e.querySelector(".options.show"),r=e.querySelector('input[type="checkbox"][aria-expanded]');n.classList.remove("show"),n.setAttribute("aria-hidden","true"),r&&(r.setAttribute("aria-expanded",!1),r.classList.remove("show"))}}else e.classList.remove("disabled")})}function v(t){var n=t.currentTarget,r=n.value,i=[],o=n.closest("[data-unique-options]"),a=o.querySelectorAll("[data-unique-option]"),s=o.querySelectorAll("[data-display-value]");[].slice.call(a).forEach(function(e){i.push(e.value)}),[].slice.call(o.querySelectorAll("option")).forEach(function(t){var o=t.parentNode;if(o.value,-1!==i.indexOf(t.value)){if(t.className="disabled",o===n)return;window.requestAnimationFrame(function(){o.value===r&&(o.querySelector("option:not(.disabled)").selected="selected",e.select.refresh(o.parentNode),i.push(o.querySelector("option:not(.disabled)").value),g(s,o))})}-1===i.indexOf(t.value)&&(t.className="")}),g(s,n),[].slice.call(n.querySelectorAll("option")).forEach(function(e){[].slice.call(document.querySelectorAll("[data-option]")).forEach(function(t){e.value==t.dataset.option&&(t.classList.remove("disabled"),t.querySelector('.sum input[type="checkbox"]').checked=null)})}),window.requestAnimationFrame(function(){[].slice.call(a).forEach(function(e){e.disabled&&!e.closest("form").parentNode.classList.contains("disabled")||m(e.value,!0)})})}function g(e,t){[].slice.call(e).forEach(function(e){t.id==e.dataset.displayValue&&(e.innerHTML=t.options[t.selectedIndex].dataset.label)})}function y(e){e=e||document.body,[].slice.call(e.querySelectorAll(".label-holder input, .label-holder textarea")).forEach(function(e){T(e)})}function _(e){var t=e.currentTarget.closest("form"),n=t.querySelectorAll("[data-addon]"),r=t.querySelectorAll(".total"),i="price-1";[].slice.call(n).forEach(function(e){e.checked&&(i+="-"+e.dataset.addon)}),[].slice.call(r).forEach(function(e){e.classList.remove("show"),e.classList.contains(i)&&e.classList.add("show")})}function b(e){var t=e.currentTarget,n=t.closest("[data-option]"),r=n.dataset.option,i=n.parentNode.querySelectorAll("[data-option]");[].slice.call(i).forEach(function(e){1==t.checked&&e.dataset.option==r?(e.classList.add("disabled"),n.classList.remove("disabled")):e.dataset.option==r&&e.classList.remove("disabled")})}function w(e,t,n){[].slice.call(t).forEach(function(t){var r=t.closest("form").querySelectorAll("[data-unique-option]");if(t.checked)[].slice.call(r).forEach(function(e){n.push(e.item(e.selectedIndex).value)});else{var i=e.querySelectorAll("option");[].slice.call(i).forEach(function(e){-1!==n.indexOf(e.value)&&(e.disabled=!0)});var o=e.querySelectorAll("[data-option]");[].slice.call(o).forEach(function(e){if(e.querySelector("[data-key]")){var t=e.querySelector("[data-key]");-1===n.indexOf(t.dataset.key)||t.checked||(t.checked=!0)}})}})}function x(e){var t=e.currentTarget,n=t.querySelectorAll("input, select, textarea"),r=t.querySelector("[data-submit-ajax]"),o="{",a=0,l="",c=t.querySelector("[data-toggle]"),u=document.querySelector(".proceed");u.querySelector(".product"),document.querySelector(".input-hidden"),e.preventDefault(),[].slice.call(n).forEach(function(e){if(e.validity.valid){if(l='"'+e.value+'"',"checkbox"==e.type)l=e.checked;else if(e.dataset.key)l='"'+e.dataset.key+'"';else if("nstore"==e.name)return;a>0&&(o+=","),o+='"'+e.name+'":'+l,a++}});var d=(o+=',"action":"add"}').replace(/(\r\n|\n|\r)/gm,"\\n");document.querySelector(".gold-rush")&&(u.querySelector(".cat").classList.remove("fade"),u.querySelector(".picture").classList.remove("fade")),i({url:t.action,method:t.method,data:d,success:function(e){s(r,!0),function(e,t,n,r,i){if(document.querySelector(".gold-rush")){t.classList.add("basket-added"),window.setTimeout(function(){t.classList.remove("basket-added"),t.classList.add("bt-added")},window.config.timings.addToBasket),n.closest(".product-details").classList.add("disabled");var o=document.querySelector("[data-unique-options]");w(o,o.querySelectorAll("[data-enable]"),[]),r&&(r.classList.add("fade"),r.querySelector(".cat").classList.add("fade"),r.querySelector(".picture").classList.add("fade"),r.querySelector(".product").innerHTML=e.querySelector(".name").innerText,r.querySelector(".picture").src=e.querySelector(".picture").src)}else r&&(r.classList.add("fade"),e.style.display="none")}(t,r,c,u),document.querySelector(".gold-rush")&&[].slice.call(document.querySelectorAll('[aria-controls="basket"]')).forEach(function(t){t.querySelector(".count").innerHTML=e.quantity,basket.innerHTML=e.content})},error:function(e){!function(e,t,n,r,i){document.querySelector(".gold-rush")?(t.classList.remove("basket-added"),n.closest(".product-details").classList.remove("disabled")):document.querySelector("#listening-request")?document.querySelector("#listening-request").querySelector(".hidden-msg").classList.add("show"):r.classList.remove("fade")}(0,r,c,u)}})}function S(e){var t=e.currentTarget.closest("form"),n=t.querySelectorAll("input[required]","select[required]","textarea[required]");t.classList.contains("checking")?e.preventDefault():n.forEach(function(e){var t=e.closest('[class*="custom-"]')||e,n=t.querySelector("label"),r=document.createElement("p");e.checkValidity()?(t.classList.remove("error"),t.classList.add("valid")):(t.classList.add("error"),t.classList.remove("valid"),n.parentNode.insertBefore(r,n),r.classList.add("msg-error"),r.innerText=e.dataset.checkfield)})}function T(e){var t=e.originalEvent?e.currentTarget:e,n=(t.closest(".label-holder").querySelector(".label"),!1);try{n=t.matches("input:-webkit-autofill")}catch(e){}if(t.value.length>0||n){if(t.classList.contains("filled"))return;t.classList.add("filled")}else t.classList.remove("filled")}return r.subscribe("app.start",function(){if(t(),window.requestAnimationFrame(function(){y()}),document.querySelector(".gold-rush")){var e=document.querySelector("[data-unique-options]");w(e,r=e.querySelectorAll("[data-enable]"),[]);var n=document.querySelectorAll("[data-option]");[].slice.call(n).forEach(function(e){if(e.querySelector("[data-key]")){var t=e.querySelector("[data-key]"),n=t.dataset.key;t.checked&&e.dataset.option==n&&[].slice.call(e.parentNode.querySelectorAll("[data-option]")).forEach(function(e){n==e.dataset.option&&e.classList.add("disabled")})}});var r=document.querySelectorAll("[data-enable]");[].slice.call(r).forEach(function(e){var t=e.closest("[data-unique-options]"),n=t.querySelectorAll("[data-unique-option]"),r=t.querySelectorAll("[data-display-value]");[].slice.call(n).forEach(function(e){g(r,e)})})}}),{labelHolders:y}}},{"../helpers/delegate":34,"choices.js":2,"pubsub-js":22,reqwest:23}],46:[function(e,t,n){var r=e("pubsub-js"),i=(e("reqwest"),e("../helpers/delegate"));t.exports=function(){"use strict";function e(e){var t=e.currentTarget,n=t.closest(".grid-item[data-product]").querySelector(".media img");n.setAttribute("data-origin",n.src),n.src=t.src}function t(e){var t=e.currentTarget.closest(".grid-item[data-product]").querySelector(".media img");t.src=t.dataset.origin,t.removeAttribute("data-origin")}return r.subscribe("app.start",function(){document.querySelector(".grid-item[data-product]")&&(i(document.body,"mouseover",".gallery-img",e),i(document.body,"mouseout",".gallery-img",t))}),{}}},{"../helpers/delegate":34,"pubsub-js":22,reqwest:23}],47:[function(e,t,n){var r=e("../tools/flatten");t.exports=function(e){"use strict";function t(){u.clearRect(0,0,c.width,c.height)}function n(t){if(void 0===t||isNaN(t))throw new Error("Drawing parameter is missing or not a number.");t>=d.length&&(t=d.length-1,e.loop&&(t=0)),f=t;var n=d[t],r=n.width/n.height,i=c.height,o=i*r,a=c.cx-o/2,s=c.cy-i/2;u.clearRect(0,0,c.width,c.height),u.drawImage(n,a,s,o,i)}function i(n){var r=0,i=0,a=0,s=n.duration/d.length;h=window.requestAnimationFrame(function l(c){var u=c-i;if(r||(r=c),0===a&&"function"==typeof n.started&&n.started(),u>=s&&(o(),i=c,a++),1===a&&"function"==typeof n.firstFrameDrawn&&n.firstFrameDrawn(),a===d.length&&!e.loop||a===d.length&&m||v)return window.cancelAnimationFrame(h),g&&(g=!1,t()),"function"==typeof n.ended&&n.ended(),"function"==typeof y&&y(),m=!1,v=!1,h=!1,void(a=0);a===d.length&&(a=0),h=window.requestAnimationFrame(l)})}function o(){n(f),f++}function a(){s(),(e.drawOnResize||h)&&n(f)}function s(){c.height=l.clientHeight*p,c.width=c.height*e.ratio,c.cx=c.width/2,c.cy=c.height/2}var l,c,u,d,h,f=0,p=window.devicePixelRatio||1,m=!1,v=!1,g=!1,y=!1;return function(){if(!e||!e.container)throw new Error("Image flipper parameters missing");var t=e.assets[0];Array.isArray(t)&&(t=t[0]),e.ratio=t.width/t.height||16/9,l=e.container,c=document.createElement("canvas"),u=c.getContext("2d"),l&&(d=r(e.assets),s(),l.appendChild(c),window.addEventListener("resize",a))}(),{clear:t,draw:n,drawNext:o,drawPrev:function(){var e=f-1;e<0&&(e=d.length-1),n(e)},drawSets:function(t){var n=t.indices||[0];if(m=!1,v=!1,Array.isArray(n)||(n=[n]),!(d=Array.isArray(e.assets)&&Array.isArray(e.assets[0])?n.map(function(t){var n=e.assets[t];if(n)return n.slice()}).filter(Boolean):e.assets.slice()).length)throw new Error("No set to draw. Please check set indices passed to drawSets() method.");d=r(d),f=0,t.reversed&&d.reverse(),t.duration=t.duration||1e3,i(t)},refresh:a,stop:function(e){e||(e={}),m=!0,v=e.force||!1,g=e.clear||!1,y=e.callback||!1}}}},{"../tools/flatten":76}],48:[function(e,t,n){var r=e("pubsub-js"),i=e("in-viewport"),o=e("../helpers/delegate"),a=e("../vendors/picturefill"),s=e("vanilla-lazyload");t.exports=function(e){"use strict";function t(){for(var e=[].slice.call(document.querySelectorAll("[data-lazy-load]")),t=0;t<e.length;t++)c(e[t]);window.onYouTubeIframeAPIReady=function(){r.publish("youtubeReady"),window.youtubeReady=!0},o(document.body,"mouseover",".bt-menu",n),o(document.body,"focusout",".bt-menu",n),o(document.body,"mouseover",".bt-bag",n),o(document.body,"mouseover",".bt-wechat",n),o(document.body,"focus",".bt-bag",n),o(document.body,"focus",".bt-wechat",n),new s({elements_selector:".lazyload",callback_enter:function(e){window.requestAnimationFrame(function(){a({reevaluate:!0,elements:[e]})})}})}function n(t){var n=t.currentTarget;if("menu"==n.dataset.hover){var r=document.querySelector("#main-nav");r.querySelector("[data-lazy-video-src]")&&e.manager.loadVideos(r.querySelectorAll("#main-nav [data-lazy-video-src]")),r.querySelector(".lazy-loadable")&&l(r.querySelector(".lazy-loadable"))}if("basket"==n.dataset.hover){var i=document.querySelector("#basket");i.querySelectorAll(".lazy-loadable")&&[].slice.call(i.querySelectorAll(".lazy-loadable")).forEach(function(e){l(e)})}if("wechat"==n.dataset.hover){var o=document.querySelector("#wechat");o.querySelectorAll(".lazy-loadable")&&[].slice.call(o.querySelectorAll(".lazy-loadable")).forEach(function(e){l(e)})}}function l(e){e.classList.add("lazy-loading"),e.hasAttribute("data-lazy-src")?e.src=e.dataset.lazySrc:(e.querySelector("img").addEventListener("load",function(){e.classList.remove("lazy-loading"),e.classList.add("lazy-loaded")}),[].slice.call(e.querySelectorAll("*")).forEach(function(e){e.dataset.lazySrcset&&(e.setAttribute("srcset",e.dataset.lazySrcset),e.removeAttribute("data-lazy-srcset")),e.dataset.lazySrc&&(e.src=e.dataset.lazySrc,e.removeAttribute("data-lazy-src"))}),window.requestAnimationFrame(function(){a({reevaluate:!0,elements:[e]})}))}function c(e,t){var n=JSON.parse(e.dataset.lazyLoad);if(!e.querySelector("iframe")){switch(n.type){case"video":e.src=n.url,e.removeAttribute("data-lazy-load");break;case"youtube":window.youtubeReady?u(e,n.type,t):r.subscribe("youtubeReady",function(){window.youtubeReady=!0,u(e,n.type,t)});break;case"youku":u(e,n.type,t);break;case"image":e.src=e.dataset.src,e.removeAttribute("data-src")}e.classList.add("loaded")}}function u(e,t,n){var r=JSON.parse(e.dataset.lazyLoad),o=document.createElement("div"),a=e.closest("[data-slider]");e.innerHTML="",e.appendChild(o);var s=function(t){(r.autoplay||n)&&i(e)&&e.player.playVideo()};switch(t){case"youku":var l=!0;void 0!==o.id&&(o.id=r.url);try{YKU}catch(e){e instanceof ReferenceError&&(l=!1,console.log("Youku API Missing"))}l&&(e.player=new YKU.Player(o.id,{styleid:"0",client_id:window.config.conf.keys.youku,vid:r.url||r.video,newPlayer:!0,autoplay:r.autoplay,events:{onPlayerReady:s,onPlayEnd:r.playlist?function(e){a.slider.slideNext()}:null}}));break;case"youtube":e.player=new YT.Player(o,{height:r.height||"360",width:r.width||"640",videoId:r.url||r.video,playerVars:r.params||null,events:{onReady:s,onStateChange:r.playlist||r.listen?function(t){t.data&&(a&&t.data==YT.PlayerState.ENDED&&a.slider.slideNext(),r.listen&&(t.data==YT.PlayerState.PAUSED||t.data==YT.PlayerState.ENDED?e.classList.add("stopped"):e.classList.remove("stopped")))}:null}})}}function d(){if(document.querySelector('[data-lazy-load*="youtube"]')||document.querySelector('[data-lazy-load*="youku"]')){var e=document.createElement("script");document.querySelector('[data-lazy-load*="youtube"]')&&(e.src="https://www.youtube.com/iframe_api");var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)}[].slice.call(document.querySelectorAll(".lazy-loadable")).forEach(function(e){e.closest(".lazy-hover"),e.closest(".lazy-hover")||l(e)}),t()}return d(),{load:c,image:l,init:d}}},{"../helpers/delegate":34,"../vendors/picturefill":82,"in-viewport":4,"pubsub-js":22,"vanilla-lazyload":29}],49:[function(e,t,n){var r=e("lodash/debounce"),i=e("pubsub-js"),o=e("../helpers/delegate");t.exports=function(e){return this.els={},this.data={delta:0,direction:"down",pos:null},this.bind=function(){o(window,"scroll",this.scroll.bind(this)),o(window,"resize",r(this.resize.bind(this),150)),o(document,"click",this.click.bind(this))},this.click=function(e){i.publish("doc.click",e)},this.dom=function(){this.data.width=window.innerWidth,this.data.height=window.innerHeight},this.init=function(){this.dom(),this.bind(),this.data.pos=document.documentElement.scrollTop||document.body.scrollTop},this.getPos=function(){return this.set(),{direction:this.data.direction,pos:this.data.pos}},this.resize=function(){var e=window.innerWidth,t=window.innerHeight,n={height:!1,width:!1};e!==this.data.width&&(n.width=e),t!==this.data.height&&(n.height=t),i.publish("resize",n),this.data.height=t,this.data.width=e},this.scroll=function(){this.set(),i.publish("scroll",{direction:this.data.direction,pos:this.data.pos,delta:this.data.delta})},this.set=function(){var e=document.documentElement.scrollTop||document.body.scrollTop,t="down";this.data.pos!==e&&(this.data.pos>e&&(t="up"),t===this.data.direction?this.data.delta+=Math.abs(this.data.pos-e):this.data.delta=0,this.data.direction=t,this.data.pos=e)},this.init(),{getPos:this.getPos.bind(this)}}},{"../helpers/delegate":34,"lodash/debounce":11,"pubsub-js":22}],50:[function(e,t,n){var r=e("pubsub-js"),i=e("reqwest"),o=e("in-viewport"),a=e("../helpers/delegate");t.exports=function(e){"use strict";function t(){var e=document.querySelector("[data-googleapi]");e&&(a(e,"click","[data-geoloc-stores]",s),function(e){var t=e.querySelector(".location-search"),n=document.createElement("script"),i=document.querySelector("#locationID"),a=!1;n.setAttribute("src",e.dataset.googleapi),n.id="locationID",o(e)&&0==a?(a=!0,null==i&&(e.parentNode.parentNode.insertBefore(n,e.parentNode),n.onload=function(){new google.maps.places.Autocomplete(t)})):null!==i?new google.maps.places.Autocomplete(t):r.subscribe("scroll",function(){o(e)&&0==a&&(a=!0,null==i&&(e.parentNode.parentNode.insertBefore(n,e.parentNode),n.onload=function(){new google.maps.places.Autocomplete(t)}))})}(e),a(e,"submit","[data-location]",n))}function n(e){var t=e.currentTarget,n=t.querySelector(".location-search"),r=new google.maps.Geocoder,i=t.parentNode.querySelector(".no-store-found");e.preventDefault(),r.geocode({address:n.value},function(e,n){if(n==google.maps.GeocoderStatus.OK){var r=e[0].geometry.location.lat(),o=e[0].geometry.location.lng();t.hasAttribute("data-location")&&d(t,r,o),i.classList.contains("show")&&i.classList.remove("show")}else console.log("Geocode was not successful for the following reason: "+n),t.parentNode.querySelector(".location-store").innerHTML="",i.classList.add("show")})}function s(e){var t=e.currentTarget.closest("[data-location]"),n=t.querySelector(".location-search");n.classList.contains("filled")&&(n.value="",n.classList.remove("filled")),t&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){var n=e.coords.latitude,r=e.coords.longitude;d(t,n,r)},function(e){switch(e.code){case e.PERMISSION_DENIED:console.log("User denied the request for Geolocation.");break;case e.POSITION_UNAVAILABLE:console.log("Location information is unavailable.");break;case e.TIMEOUT:console.log("The request to get user location timed out.");break;case e.UNKNOWN_ERROR:console.log("An unknown error occurred.")}})}function l(e){return e*Math.PI/180}function c(e,t,n,r){e=l(e),n=l(n),t=l(t);var i=((r=l(r))-t)*Math.cos((e+n)/2),o=n-e;return 6371*Math.sqrt(i*i+o*o)}function u(e,t,n,r){for(var i=[],o=0;o<t.length;o++){var a=c(n,r,t[o].lat,t[o].lng);o<2?1==o&&a<i[0].dif?(i[1]=i[0],i[0]=t[o],i[0].dif=a):(i[o]=t[o],i[o].dif=a):a<i[1].dif?a<i[0].dif?(i[1]=i[0],i[0]=t[o],i[0].dif=a):(i[1]=t[o],i[1].dif=a):a<i[0].dif&&(i[0]=t[o],i[0].dif=a)}!function(e,t){var n=JSON.parse(e.dataset.location),r=document.querySelector(n.target);r.innerHTML="",[].slice.call(t).forEach(function(e){r.innerHTML+=e.html})}(e,i)}function d(e,t,n){var r=JSON.parse(e.dataset.location),o=document.querySelector(r.target),a="sku="+r.sku+"&latitude="+t+"&longitude="+n+"&params="+r.params;o.innerHTML='<svg class="loader" xmlns="http://www.w3.org/2000/svg" width="40px" height="40px" viewBox="0 0 40 40"><path opacity="0.2" fill="#AAA" d="M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946 s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634 c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z"></path><path fill="#AAA" d="M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0 C22.32,8.481,24.301,9.057,26.013,10.047z" transform="rotate(330.331 20 20)"><animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 20 20" to="360 20 20" dur="1s" repeatCount="indefinite"></animateTransform></path></svg>',i({url:r.url,data:a,success:function(r){u(e,r,t,n)}})}function h(){t()}return r.subscribe("app.start",h),{init:h}}},{"../helpers/delegate":34,"in-viewport":4,"pubsub-js":22,reqwest:23}],51:[function(e,t,n){var r=(e("pubsub-js"),e("../helpers/delegate")),i=e("reqwest");t.exports=function(e){"use strict";function t(e){var t=e.currentTarget,n=new CustomEvent("submit",{bubbles:!0,cancelable:!0});t.form.dispatchEvent(n),t.dataset.update&&(document.querySelector(t.dataset.update).textContent=t.parentNode.textContent.trim(),document.querySelector('[aria-controls="'+t.closest("[aria-hidden]").id+'"]').click())}function n(e){var t=e.currentTarget.closest("[data-checkboxes]");t.querySelector('[type="checkbox"][aria-controls]:checked')?t.querySelector('.buttons[aria-hidden="true"]')&&(t.classList.add("at-least-one"),t.querySelector('.buttons[aria-hidden="true"]').setAttribute("aria-hidden",!1)):t.querySelector(".buttons")&&(t.classList.remove("at-least-one"),t.querySelector('.buttons[aria-hidden="false"]').setAttribute("aria-hidden",!0))}function o(){if(window.desktop){var e=document.querySelectorAll("[data-equal-height]");e&&[].slice.call(e).forEach(function(e){var t=0;[].slice.call(e.querySelectorAll(":scope > .elt")).forEach(function(n){n.style.display="block",window.requestAnimationFrame(function(){t<n.offsetHeight&&(t=n.offsetHeight,e.style.height=t+"px"),n.style.display=null})})})}}function a(e){var t=e.currentTarget,n=JSON.parse(t.closest("[data-urlnav]").dataset.urlnav);t.checked&&window.history.replaceState(null,n.title,n.page)}function s(e){var t=e.currentTarget,n=t.querySelector("[data-label]"),r=n?n.querySelector("span"):document.createElement("span");if(!n){var i=document.createElement("span");r=document.createElement("span"),i.setAttribute("aria-hidden",!0),i.setAttribute("data-label",!0),r.textContent=t.textContent,i.appendChild(r),t.appendChild(i)}r.style.width=t.offsetWidth-parseFloat(window.getComputedStyle(t).borderLeftWidth)-parseFloat(window.getComputedStyle(t).borderRightWidth)+"px",window.requestAnimationFrame(function(){t.classList.add("hover-ready")})}function l(t){var n,r,o=t.currentTarget;o.closest("form"),o.dataset.ajax?(n=JSON.parse(o.dataset.ajax),r="replace"):o.dataset.loadMore&&(n=JSON.parse(o.dataset.loadMore),r="load"),t.preventDefault();var a=document.querySelector(n.target);if(o.matches("form")){var s={};[].slice.call(o.querySelectorAll("input, textarea, select")).forEach(function(e){e.value&&0===e.value.length||-1!==["checkbox","radio"].indexOf(e.type)&&!e.checked||(s[e.name]=e.value)}),n.url=n.url||o.action,n.method=n.method||o.method,n.params=s}if(o.matches("select")){n.params=o.id+"="+o.value;var l=document.querySelector(n.target);if(!(o.value.length>0))return l.classList.add("disabled"),l.innerHTML="",void e.select.refresh(l.closest(".field"));l.classList.remove("disabled")}n.loader&&a.classList.add("loading"),i({url:n.url,method:n.method,data:n.params,success:function(t){if(n.target){if("replace"===r){if("json"===n.type){for(var i="",s=0;s<t.length;s++){var l=window.config.templates[n.template];for(var c in t[s])if("disabled"===c)l=l.replace("#{value}","");else{var u=new RegExp("#{"+c+"}","g");l=l.replace(u,t[s][c])}i+=l}t=i}a.innerHTML=t}else"load"===r&&(t.content?"error"!==t.status?a.insertAdjacentHTML("beforeend",t.content):o.appendChild(t.content):a.insertAdjacentHTML("beforeend",t));"SELECT"==document.querySelector(n.target).nodeName&&window.requestAnimationFrame(function(){e.select.refresh(document.querySelector(n.target).closest(".field"))}),document.querySelector(n.target).querySelector(".custom-select")&&window.requestAnimationFrame(function(){e.select.refresh(document.querySelector(n.target))})}t.redirect&&(window.location.href=t.redirect),o.closest("[data-tcoll]")&&(o.closest("[data-tcoll]").querySelector(".active").classList.remove("active"),o.classList.add("active")),n.loader&&a.classList.remove("loading");var d=a.querySelectorAll("[data-src]");for(s=0;s<d.length;s++){var h=d[s];if(h.classList.contains("lazyload")&&(h.src=h.dataset.src,h.removeAttribute("data-src"),h.parentNode.querySelector("[data-srcset]")))for(var f=h.parentNode.querySelectorAll("[data-srcset]"),p=0;p<f.length;p++){var m=f[p],v=m.getAttribute("data-srcset");m.setAttribute("srcset",v),m.removeAttribute("data-srcset")}}}})}function c(e){[].slice.call(e).forEach(function(e){e.src=e.dataset.videoSrc||e.dataset.lazyVideoSrc,e.removeAttribute("data-video-src"),e.removeAttribute("data-lazy-video-src")})}function u(e){if(e.currentTarget.dataset.tracking){var t=JSON.parse(e.currentTarget.dataset.tracking);t&&window.gmttracking(t.event,t.data)}}return feature.touch||r(document.body,"mouseover","[data-hover-bt]",s),r(document.body,"click",'[type="submit"][form]',function(e){document.getElementById(e.currentTarget.getAttribute("form")).submit()}),r(document.body,"change","[data-submitter]",t),r(document.body,"change",'[data-urlnav] > [type="radio"]',a),r(document.body,"change",'[data-checkboxes] [type="checkbox"][aria-controls]',n),r(document.body,"click","button[data-ajax]",l),r(document.body,"click","a[data-ajax]",l),r(document.body,"change","select[data-ajax]",l),r(document.body,"submit","form[data-ajax]",l),r(document.body,"click","[data-tracking]",u),r(document.body,"click","[data-load-more]",l),r(document.body,"change","[data-change-link]",function(e){var t=e.currentTarget;document.getElementById(t.dataset.changeLink).href=t.querySelector("option:checked").value}),o(),window.desktop&&document.querySelector("[data-video-src]")&&c(document.querySelectorAll("[data-video-src]")),[].slice.call(document.querySelectorAll("select.country-store[data-ajax]")).forEach(function(e){e.dispatchEvent(new Event("change",{bubbles:!0}))}),{heights:o,videos:function(e,t,n){var r;switch(n){case"youtube":r=function(e,t){e.contentWindow.postMessage('{"event":"command","func":"'+t+'","args":""}',"*")};break;case"youku":r=function(e,t){"playVideo"===t?e.playVideo():"pauseVideo"===t&&e.pauseVideo()}}return r},loadVideos:c}}},{"../helpers/delegate":34,"pubsub-js":22,reqwest:23}],52:[function(e,t,n){var r=e("pubsub-js"),i=e("../helpers/delegate"),o=e("../tools/modals"),a=e("reqwest");t.exports=function(e){"use strict";function t(){i(document.body,"click","[data-popup]",h),i(document.body,"click","[data-modal-location]",f),i(document.body,"click","[data-modal-location-close]",p),document.body.addEventListener("keydown",function(e){"Escape"==e.key&&p()}),i(document.body,"click","[data-tooltip]",u),i(document.body,"focusout","[data-tooltip]",function(e){d(e.currentTarget.parentNode,e.currentTarget,e.currentTarget.parentNode.querySelector(".modal-inner"))}),i(document.body,"click","[data-modal]:not([data-tooltip])",function(e){!function(e,t){var n,r=e.currentTarget,i=JSON.parse(r.dataset.modal);if(e.preventDefault(),!r.modal){if(i.video&&(n=window.config.templates["lazy-video"].replace("#{url}",i.video),r.modal=new o({dom:window.config.templates.modal.replace("#{content}",n),closeSelector:".bt-close",className:"modal closed "+i.id})),i.target&&(r.modal=new o({dom:document.querySelector(i.target),closeSelector:".bt-close",className:"modal closed "+i.id})),void 0!==r.href&&"#"!==r.attributes.href.nodeValue)return void a({url:r.href,success:function(e){r.modal=new o({dom:e,closeSelector:".bt-close",className:"modal closed "+i.id}),r.modal.on("hide",function(){s(r,i)}),r.modal.on("show",function(){l(r,i)}),r.modal.show()}});i.tooltip&&(n=(n=window.config.templates.tooltip.replace("#{title}",i.title)).replace("#{text}",i.tooltip),r.modal=new o({dom:n,closeSelector:".bt-close",className:"tooltip closed "+i.id})),r.modal.on("hide",function(){s(r,i)}),r.modal.on("show",function(){l(r,i)})}r.modal.show()}(e)}),function(){if(document.body.classList.contains("tag_gtm")){if(document.cookie.indexOf("first-visit")<0){c("first-visit",1,30);var e=document.querySelector("#location-modal");null!==e&&(e.setAttribute("aria-hidden",!1),document.documentElement.classList.add("prevent-scroll"))}}else c("first-visit",1,30)}()}function n(e){var t=e.target.closest("[aria-hidden]"),r=t.querySelector("[data-lazy-load] iframe");r&&r.parentNode.removeChild(r),t.querySelector("[data-empty-onclose]")&&[].slice.call(t.querySelectorAll("[data-empty-onclose]")).forEach(function(e){e.form?(e.checked=!1,e.value=""):e.innerHTML=""}),t.removeEventListener("transitionend",n),t.removeAttribute("style")}function s(e,t){var r=e.modal.el;if(r.querySelector("[data-lazy-load]"),t=t||e.dataset.modal,r.addEventListener("transitionend",n),r.classList.add("closed"),r.querySelector("[data-sync]")){var i=r.querySelector("[data-sync]"),o=document.getElementById(r.querySelector("[data-sync]").dataset.sync),a=i.slider.realIndex;o.slider.slideTo(a,0)}document.documentElement.classList.remove("prevent-scroll")}function l(t,n){var r=t.modal.el;if((n=n||t.dataset.modal).tooltip&&!window.mobile?(r.style.display="block",r.style.top=e.nav.eltOffset(t).top-80+"px",r.classList.remove("right"),e.nav.eltOffset(t).left+r.offsetWidth>window.innerWidth?(r.style.left=e.nav.eltOffset(t).left-r.offsetWidth+"px",r.classList.add("right")):r.style.left=e.nav.eltOffset(t).left+"px",feature.touch||i(r,"mouseleave",function(e){t.modal.hide(t)},{once:!0})):(document.documentElement.classList.add("prevent-scroll"),r.style.display="flex"),t.dataset.params&&r.querySelector("[data-param-getter]")){var o=JSON.parse(t.dataset.params),a=r.querySelector("[data-param-getter]"),s=0;for(var l in a.params="",o)s>0&&(a.params+="&"),a.params+=l+"="+o[l],s++}window.setTimeout(function(){var i=r.querySelector("[data-lazy-load]"),o=r.querySelector("[data-slider]"),a=r.querySelector("[data-lazy-src]");if(r.classList.remove("closed"),i){if(i.dataset.lazyLoad=t.dataset.modal,"youtube"==JSON.parse(i.dataset.lazyLoad).type){var s=document.createElement("script"),l=document.getElementsByTagName("script")[0];s.src="https://www.youtube.com/iframe_api",l.parentNode.insertBefore(s,l)}e.lazy.load(i,n.autoplay)}if(a){var c="IFRAME"===a.nodeName?a:a.parentNode;e.lazy.image(c)}if(r.querySelector("[data-popin-slider]")||o){var u=r.querySelector("[data-sync]")?document.getElementById(r.querySelector("[data-sync]").dataset.sync):null,d=u.querySelector(".active")?+u.querySelector(".active").dataset.slide:0;r.classList.add("popin-loading"),r.querySelector("[data-popin-slider]")&&(o.removeAttribute("data-popin-slider"),e.sliders.init(o)),window.setTimeout(function(){o.slider.update(),o.slider.slideTo(d,0),r.classList.remove("popin-loading")},200)}},20)}function c(e,t,n){var r=e+"="+escape(t);n&&(n instanceof Date&&isNaN(n.getTime())&&(n=new Date),r+=";path=/;expires="+(n=new Date((new Date).getTime()+1e3*parseInt(n)*60*60*24)).toGMTString()),document.cookie=r}function u(e){var t=e.currentTarget,n=t.parentNode,r=JSON.parse(e.currentTarget.dataset.tooltip),i=window.config.templates.tooltip.replace("#{title}",r.title);if(i=(i=i.replace("#{text}",r.tooltip)).replace("#{id}",r.id),!t.classList.contains("open")){t.classList.add("open"),t.setAttribute("tabindex","-1"),t.insertAdjacentHTML("afterend",i);var o=n.querySelector("#"+r.id);o.setAttribute("aria-hidden","false"),o.setAttribute("role","tooltip"),o.addEventListener("mouseleave",function(){d(n,t,o)},!1),o.addEventListener("click",function(){d(n,t,o)},!1)}}function d(e,t,n){n&&(e.removeChild(n),t.classList.remove("open"),t.removeAttribute("tabindex"))}function h(e){var t=e.currentTarget,n=JSON.parse(t.dataset.popup),r=document.querySelector(n.target),i=document.querySelectorAll(".popup-store");r.classList.contains("show")?r.classList.remove("show"):([].slice.call(i).forEach(function(e){e.classList.remove("show")}),r.classList.add("show"))}function f(e){var t=document.querySelector("#location-modal");null!==t&&(t.setAttribute("aria-hidden",!1),document.documentElement.classList.add("prevent-scroll"))}function p(e){var t=document.querySelector("#location-modal");null!==t&&(t.setAttribute("aria-hidden",!0),document.documentElement.classList.remove("prevent-scroll"))}return r.subscribe("app.start",function(){t()}),{}}},{"../helpers/delegate":34,"../tools/modals":78,"pubsub-js":22,reqwest:23}],53:[function(e,t,n){var r=e("pubsub-js"),i=(e("reqwest"),e("pikaday")),o=e("../helpers/delegate");t.exports=function(e){"use strict";function t(){if(o(document.body,"mousedown","[data-picker]",d),o(document.body,"click","[data-delete-address]",s),o(document.body,"change","[data-address-id]",l),document.querySelectorAll("[data-select-required]")&&document.querySelectorAll("[data-select-required]").forEach(function(e){!function(e){var t=e.querySelector("select"),n=t.options,r=e.querySelector("label");e.parentNode.classList.contains("required-select")&&t.setAttribute("required","required"),t.options[0].setAttribute("disabled","disabled");for(var i=0;i<n.length;i++)if(n[i].value==e.dataset.selectRequired&&""!==e.dataset.selectRequired&&!0!==n[i].disabled){t.value=e.dataset.selectRequired;var o=t.options[t.selectedIndex].text;r.innerText=o,r.classList.add("filled")}else r.innerText=e.dataset.selectLabel}(e)}),document.querySelectorAll("[data-select-options]")&&document.querySelectorAll("[data-select-options]").forEach(function(e){!function(e){var t=JSON.parse(e.dataset.selectOptions),n=e.querySelector("select");t.forEach(function(e){n.querySelector('[value="'+e.id+'"]').setAttribute("code",e.code)})}(e)}),document.querySelector("#user_input_autocomplete_address")){var e=new google.maps.places.Autocomplete(document.querySelector("#user_input_autocomplete_address"));google.maps.event.addListener(e,"place_changed",u)}o(document.body,"keyup","#care_number",n),o(document.body,"keyup","#care_number",a),o(document.body,"focusout",".care-number + .serial-number #serial_number",a)}function n(e){var t=e.currentTarget,n=t.value.replace(/-/g,"");n.length>0&&(n=function(e,t,n){for(var r="",i=0,o=0;o<t.length&&i<e.length;o++)r+=e.substr(i,t[o]),t.length!==o+1&&(i+t[o]==e.length||i+t[o]<e.length)&&(r+=n),i+=t[o];return r+=e.substr(i)}(n,[4,4,4,4],"-")),t.value=n}function a(e){var t=e.currentTarget,n=t.value.replace(/\s+/g,"");t.value=n}function s(e){var t=e.currentTarget.dataset.deleteAddress;window.location=t}function l(e){var t=e.currentTarget,n=t.closest("form"),r="default-address-type="+t.name.split("-")[0]+"&id="+t.dataset.addressId,i=new XMLHttpRequest;i.open("POST",n.action,!0),i.overrideMimeType("application/json"),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.send(r)}function c(e,t,n,r){for(var i=0;i<n.length;i++){var o=n[i];e.short_name!=o.value&&e.short_name!=o.getAttribute("code")||(o.setAttribute("selected","selected"),r.innerText=o.text,r.classList.add("filled"))}}function u(){var e,t,n=this.getPlace().address_components,r=document.querySelector("form[data-autocomplete]"),i=r.querySelector("#user_input_autocomplete_address"),o=r.querySelector("#postal_code"),a=r.querySelector("#locality"),s=r.querySelector("#region"),l=r.querySelector("#country");n.forEach(function(n){var r=n.types[0];"street_number"===r?e=n.long_name:"route"===r?t=n.long_name:"postal_code"===r?(o.classList.add("filled"),o.value=n.long_name):"locality"===r?(a.classList.add("filled"),a.value=n.long_name):"administrative_area_level_1"===r?c(n,0,s.querySelectorAll("option"),s.parentNode.querySelector("label")):"country"===r&&c(n,0,l.querySelectorAll("option"),l.parentNode.querySelector("label")),void 0!==t&&(i.classList.add("filled"),i.value=void 0==e?"1 "+t:e+" "+t)})}function d(e){var t=e.currentTarget,n=JSON.parse(t.dataset.picker);t.classList.contains("pikaday")||(new i({field:t,firstDay:1,format:"YYYY-M-D",i18n:n,yearRange:[2015,n.year],maxDate:new Date,onSelect:function(e){t.classList.add("filled")}}),t.classList.add("pikaday"))}return r.subscribe("app.start",function(){t()}),{}}},{"../helpers/delegate":34,pikaday:19,"pubsub-js":22,reqwest:23}],54:[function(e,t,n){var r=e("pubsub-js"),i=e("../helpers/delegate"),o=e("../tools/smoothScroll");t.exports=function(){"use strict";function e(e,t){!window.mobile&&e.previousElementSibling.classList.contains("overlapped")?e.style.right=t.offsetLeft+"px":e.style.right="26px"}function t(){for(var e=0,t=0;t<d.length;t++){var n=document.querySelector(d[t].fixed);!n||d[t].condition&&!d[t].condition.matches||"fixed"!==window.getComputedStyle(n).position||(e+=(d[t].reference?document.querySelector(d[t].reference):n).offsetHeight)}return e}function n(e){var t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset}}function a(e){var r=e.currentTarget,i="object"==typeof JSON.parse(r.dataset.anchor)?JSON.parse(r.dataset.anchor):{target:r.getAttribute("href"),speed:r.dataset.anchor},a=null!==document.querySelector(i.target)?document.querySelector(i.target):r.closest(".mod-hero").nextElementSibling,s={easing:{effect:"Cubic",type:"InOut"},from:window.pageYOffset,to:n(a).top-t(),timing:1e3,callback:function(){window.blockwaypoint=null}};e.preventDefault();var l=r.closest("[data-nav-anchors]");l&&l.querySelector(":scope > .active")&&l.querySelector(":scope > .active").classList.remove("active"),r.parentNode.classList.add("active"),window.blockwaypoint=!0,window.navigating?r.closest("[data-inner-nav]").querySelector("[data-nav-anchors]").addEventListener("transitionend",function e(){o.go(s),r.closest("[data-inner-nav]").querySelector("[data-nav-anchors]").removeEventListener("transitionend",e)}):o.go(s)}function s(e){var t=e.originalEvent?e.currentTarget:e,n=t.closest("[data-inner-nav]");if(window.mobile&&!n.hasAttribute("data-pager-state"))window.blockwaypoint||function(e,t){var n=t.querySelector("[data-nav-label]");n&&(n.hasAttribute("data-toggle")&&"true"===n.getAttribute("aria-expanded")&&(e.dataset.anchor&&(window.navigating=!0),n.click()),window.requestAnimationFrame(function(){var e=t.querySelector(".wp-nav .active"),r=n.querySelector(":scope > span:not(.tt)")||n,i=n.querySelector(":scope > .tt")||null;e&&(i&&e.textContent.trim()===i.textContent.trim()?r.classList.add("root"):(r.classList.remove("root"),r.textContent=e.textContent))}))}(t,n);else{var r=t.parentNode;r.classList.contains("page-item")&&(r.parentNode.querySelector(":scope > .active").classList.remove("active"),r.classList.add("active")),l(n)}}function l(e){e.querySelector(".active-state")||e.querySelector(".wp-nav")&&e.querySelector(".wp-nav").insertAdjacentHTML("beforeend",'<span class="active-state"></span>'),e.querySelector(".wp-nav")&&window.requestAnimationFrame(function(){var t=e.querySelector(".active-state"),n=e.querySelector(".wp-nav .active");n?(t.classList.remove("hide"),t.style.left=n.offsetLeft+"px",t.style.width=n.offsetWidth+"px"):t.classList.add("hide")})}function c(){document.querySelector("[data-inner-nav]")&&[].slice.call(document.querySelectorAll("[data-inner-nav]")).forEach(function(e){window.mobile&&!e.dataset.pagerState||l(e)})}function u(e){var t=e.currentTarget,n=document.querySelector(".deco").querySelector("[data-deco-src]");0!=t.dataset.deco.length&&("IMG"==n.nodeName&&n.getAttribute("src"),"IMG"==n.nodeName&&(n.src=t.dataset.deco))}var d=[{fixed:"header.main-header .menu"},{fixed:"#subnav",reference:'#subnav > [class*="bt-"]'},{fixed:"#nav-wrapper .breadcrumb"}];return window.requestAnimationFrame(c),function(){if(i(document.body,"click","[data-inner-nav] a:not([data-nav-label]),[data-inner-nav] button:not([data-nav-label])",function(e){s(e)}),i(document.body,"keyup","[data-inner-nav] a:not([data-nav-label]),[data-inner-nav] button:not([data-nav-label])",function(e){s(e)}),i(document.body,"click","[data-anchor]",function(e){a(e)}),i(document.body,"mouseover","[data-deco]",u),document.querySelector("[data-deco]")){var t=document.querySelector("[data-deco]"),n=document.querySelector("[data-deco-src]");0!=t.dataset.deco.length&&(n.dataset.lazySrc=t.dataset.deco)}var o=document.querySelector("header .basket"),l=document.querySelector(".page-nav-wp");o&&l&&(e(o,l),r.subscribe("resize",function(){e(o,l)}),r.subscribe("scroll",function(){e(o,l)})),window.desktop&&document.body.querySelector("#main-nav .accordeon").setAttribute("data-simplebar",!0)}(),{navsOffset:t,eltOffset:n,update:s,innerState:c}}},{"../helpers/delegate":34,"../tools/smoothScroll":80,"pubsub-js":22}],55:[function(e,t,n){var r=e("pubsub-js");e("../helpers/delegate"),t.exports=function(){"use strict";return r.subscribe("app.start",function(){"objectFit"in document.documentElement.style==0&&Array.prototype.forEach.call(document.querySelectorAll("img[data-object-fit]"),function(e){(e.runtimeStyle||e.style).background='url("'+e.src+'") no-repeat 50%/'+(e.currentStyle?e.currentStyle["object-fit"]:e.getAttribute("data-object-fit")),e.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='"+e.width+"' height='"+e.height+"'%3E%3C/svg%3E"})}),{}}},{"../helpers/delegate":34,"pubsub-js":22}],56:[function(e,t,n){var r=e("pubsub-js");e("../helpers/delegate"),t.exports=function(){"use strict";return r.subscribe("app.start",function(){!function(){if(document.querySelector(".mod-grid")){var e=document.querySelector(".mod-grid").querySelectorAll(".category"),t=e.length-1;e.length%2==1&&[].slice.call(e).forEach(function(e,n){t==n?e.classList.add("full"):e.classList.remove("full")})}}()}),{}}},{"../helpers/delegate":34,"pubsub-js":22}],57:[function(e,t,n){t.exports=function(){"use strict";function e(e){return e.filter(Boolean)}function t(e){return new Promise(function(t){function n(e){t("load"===e.type&&r),this.removeEventListener("load",n),this.removeEventListener("error",n),r=null}var r;!function(e,t){function n(e){t("load"===e.type&&r.response)}var r=new XMLHttpRequest;r.addEventListener("error",n),r.addEventListener("load",n),r.open("GET",e),r.responseType="blob",r.send()}(e,function(e){e?((r=new Image).addEventListener("load",n),r.addEventListener("error",n),r.src=window.URL.createObjectURL(e)):n({type:"error"})})})}return{img:function(n){if(!n||"string"!=typeof n&&!Array.isArray(n))throw new Error("Asset data provided is not a string nor an array");return"string"==typeof n&&(n=[n]),Promise.all(n.map(function(e){return t(e)})).then(e)}}}},{}],58:[function(e,t,n){var r=e("pubsub-js"),i=(e("lodash"),e("in-viewport")),o=e("reqwest"),a=e("../helpers/delegate");t.exports=function(e){"use strict";function t(e){var t=document.querySelector("#nav-wrapper"),n=window.mobile||window.tablet,r=t.querySelector(".buy-options");e.forEach(function(e){!n&&e.classList.contains("active")?t.classList.contains("merge")&&i(document.querySelector(".sliders"))||i(e,{offset:-t.clientHeight})?r.classList.remove("active"):r.classList.add("active"):n&&r.classList.add("active")})}function n(e){var t=(e.currentTarget||e).closest(".interact").querySelectorAll(".buttons .button"),n=document.querySelector("#nav-wrapper .buy-options");t.forEach(function(e){n.innerHTML="",setTimeout(function(){if(e.classList.contains("active")&&e.hasAttribute("data-button-viewport")){var t=e.cloneNode(!0);n.appendChild(t)}},100)})}function s(t){var n=t.currentTarget,r=JSON.parse(n.dataset.updateProduct),i=n.closest(".product-zone"),a=document.createElement("DIV");a.classList.add("modal"),a.innerHTML='<svg class="loader" aria-hidden="true" focusable="false" xmlns="http://www.w3.org/2000/svg" width="30px" height="30px" viewBox="0 0 40 40"><path opacity="0.2" fill="#000" d="M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946 s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634 c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z"></path><path fill="#000" d="M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0 C22.32,8.481,24.301,9.057,26.013,10.047z" transform="rotate(195.783 20 20)"><animatetransform attributetype="xml" attributename="transform" type="rotate" from="0 20 20" to="360 20 20" dur="0.5s" repeatcount="indefinite"></animatetransform></path></svg>',i.appendChild(a),document.documentElement.classList.add("prevent-scroll"),o({url:r.url,method:r.method,data:void 0,success:function(t){i.innerHTML=t.html,document.documentElement.classList.remove("prevent-scroll"),e.sliders.init(),e.lazy.init(),e.location.init(),e.accordions.init(),e.reviews.init(),e.tabpanel.init(),e.anims.init()},error:function(e){document.documentElement.classList.remove("prevent-scroll"),i.removeChild(a),console.log("error request ajax")}})}var l=document.querySelector(".interact[data-product]");return r.subscribe("app.start",function(){l&&function(){a(document.body,"change","[data-update-product]",s),a(l,"change","[data-product] [data-gtm-layer]",function(e){var t=e.target.parentNode;document.querySelector("[data-pdt-label]")&&t.dataset.product&&[].slice.call(document.querySelectorAll("[data-pdt-label]")).forEach(function(e){e.textContent=JSON.parse(t.dataset.product).title}),e.currentTarget.closest("[data-tracking]")&&window.gmttracking&&window.gmttracking("product.change",e.currentTarget.closest("[data-product]").dataset.product)}),a(l,"change","[data-product] input",n);var e=l.querySelectorAll(".buttons [data-button-viewport]");e.forEach(function(e){e.classList.contains("active")&&n(e)}),t(e),r.subscribe("scroll",function(){t(l.querySelectorAll(".buttons [data-button-viewport]"))})}()}),{}}},{"../helpers/delegate":34,"in-viewport":4,lodash:15,"pubsub-js":22,reqwest:23}],59:[function(e,t,n){var r=e("pubsub-js"),i=e("reqwest"),o=e("../helpers/delegate"),a=e("choices.js");t.exports=function(e){"use strict";function t(t){var n=t?t.currentTarget:document.querySelector("[data-load-store]");if(n){var r=n.closest("form"),o=JSON.parse(n.dataset.loadStore),s=document.querySelector(o.target),l=n.id+"="+n.value,c=!t,u=r.querySelector(".placeholder");i({url:o.url,method:r.method,data:l,success:function(t){e.stores=t;for(var n='<option placeholder value="">'+r.querySelector(".cat").textContent+"</option>",i=0;i<t.length;i++){var l=window.config.templates[o.template],d=t[i];for(var h in d)if("disabled"===h)l=l.replace("#{value}","");else{var f=new RegExp("#{"+h+"}","g");l=l.replace(f,d[h])}n+=l}c?(s.innerHTML=n,e.StoreChoices=new a(o.target,{searchResultLimit:100})):(e.StoreChoices.destroy(),s.innerHTML=n,e.StoreChoices=new a(o.target,{searchResultLimit:100}),u.classList.add("show"),u.nextElementSibling.innerHTML="");var p=s.options[s.selectedIndex],m=JSON.parse(s.dataset.updateZone),v=document.querySelector(m.zone);if(0!==p.value.length)for(i=0;i<t.length;i++)t[i].value==p.value&&(v.innerHTML=t[i].html,v.parentNode.querySelector(".placeholder").classList.remove("show"),setTimeout(function(){v.firstChild.classList.add("show")},500))}})}}function n(t){var n=t.currentTarget,r=n.options[n.selectedIndex],i=JSON.parse(n.dataset.updateZone),o=document.querySelector(i.zone),a=e.stores;if(i.zone&&0!==r.value.length)for(var s=0;s<a.length;s++)a[s].value==r.value&&(o.innerHTML=a[s].html,o.parentNode.querySelector(".placeholder").classList.remove("show"),setTimeout(function(){o.firstChild.classList.add("show")},500))}r.subscribe("app.start",function(){window.addEventListener("load",function(){t()}),o(document.body,"change","[data-load-store]",t),o(document.body,"change","[data-update-zone]",n)})}},{"../helpers/delegate":34,"choices.js":2,"pubsub-js":22,reqwest:23}],60:[function(e,t,n){var r=e("pubsub-js");e("../helpers/delegate"),e("../modules/nav"),t.exports=function(e){"use strict";function t(){r.subscribe("resize",function(){window.requestAnimationFrame(function(){window.desktop=window.matchMedia(window.breakpoints[1024]).matches,window.tablet=window.matchMedia(window.breakpoints[768]).matches,window.mobile=window.matchMedia(window.breakpoints[0]).matches,e.nav.innerState(),window.matchMedia(window.breakpoints[i]).matches||(i=n(),r.publish("breakpoint",{currentBreakpoint:i}))})})}function n(){for(var e=0;e<o.length;e++)if(window.innerWidth>=o[e])return o[e]}window.breakpoints={0:"(max-width: 47.9375em)",768:"(min-width: 48em) and (max-width: 63.9375em)",1024:"(min-width: 64em)"};var i,o=[];return function(){for(var e in window.breakpoints)o.push(+e);o.sort(function(e,t){return t-e}),window.desktop=window.matchMedia(window.breakpoints[1024]).matches,window.tablet=window.matchMedia(window.breakpoints[768]).matches,window.mobile=window.matchMedia(window.breakpoints[0]).matches,i=n(),t()}(),{init:t,current:n}}},{"../helpers/delegate":34,"../modules/nav":54,"pubsub-js":22}],61:[function(e,t,n){var r=e("pubsub-js"),i=(e("lodash/debounce"),e("in-viewport"));e("../helpers/delegate"),t.exports=function(){"use strict";function e(e){e.modPlaying=!0;var t=[].slice.call(e.querySelectorAll(".item")),n=JSON.parse(e.dataset.reviews),r=function(){[].slice.call(e.querySelectorAll(".item.active")).forEach(function(e){e.classList.remove("active")}),1==window.mobile&&(n.display=1);for(var r=0;r<n.display;r++)t.push(t[r]);for(r=0;r<n.display;r++)t.shift();var o=t.slice(0,n.display);for(r=0;r<o.length;r++)o[r].classList.add("active");i()},i=function(){window.reviewsTo=window.setTimeout(function(){var t=[].slice.call(e.querySelectorAll(".bypass"));t&&t.forEach(function(e){e.classList.remove("bypass")}),r()},n.duration)};[].slice.call(e.querySelectorAll(".active")).forEach(function(e){e.classList.remove("last-active")}),r()}function t(){n&&(n.forEach(function(e){var t=[].slice.call(e.querySelectorAll(".item")),n=JSON.parse(e.dataset.reviews);if(!e.hasAttribute("data-slider"))if(window.desktop)for(var r=0;r<t.length;r++){var i=t[r];r<n.display&&i.classList.add("active")}else t[0].classList.add("active")}),r.subscribe("scroll",function(){n.forEach(function(t){var n=[].slice.call(t.querySelectorAll(".item")),r=JSON.parse(t.dataset.reviews);n.forEach(function(e){e.style.animationDuration=r.duration+"ms"}),i(t)?t.modPlaying||e(t):t.modPlaying&&(t.modPlaying=!1,window.clearTimeout(window.reviewsTo),[].slice.call(t.querySelectorAll(".active")).forEach(function(e){e.classList.add("last-active")}))})}))}var n=[].slice.call(document.querySelectorAll("[data-reviews]"));return n.forEach(function(e){window.mobile&&e.hasAttribute("data-slider")||t()}),{init:t,play:e}}},{"../helpers/delegate":34,"in-viewport":4,"lodash/debounce":11,"pubsub-js":22}],62:[function(e,t,n){var r=e("pubsub-js"),i=e("lodash"),o=e("in-viewport");e("../helpers/delegate"),t.exports=function(e){"use strict";function t(){r.subscribe("scroll",function(e,t){[].slice.call(document.querySelectorAll("[data-lazy-load]")).forEach(function(e){e.parentNode.classList.contains("modal-inner")||"undefined"==typeof YT||!YT.PlayerState||YT.PlayerState&&!YT.PlayerState.PLAYING||!o(e)&&e.player&&e.player.getPlayerState&&1===e.player.getPlayerState()&&e.player.pauseVideo()}),u&&(o(u,{offset:-300})?(window.webglXp.play(),window.webglXpPlaying=!0):window.webglXpPlaying&&(window.webglXp.pause(),window.webglXpPlaying=!1)),t&&(function(e){a&&e&&(0!==e.pos?a.classList.add("fixed"):a.classList.remove("fixed"))}(t),window.mobile||function(e){if(c&&o(c)){var t=c.querySelector(".media > div");t&&(t.style.transform="translateY( "+Math.ceil(e.pos*d*1.7)+"px )")}}(t))}),l&&r.subscribe("scroll",function(e,t){n()}),s&&((window.tablet||window.desktop)&&r.subscribe("scroll",function(e,t){!function(e){var t=(document.querySelector("header .menu").offsetHeight,s.getBoundingClientRect()),n=s.querySelector(".page-nav")||s.querySelector(".inner"),r=document.querySelector("[data-dock]");if(t.top<=0){if(s.classList.contains("merge")||(s.classList.add("merge"),a.classList.add("overlapped"),s.style.height=n.offsetHeight+"px"),r){var i=s.querySelector(".inner");r.getBoundingClientRect().top<=s.offsetHeight+i.offsetHeight?(s.classList.add("dock"),i.style.top=r.offsetTop-2*i.offsetHeight-s.offsetTop+"px"):(s.classList.remove("dock"),i.style.top="")}}else s.classList.remove("merge"),a.classList.remove("overlapped")}()}),window.mobile&&r.subscribe("scroll",i.throttle(function(e,t){!function(e){if(e)if(e.pos>0&&"down"===e.direction){if(document.documentElement.classList.contains("scrolling"))return;document.documentElement.classList.add("scrolling")}else document.documentElement.classList.remove("scrolling")}(t)},120))),window.requestAnimationFrame(function(){window.scrollY>0&&r.publish("scroll",{direction:"down",pos:window.scrollY,delta:0})})}function n(t){for(var n=0,r=l.anchors.length;n<r;n++){var i=document.querySelector(l.anchors[n].getAttribute("href"));if(o(i,{offset:-window.innerHeight/2})){if(!l.anchors[n].parentNode.classList.contains("active")&&(l.anchors[n].parentNode.classList.add("active"),l.anchors[n].dataset.trackingAnchor)){var a=JSON.parse(l.anchors[n].dataset.trackingAnchor);window.gmttracking(a.event,a.data)}}else l.anchors[n].parentNode.classList.remove("active");e.nav.update(l.anchors[n],l)}}var a=document.querySelector("header.main-header .menu"),s=document.getElementById("nav-wrapper"),l=document.querySelector("[data-nav-waypoints]"),c=document.querySelector('.mod-hero[data-animation="parallax"]'),u=document.getElementById("xp-webgl"),d=.2;return r.subscribe("app.start",function(){window.requestAnimationFrame(function(){l&&(l.anchors=[],[].slice.call(l.querySelectorAll("[data-anchor]")).forEach(function(e){l.anchors.push(e)})),t()})}),{}}},{"../helpers/delegate":34,"in-viewport":4,lodash:15,"pubsub-js":22}],63:[function(e,t,n){var r=e("pubsub-js"),i=(e("reqwest"),e("../tools/smoothScroll")),o=e("../helpers/delegate");t.exports=function(){"use strict";function e(e){var t=e.currentTarget,n=document.querySelectorAll(t.dataset.anchorClass),r=document.documentElement.scrollTop,o=document.querySelector(".page-nav").clientHeight||document.querySelector(".breadcrumb").clientHeight;n.length>1?n.forEach(function(e){var t=e.closest(".tab");if(t&&t.classList.contains("active")){i.go({easing:{effect:"Cubic",type:"InOut"},from:r,url:"URL",to:e.getBoundingClientRect().top+(r-o),timing:1e3});var n=e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');n[0].hasAttribute("data-nav-label")?n[1].focus():n[0].focus()}}):i.go({easing:{effect:"Cubic",type:"InOut"},from:r,url:"URL",to:n[0].getBoundingClientRect().top+(r-o),timing:1e3})}return r.subscribe("app.start",function(){o(document.body,"click","[data-anchor-class]",e),[].forEach.call(document.querySelectorAll(".scroll-top"),function(e){e.addEventListener("click",function(e){i.go({easing:{effect:"Cubic",type:"InOut"},from:window.pageYOffset,url:"URL",to:window.pageYOffset-window.pageYOffset,timing:1e3})},!1)})}),{}}},{"../helpers/delegate":34,"../tools/smoothScroll":80,"pubsub-js":22,reqwest:23}],64:[function(e,t,n){var r=e("pubsub-js"),i=e("../helpers/delegate");t.exports=function(){"use strict";function e(e){var n=[].slice.call(e.querySelectorAll(".custom-select select"));n&&n.forEach(function(e){i(e,"change",t),e.originalValue||(e.originalValue=e.querySelector("option")?e.querySelector("option").textContent:"-"),t(e)})}function t(e){var t=e.target?e.target:e,n=t.parentNode.querySelector(".label"),r=t.selectedIndex,i=t.querySelectorAll("option")[r];i?t.classList.contains("choices__input")||(n.textContent=i.textContent):n.textContent=t.originalValue}function n(t){(function(e){[].slice.call(e.querySelectorAll(".select-list")).forEach(function(e){var t,n=[],r=document.createElement("span"),i=document.createElement("span");r.className="label",i.className="select",i.appendChild(r),[].slice.call(e.querySelectorAll("a")).forEach(function(e){var t="";e.classList.contains("selected")&&(t=" selected",r.setAttribute("data-value",e.textContent)),n.push(['<option value="',e.href,'"',t,">",e.textContent,"</option>"].join(""))}),i.insertAdjacentHTML("afterbegin","<select>"+n.join("")+"</select>"),t=i.querySelector("select"),$(t).on("change",function(e){var t=e.target,n=t.selectedIndex,r=t.querySelectorAll("option")[n].value;r&&""!==r&&(window.location.href=r)}),e.classList.contains("duplicate")?e.parentNode.appendChild(i):e.parentNode.replaceChild(i,e)})})(t=t||document),e(t)}return r.subscribe("app.start",function(){n()}),{refresh:n}}},{"../helpers/delegate":34,"pubsub-js":22}],65:[function(e,t,n){var r=e("pubsub-js"),i=e("swiper"),o=e("../helpers/delegate"),a=e("../tools/smoothScroll");t.exports=function(e){"use strict";function t(t){var n=t.conf;n.pager&&o(n.pager,"click","button",function(e){var n=t.originalParams.loop?+e.currentTarget.dataset.target+1:+e.currentTarget.dataset.target;t.slideTo(n),window.mainSliderTo&&window.clearTimeout(window.mainSliderTo),window.sliderUserActivity=!0}),n.externalControls&&o(n.externalControls,"click","button",function(r){var i=r.currentTarget;n.externalControls.querySelector(".active")&&n.externalControls.querySelector(".active").classList.remove("active"),i.parentNode.classList.add("active"),a.go({easing:{effect:"Cubic",type:"InOut"},from:window.pageYOffset,to:e.nav.eltOffset(t.container[0].closest("[data-container]")).top-e.nav.navsOffset()-40,timing:1e3,callback:function(){t.slideTo(+r.currentTarget.dataset.index-1)}})}),o(t.container[0].parentNode,"click","[data-prev], [data-next]",function(e){window.clearTimeout(window.mainSliderTo),window.sliderUserActivity=!0});var r=[].slice.call(t.container[0].querySelectorAll("video"));window.desktop&&r.length?(t.notready=!0,r.forEach(function(e,n){if(e.addEventListener("ended",function(){!window.sliderUserActivity&&r.length>1?s(t):e.play()}),e.closest("[data-slide]").classList.contains("active"))var i=window.setInterval(function(){e.readyState>0&&(c({slider:t,active:e.closest("[data-slide]")}),t.notready=!1,window.clearInterval(i))},100)})):t.notready=!1}function n(n,o,a,s){if(n.hasAttribute("data-popin-slider"))r.subscribe("modal");else{var u,d,h=1,f=1;(o.auto||!window.desktop&&o.autoMobile)&&(u=o.auto||o.autoMobile),(o.centered||window.mobile&&o.centeredMobile)&&(d=!0,h="auto"),o.slidesPerView&&(h="object"==typeof o.slidesPerView?o.slidesPerView[e.resize.current()]:o.slidesPerView),o.slidesPerGroup&&(f="object"==typeof o.slidesPerGroup?o.slidesPerGroup[e.resize.current()]:o.slidesPerGroup);var p=new i(n,{speed:o.speed?o.speed:300,keyboardControl:!0,autoplay:u,pagination:o.autopager?n.parentNode.querySelector(".pager"):null,paginationElement:"li",paginationClickable:!!o.autopager||null,initialSlide:+s.dataset.slide,loop:1!=n.querySelectorAll(".slide").length&&void 0===o.loop,nextButton:n.parentNode.querySelector(".bt-next"),prevButton:n.parentNode.querySelector(".bt-prev"),slidesPerView:h,slidesPerGroup:f,disableOnInteraction:!0,centeredSlides:d,slideActiveClass:"active",runCallbacksOnInit:!1,simulateTouch:1!=n.querySelectorAll(".slide").length,onInit:function(t){var r=t.container[0].querySelector('[data-slide="0"]');n.classList.add("swipered"),t.originalParams.loop&&n.parentNode.querySelector("[data-prev]")&&(n.parentNode.querySelector("[data-prev]").classList.add("looping"),n.parentNode.querySelector("[data-next]").classList.add("looping")),t.isEnd&&t.isBeginning&&n.classList.add("all-visible"),n.querySelectorAll('[data-animate="start"]')&&[].slice.call(n.querySelectorAll('[data-animate="start"]')).forEach(function(e){e.dataset.animate="end"}),r.querySelector("[data-lazy-load]")&&!r.querySelector("[data-lazy-load]").classList.contains("loaded")&&e.lazy.load(r.querySelector("[data-lazy-load]"),!!r.querySelector("video[data-lazy-load]"))},onSliderMove:function(e){!window.sliderUserActivity&&p.conf.home&&(window.sliderUserActivity=!0,c({slider:p}))},onTransitionStart:function(t){var n=t.container[0].querySelector("[data-slide].active");if(n.querySelector("[data-lazy-src]")){var r="IFRAME"===n.querySelector("[data-lazy-src]").nodeName?n.querySelector("[data-lazy-src]"):n.querySelector("[data-lazy-src]").parentNode;e.lazy.image(r)}n.querySelector("video[data-lazy-load]")&&!n.querySelector("video[data-lazy-load]").classList.contains("loaded")&&e.lazy.load(n.querySelector("video[data-lazy-load]"),!0),o.indexCalc&&1==t.progress&&(t.container[0].querySelector("[data-slide].active").classList.remove("active"),t.container[0].querySelector("[data-slide]:last-child").classList.add("active"))},onSlideChangeEnd:function(t){var n=(t.activeIndex,t.container[0].querySelector("[data-slide].active")),r=n.querySelector(".bt-control-video");n.querySelector("div[data-lazy-load]")&&!n.querySelector("iframe")&&e.lazy.load(n.querySelector("[data-lazy-load]"),!0),t.notready||function(e,t){if(t=e.slider.conf||t,l(e.slider,e.active),window.requestAnimationFrame(function(){c(e)}),t.externalControls){var n=e.slider.realIndex+1;t.externalControls.querySelector(".active")&&t.externalControls.querySelector(".active").classList.remove("active"),t.externalControls.querySelector('[data-index="'+n+'"]').parentNode.classList.add("active")}if(t.controls&&(t.controls.querySelector(".page").textContent=n<10?"0"+n:n),t.associated){var r=document.querySelector(t.associated).querySelectorAll(".item");if(!r)return;r[0].parentNode.querySelector(":scope > .active").classList.remove("active"),r[e.slider.realIndex].classList.add("active")}var i=e.active.querySelector(".lazyslide");if(null!==i&&i.hasAttribute("data-src")&&(i.src=i.dataset.src,e.active.querySelector(".loader").setAttribute("hidden",!0),i.removeAttribute("data-src")),i&&i.parentNode.querySelector("[data-srcset]"))for(var o=i.parentNode.querySelectorAll("[data-srcset]"),a=0;a<o.length;a++){var s=o[a],u=s.getAttribute("data-srcset");s.setAttribute("srcset",u),s.removeAttribute("data-srcset")}"objectFit"in document.documentElement.style==0&&Array.prototype.forEach.call(document.querySelectorAll("img[data-object-fit]"),function(e){(e.runtimeStyle||e.style).background='url("'+e.src+'") no-repeat 50%/'+(e.currentStyle?e.currentStyle["object-fit"]:e.getAttribute("data-object-fit")),e.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='"+e.width+"' height='"+e.height+"'%3E%3C/svg%3E"})}({active:n,slider:t},a),r&&r.classList.contains("pause")&&r.classList.remove("pause")}});n.slider=p,n.slider.conf=a,t(p),l(p,s),a.pager&&(o.auto||o.autoMobile)&&(p.notready||c({slider:p}))}}function s(e){e.slideNext()}function l(t,n){var r=t.container[0].querySelectorAll("video");if((r=(r=r.length>0?r:t.container[0].querySelectorAll("[data-lazy-load]")).length>0?[].slice.call(r):null)&&window.desktop){var i="VIDEO"!==r[0].nodeName,o=n.querySelector("video"),a=!1;if(r.forEach(function(t){if(t.dataset.lazyLoad){var n=JSON.parse(t.dataset.lazyLoad);"youtube"!=n.type&&"youku"!=n.type||(a=!0)}if(!t.paused)if(i){if(!(t=t.dataset.lazyLoad?t.querySelector("iframe"):t))return;e.manager.videos(t,"pauseVideo","youtube")}else t.pause()}),o)i?e.manager.videos(o.querySelector("iframe"),"playVideo"):window.requestAnimationFrame(function(){o.play()});else{if(a)return;c({slider:t,active:n.closest("[data-slide]")});var l=window.setInterval(function(){n.classList.contains("pause")||(s(t),t.notready=!1),window.clearInterval(l)},n.dataset.duration)}}}function c(t){if(t.slider.conf.pager&&t.slider.conf.pager.querySelector("li")&&!t.slider.conf.autopager){var n,r=t.slider.realIndex,i=t.slider.conf.pager.querySelectorAll("li")[r],o=i.querySelector("span");o&&(t.active=t.active||t.slider.slides[r],function(e){var t=e.slider.conf.pager.querySelector(".running");t&&(t.style.transitionDuration="0ms",t.parentNode.classList.remove("current"),t.classList.remove("running"),t.parentNode.removeAttribute("aria-current"))}(t),!window.sliderUserActivity&&t.slider.conf.home?(n=window.desktop&&t.slider.slides[t.slider.realIndex].querySelector("video")?t.active.querySelector("video")?1e3*t.active.querySelector("video").duration:~~t.active.dataset.duration:JSON.parse(t.slider.container[0].dataset.slider).autoMobile||JSON.parse(t.slider.container[0].dataset.slider).auto,o.style.transitionDuration=n+"ms"):window.sliderUserActivity&&(o.style.transitionDuration="0ms"),t.slider.conf.pager.hasAttribute("data-inner-nav")&&(i.parentNode.querySelector(".active")&&i.parentNode.querySelector(".active").classList.remove("active"),i.classList.add("active"),e.nav.update(t.slider.conf.pager)),o.classList.add("running"),o.parentNode.setAttribute("aria-current","true"),o.parentNode.classList.add("current"))}}function u(e,t){(e?[e]:[].slice.call(document.querySelectorAll("[data-slider]"))).forEach(function(e){if(!e.closest('[aria-hidden="true"]')){var r=JSON.parse(e.dataset.slider);if(!e.slider||!r.device||-1===r.device.indexOf("touch")||window.desktop){if(e.slider&&e.slider.destroy(!0,!0),r.device){for(var i=!1,o=0;o<r.device.length;o++)r.device[o]&&window[r.device[o]]&&(i=!0);if(!i)return}if(null!==e.querySelector("[data-slide]"))var a=t?e.querySelector('[data-slide="'+parseInt(t,10)+'"]'):e.querySelector('[data-slide="0"]');else e.querySelector("ul").innerHTML+="<li class='slide.swiper-slide' typeof='ProductModel' data-slide='0' data-duration='2500'></li>",a=t?e.querySelector('[data-slide="'+parseInt(t,10)+'"]'):e.querySelector('[data-slide="0"]');var s={};s.home="video-slider"===e.id,s.pager=e.parentNode.querySelector(".pager"),s.autopager=r.autopager,s.controls=e.parentNode.querySelector(".controls"),s.externalControls=e.id?document.querySelector('[data-pager="'+e.id+'"]'):null,s.sync=e.hasAttribute("data-sync")?e.dataset.sync:null,s.associated=e.hasAttribute("data-associated")?e.dataset.associated:null,r.speed=r.speedMobile&&(window.matchMedia(window.breakpoints[0]).matches||window.matchMedia(window.breakpoints[768]).matches)?r.speedMobile:r.speed,n(e,r,s,a)}}})}return u(),r.subscribe("breakpoint",function(){u()}),{init:u}}},{"../helpers/delegate":34,"../tools/smoothScroll":80,"pubsub-js":22,swiper:26}],66:[function(e,t,n){var r=e("pubsub-js"),i=e("../helpers/delegate");if(document.querySelector("[btn-bid]"))var o=document.querySelector("[btn-bid]").getAttribute("btn-bid");t.exports=function(){"use strict";function e(e){var t=e.currentTarget,n=t.parentNode.querySelector("#snapcall-end");n.querySelector(".snapcall-step-5").classList.remove("show"),t.classList.remove("show"),n.classList.add("show"),setTimeout(function(){n.querySelector(".snapcall-step-2").classList.remove("show"),n.querySelector(".snapcall-step-3").classList.add("show"),snapcallAPI.startCall(o)},2e3),window.addEventListener("snapcallEvent_callAnswer",function(e){n.querySelector(".snapcall-step-3").classList.remove("show"),n.querySelector(".snapcall-step-4").classList.add("show")}),window.addEventListener("snapcallEvent_callEnd",function(e){n.querySelector(".snapcall-step-3").classList.remove("show"),n.querySelector(".snapcall-step-4").classList.remove("show"),n.querySelector(".snapcall-step-5").classList.add("show"),setTimeout(function(){n.querySelector(".snapcall-step-5").classList.remove("show"),n.querySelector(".snapcall-step-2").classList.add("show"),n.classList.remove("show"),t.classList.add("show")},1e3)})}function t(e){var t=e.currentTarget;snapcallAPI.endCall(o),t.querySelector(".snapcall-step-2").classList.remove("show"),t.querySelector(".snapcall-step-3").classList.remove("show"),t.querySelector(".snapcall-step-4").classList.remove("show"),t.querySelector(".snapcall-step-5").classList.add("show")}var n=function(e){var t=document.querySelector("#snapcall-start"),n=document.querySelector("#snapcall-false");e?e&&n.classList.contains("show")&&(n.classList.remove("show"),t.classList.add("show")):(t.classList.remove("show"),n.classList.add("show"))};return r.subscribe("app.start",function(){document.querySelector("[btn-bid]")&&(i(document.body,"click","#snapcall-start",e),i(document.body,"click","#snapcall-end",t),document.querySelector("[btn-bid]")&&snapcallAPI.widgetIsAvailable(o,n))}),{}}},{"../helpers/delegate":34,"pubsub-js":22}],67:[function(e,t,n){var r=e("pubsub-js"),i=e("in-viewport");t.exports=function(e){"use strict";function t(e,t){e.classList.add("dock"),e.style.left=t.left+"px",e.style.bottom="",e.style.top=t.top+"px"}function n(e,t){e.classList.remove("dock"),e.style.bottom=t?"":0,e.style.left="",e.style.top=""}function o(e,r){i(l)&&(function(e){var r=l.getBoundingClientRect(),i=a.getBoundingClientRect();"down"===e.direction?r.top<110&&r.bottom>=window.innerHeight&&!a.classList.contains("dock")?t(a,i):r.bottom<=i.bottom&&a.classList.contains("dock")&&n(a):"up"===e.direction&&(r.top<0&&r.bottom>=window.innerHeight&&!a.classList.contains("dock")?t(a,i):r.top>110&&r.top>=i.top&&a.classList.contains("dock")&&n(a,!0))}(r),[].slice.call(s).forEach(function(e){var t=e.getBoundingClientRect();t.top>=0&&t.bottom<=window.innerHeight&&(e.parentNode.querySelector(":scope > .active")&&(e.parentNode.querySelector(":scope > .active").classList.remove("active"),a.querySelector(".active").classList.remove("active")),a.querySelector('[data-index="'+e.dataset.index+'"]').classList.add("active"),e.classList.add("active"))}))}var a,s,l=document.querySelector("[data-spark]");return r.subscribe("app.start",function(){l&&(a=l.querySelector(".media-module"),s=l.querySelectorAll("section"),r.subscribe("scroll",o))}),{}}},{"in-viewport":4,"pubsub-js":22}],68:[function(e,t,n){var r=(e("pubsub-js"),e("lodash")),i=(e("../tools/smoothScroll"),e("reqwest"),e("../helpers/delegate"));t.exports=function(e){"use strict";function t(){w.cluster._clusters.forEach(function(e){if(1==e._markers.length){var t=e._markers[0].store;e._clusterMarker.addEventListener("click",function(e){var t=e;return function(e){l(t)}}(t))}})}function n(){var e=window.stores;for(var t in e){var n=e[t];n.id=t;var r=n.coords,i=R(r.lat,r.lng);n.point=new BMap.Point(i.lon,i.lat),w.stores.push(n)}W(),function(){U();for(var e=w.stores.sort(function(e,t){return e.dist-t.dist}).filter(function(e){return e.dist<1e5}),t=[],n=0,r=e.length;n<r&&n<e.length;n+=10)t.push(e.slice(n,n+10));for(n=0;n<t.length;n++){var i=t[n];a(i),B(i,[])}}(),H(),o(),w.map.addEventListener("moveend",function(e){o()}),w.map.addEventListener("zoomend",function(e){o()})}function o(){var e;q||(q=!0,(e=j().vis.filter(function(e){return null==e.marker})).length>0&&(a(e),B(e,[])),s(),t(),q=!1)}function a(e){for(var t=0;t<e.length;t++){var n,r=e[t];r.marker?n=r.marker:((n=u(r)).id=r.id,r.marker=n),null==n&&console.log("Marker failed to create for store "+r.id),n.addEventListener("click",function(e){var t=r.id;return function(){l(h(t))}}())}}function s(){var e=j().vis,t=!1;if(z.length!==e.length)t=!0;else for(n=0;n<e.length;n++)e[n]!=z[n]&&(t=!0);if(z=e,!1!==t&&0!=e.length&&e.length!=w.visible_stores){for(w.visible_stores=e.length;x.firstChild;)x.removeChild(x.firstChild);e=e.slice(0,15),e=r.sortBy(e,[function(e){return e.dvStore?-1:0},"dist"]);for(var n=0;n<e.length;n++)d(e[n])}}function l(e){if(null!=e.marker){w.map.closeInfoWindow();var t=new BMap.InfoWindow(e.info,{enableCloseOnClick:!0,enableAutoPan:!0});t.setHeight(w.height*window.config.mapCn.infoWindowHeight),w.map.openInfoWindow(t,e.marker.point),function(e){x.querySelector('[data-storelist="'+e+'"]').classList.add("active")}(e.id),t.addEventListener("close",function(){x.querySelector(".active")&&x.querySelector(".active").classList.remove("active")})}else console.log("Store has no marker")}function c(e){w.user.point=e,w.user.marker&&w.map.removeOverlay(w.user.marker);var t=w.user.marker=u({type:"current-position",id:"current",anim:!0,point:w.user.point});w.map.addOverlay(t),(new BMap.Geocoder).getLocation(w.user.point,function(e){w.user.city=e?e.addressComponents.city:""})}function u(e){var t=window.config.mapCn.markers.default,n=window.config.mapCn.markerSizes.default.split("*");window.config.mapCn.markers[e.type]&&(t=window.config.mapCn.markers[e.type],n=window.config.mapCn.markerSizes[e.type].split("*"));var r=F[t];if(null==r&&(r=new BMap.Icon(t,new BMap.Size(parseInt(n[0]),parseInt(n[1]))),F[t]=r),null==e.point||null==e.point.lat||0==e.point.lat)return console.log("Store point incorect : "+e.id+":"+JSON.stringify(e.point)),null;var i=new BMap.Marker(e.point,{icon:r});return e.anim&&i.setAnimation(BMAP_ANIMATION_DROP),i.store=e,i}function d(e){var t=document.createElement("li"),n=e.info,r=M.parseFromString(n,"text/html").querySelectorAll("[data-map-list]");t.innerHTML='<div class="map-info"></div>',t.dataset.storelist=e.id;var i=t.querySelector(".map-info");if([].slice.call(r).forEach(function(e){i.appendChild(e)}),i.querySelector(".bt-directions")){var o=w.user.point.lat+","+w.user.point.lng,a=e.point.lat+","+e.point.lng,s=String.format(window.config.mapCn.directions.href,o,a);i.querySelector(".bt-directions").setAttribute("href",s),i.querySelector(".bt-directions").setAttribute("target","_blank")}x.appendChild(t)}function h(e){for(var t=0;t<w.stores.length;t++)if(w.stores[t].id==e)return w.stores[t]}function f(e){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){w.geo.point=new BMap.Point(e.coords.longitude,e.coords.latitude),w.stores=[],g()},function(t){switch(t.code){case t.PERMISSION_DENIED:case t.POSITION_UNAVAILABLE:case t.TIMEOUT:case t.UNKNOWN_ERROR:}p(e)}):p(e)}function p(e){(new BMap.LocalCity).get(function(t){console.log(t),e(t.center)})}function m(e){T.blur(),S.blur();var t=e,n=t.province+t.city+t.district+t.street+t.business,r=k;r=t.city?C:r,r=t.street?L:r,(new BMap.Geocoder).getPoint(n,function(e){e&&(c(e),U(),H(r))})}function v(e){console.log("textSearch : "+e),new BMap.LocalSearch("all",{renderOptions:{},onSearchComplete:m}).search(e)}function g(){var e;w.markers=function(){return w.stores.map(function(e){return e.marker})},null==w.geo.point?(console.log("we do not have user loc"),e=function(e){w.geo.point=new BMap.Point(e.lng,e.lat),y()},(new BMap.Geolocation).getCurrentPosition(function(t){this.getStatus()==BMAP_STATUS_SUCCESS&&0!=t.point.lat?e(t.point):(console.error("Failed to get baidu geo"+this.getStatus()),f(e))},{enableHighAccuracy:!1})):y()}function y(){w.map=new BMap.Map(w),c(w.geo.point);var e=w.map;e.centerAndZoom(w.geo.point,window.config.mapCn.defaultZoomLevel),e.addControl(new BMap.NavigationControl),e.addControl(new BMap.ScaleControl),e.enableKeyboard(),e.addControl(new BMap.MapTypeControl({mapTypes:[BMAP_NORMAL_MAP]})),e.setMapStyle({styleJson:window.config.mapCn.styles}),Y(),i(document.body,"keyup","[data-map-address]",function(e){e.preventDefault(),13==e.keyCode&&(e.currentTarget.blur(),v(e.currentTarget.value))}),i(document.body,"submit","[data-search-form-cn]",function(e){e.preventDefault(),v(T.value)}),i(b,"submit","[data-search-form-cn]",function(e){e.preventDefault(),v(S.value)}),i(b,"click","[data-storelist]",function(e){e.currentTarget,l(h(+e.currentTarget.dataset.storelist))}),n(),document.body.classList.add("map-ready")}function _(){i(document.body,"click","[data-geoloc-storeloc]",f),null!=w&&null!=w.map&&w.map.reset(),(w=document.getElementById("store-map"))&&(b=document.getElementById("store-locator"),x=document.querySelector("#store-locator .store-list"),T=document.querySelector("[data-map-address]"),S=b.querySelector("[data-map-address]"),w.user={},w.user.city="",w.geo={},null!=window.userLocationCn&&(w.geo.point=new BMap.Point(window.userLocationCn.lng,window.userLocationCn.lat)),w.stores=[],g(),document.getElementById("store-map").style.height=window.innerHeight-8.25*parseFloat(getComputedStyle(document.documentElement).fontSize)+"px")}var b,w,x,S,T,E,A,M=new DOMParser,L=15,C=13,k=10,D=3.141592653589793,I=3e3*D/180,O=6378245,P=.006693421622965943,N=function(e,t){var n=function(e,t){var n=2*e-100+3*t+.2*t*t+.1*e*t+.2*Math.sqrt(Math.abs(e));return n+=2*(20*Math.sin(6*e*D)+20*Math.sin(2*e*D))/3,(n+=2*(20*Math.sin(t*D)+40*Math.sin(t/3*D))/3)+2*(160*Math.sin(t/12*D)+320*Math.sin(t*D/30))/3}(t-105,e-35),r=function(e,t){var n=300+e+2*t+.1*e*e+.1*e*t+.1*Math.sqrt(Math.abs(e));return n+=2*(20*Math.sin(6*e*D)+20*Math.sin(2*e*D))/3,(n+=2*(20*Math.sin(e*D)+40*Math.sin(e/3*D))/3)+2*(150*Math.sin(e/12*D)+300*Math.sin(e/30*D))/3}(t-105,e-35),i=e/180*D,o=Math.sin(i),a=1-P*o*o,s=Math.sqrt(a);return{lat:e+(n=180*n/(O*(1-P)/(a*s)*D)),lon:t+(r=180*r/(O/s*Math.cos(i)*D))}},R=function(e,t){var n=N(e,t);return function(e,t){var n=Math.sqrt(t*t+e*e)+2e-5*Math.sin(e*I),r=Math.atan(e/t)+3e-6*Math.cos(t*I);return{lat:n*Math.sin(r)+.006,lon:n*Math.cos(r)+.0065}}(n.lat,n.lon)},q=!1,z=[],F={},j=function(){for(var e=w.map.getBounds(),t=[],n=[],r=0;r<w.stores.length;r++){var i=w.stores[r];e.containsPoint(i.point)?(t.push(i),i.visible=!0):(n.push(i),i.visible=!1)}return{vis:t}},B=function(e){var t=e.map(function(e){return e.marker});w.cluster.addMarkers(t)},W=function(){var e=[{url:window.config.mapCn.cluster.img,size:new BMap.Size(window.config.mapCn.cluster.width,window.config.mapCn.cluster.height),textColor:"#fff",textSize:14}],t=new BMapLib.MarkerClusterer(w.map,{});t.setMinClusterSize(1),w.cluster=t,t.setStyles(e),t.setMaxZoom(window.config.mapCn.maxClusterZoom)},U=function(){w.stores.forEach(function(e){e.dist=w.map.getDistance(w.user.point,e.point)})},H=function(e){var n=null==w.stores||0==w.stores.length?[]:[w.stores.sort(function(e,t){return e.dist-t.dist})[0]],r=[w.user.point];r=r.concat(n.map(function(e){return e.point}));var i=w.map.getViewport(r);e<i.zoom&&(i.zoom=e),i.zoom=i.zoom-1,w.map.setViewport(i),setTimeout(function(){t(),s()},200)},Y=function(){E=new BMap.Autocomplete({input:T,location:w.user.city,types:["city"]}),A=new BMap.Autocomplete({input:S,location:w.user.city,types:["city"]});var e=function(e){m(e.item.value)};E.addEventListener("onconfirm",e),A.addEventListener("onconfirm",e)};String.format=function(){for(var e=arguments[0],t=1;t<arguments.length;t++){var n=new RegExp("\\{"+(t-1)+"\\}","gm");e=e.replace(n,arguments[t])}return e},window.initMapCn=function(){_()}}},{"../helpers/delegate":34,"../tools/smoothScroll":80,lodash:15,"pubsub-js":22,reqwest:23}],69:[function(e,t,n){var r=(e("pubsub-js"),e("lodash")),i=e("../tools/smoothScroll");e("reqwest"),e("../tools/jsonParams"),delegate=e("../helpers/delegate"),t.exports=function(e){"use strict";function t(){google.maps.event.addListener(A.map,"bounds_changed",function(){s(),A.search&&A.search.setBounds&&A.search.setBounds(A.map.getBounds())}),google.maps.event.addListener(A.map,"idle",function(){f()}),delegate(document.body,"submit","[data-search-form]",function(e){e.preventDefault(),a(L.closest("form")),n(e.currentTarget)}),delegate(E,"click","[data-marker]",function(e){var t=e.currentTarget,n=+e.currentTarget.dataset.marker;A.map.panTo(A.markers[n].position),t.classList.contains("active")?w():x(n)}),delegate(document.body,"change","[data-filter]",m),delegate(document.body,"click","[data-geoloc-storeloc]",u),A.search&&A.search.addListener("place_changed",function(e){C=document.querySelector("[data-search-form]"),function(){a(L.closest("form"));var e=A.search.getPlace();if(L.blur(),o(),e&&e.geometry)if(0!=e.length)A.map.setCenter({lat:e.geometry.location.lat(),lng:e.geometry.location.lng()}),d(e);else{var t='<li class="empty"><p>'+window.config.map.location404+"</p></li>";M.innerHTML=t}else n(0,!0)}()})}function n(e,t){D.geocode({address:C.elements[0].value},function(e,n){var r;A.map.setZoom(window.config.map.minimumStoreDezoom),r="OK"===n?e[0].geometry.location:{lat:userLocation.position.lat,lng:userLocation.position.lng},t?d(r,!0):A.map.setCenter(r)})}function o(){i.go({easing:{effect:"Cubic",type:"InOut"},from:window.pageYOffset,to:e.nav.eltOffset(document.getElementById("store-locator")).top-e.nav.navsOffset(),timing:1e3,callback:function(){feature.touch&&!document.getElementById("store-locator").classList.contains("activate")&&E.querySelector("[data-toggle]").click()}})}function a(e){e.querySelectorAll("[data-filter]").forEach(function(e){e.checked&&(e.removeAttribute("checked"),e.checked=!1)})}function s(e){var t=A.map.getBounds(),n=[];for(var r in M.innerHTML="",A.markers)t.contains(A.markers[r].position)&&(A.markers[r].distance=l(A.markers[r]),n.push(A.markers[r]));if(e)return n;g(n)}function l(e){return google.maps.geometry.spherical.computeDistanceBetween(e.getPosition(),new google.maps.LatLng(userLocation.position))}function c(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}function u(e){if(a(L.closest("form")),navigator.geolocation){var t=e.currentTarget.closest(".mod-map").querySelector(".store-loader");t.classList.add("active"),navigator.geolocation.getCurrentPosition(function(e){t.classList.remove("active"),userLocation={position:{lat:e.coords.latitude,lng:e.coords.longitude},zoom:window.config.map.defaultClusterZoomLevel},S()},function(e){switch(e.code){case e.PERMISSION_DENIED:case e.POSITION_UNAVAILABLE:case e.TIMEOUT:case e.UNKNOWN_ERROR:}S()})}}function d(e,t,n){var r=Array.isArray(e)?e[0]:e,i=0,o=r.geometry?r.geometry.location.lat():r.lat(),a=r.geometry?r.geometry.location.lng():r.lng(),l=new google.maps.LatLng(o,a),c=function(e){return!!e.dvStore};w(),n||h({position:{lat:o,lng:a}}),A.map.panTo(l),A.map.setZoom(16);var u=s(!0);if((0==u.length||1==u.length&&"current-position"===u[0].type||!u.some(function(e){return c(e)}))&&(A.map.setZoom(window.config.map.defaultSearchLevel),0==(u=s(!0)).length||!u.some(function(e){return c(e)}))){f();for(var d=b(A.markers),p=new google.maps.LatLngBounds;i<d.length;i++)if(d[i].dvStore){p.extend(d[i].getPosition());break}if(p.extend(l),A.map.fitBounds(p),A.map.getZoom()<window.config.map.minimumStoreDezoom){var m=new google.maps.LatLngBounds;A.map.setZoom(window.config.map.minimumStoreDezoom),A.map.setCenter(l),m.extend(l),m.extend(d[1].getPosition()),A.map.fitBounds(m)}}A.search&&(t||A.search.getPlace()&&A.search.getPlace()&&A.search.getPlace().types&&"locality"===A.search.getPlace().types[0]&&A.map.getZoom()>window.config.map.defaultCitySearchLevel)&&A.map.setZoom(window.config.map.defaultCitySearchLevel),k&&A.map.setZoom(userLocation.zoom||window.config.map.defaultShareLevel),s()}function h(e,t){A.markers.current&&A.markers.current.setMap(null),_({type:"current-position",id:"current",coords:e.position,anim:!0},!0),t||(userLocation=e,userLocation.str=userLocation.position.lat+","+userLocation.position.lng,userLocation.zoom=window.config.map.defaultZoomLevel)}function f(){for(var e in A.markers)A.markers[e].distance=l(A.markers[e])}function p(){A.markersSet=[],A.markers={},A.infoWindows={},A.locations={},h(userLocation,!0),function(e){for(var t in e)window.mapstores[t]=e[t],window.mapstores[t].id=t,v(window.mapstores[t]),_(window.mapstores[t])}(window.stores),A.search=new google.maps.places.Autocomplete(L),C=document.querySelector("[data-search-form]"),t(),A.markerCluster=new MarkerClusterer(A.map,A.markersSet,{minimumClusterSize:window.config.map.minimumClusterItems,maxZoom:window.config.map.maxClusterZoom,styles:[{textColor:"#ffffff",height:window.config.map.cluster.height,url:window.config.map.cluster.img,width:window.config.map.cluster.width}]}),google.maps.event.addListener(A.markerCluster,"clusterclick",function(e){window.requestAnimationFrame(function(){s(),A.map.getZoom()>window.config.map.defaultClusterZoomLevel&&A.map.setZoom(window.config.map.defaultClusterZoomLevel);var e=s(!0);1===e.length&&x(e[0].id)})}),document.body.classList.add("map-ready")}function m(e){var t=e.currentTarget,n=s(!0),r=t.closest("form").querySelectorAll("[data-filter]"),i=[],o=[],a=[],l=[],c=[];M.innerHTML="",[].slice.call(r).forEach(function(e){e.checked&&i.push(e.dataset.filter)}),n.forEach(function(e){var t=e.products||[],n=e.features||[],r=void 0!==e.subtype?e.subtype:e.type;for(var s in t)!0!==t[s]||o.includes(s)||o.push(s);for(var u in"current-position"===r||o.includes(r)||o.push(r),n)!0!==n[u]||o.includes(u)||o.push(u);Array.prototype.diff=function(e){return this.filter(function(t){return e.indexOf(t)<0})},void 0===(a=i.diff(o))||0==a.length||void 0===i||0==i.length||"current-position"==e.type?(e.setVisible(!0),l.push(e),c.push(e)):[].slice.call(a).forEach(function(t){i.includes(t)?e.setVisible(!1):(e.setVisible(!0),l.push(e),c.push(e))}),o=[]}),g(c),A.markerCluster.clearMarkers(),A.markerCluster.addMarkers(l)}function v(e){A.infoWindows[e.id]=new google.maps.InfoWindow({content:e.info})}function g(e){var t=0,n=(e=b(e,!0)).length;for(0===n&&y();t<n;t++)y(e[t].id)}function y(e){if("current"!==e){var t=document.createElement("li");if(!e)return t.classList="empty",t.innerHTML="<p>"+window.config.map.empty+"</p>",void M.appendChild(t);var n=A.infoWindows[e].content,r=I.parseFromString(n,"text/html").querySelectorAll("[data-map-list]");t.innerHTML='<div class="map-info"></div>',t.dataset.marker=e;var i=t.querySelector(".map-info");if([].slice.call(r).forEach(function(e){i.appendChild(e)}),i.querySelector(".bt-directions")){var o=A.markers[e].position.lat()+","+A.markers[e].position.lng(),a=window.config.map.directions.href.replace("#{origin}",userLocation.str).replace("#{destination}",o);i.querySelector(".bt-directions").setAttribute("href",a),i.querySelector(".bt-directions").setAttribute("target","_blank")}M.appendChild(t)}}function _(e,t){if(!A.markers[e.id]||"current-position"===e.type){var n=window.config.map.markers.default;window.config.map.markers[e.type]&&(n=window.config.map.markers[e.type]),A.markers[e.id]=new google.maps.Marker({position:e.coords,map:A.map,icon:n,animation:e.anim?google.maps.Animation.DROP:null,id:e.id,type:e.type,subtype:e.subtype,products:e.products,features:e.features,dvStore:e.dvStore,zIndex:e.dvStore?5:4}),A.markers[e.id].setMap(A.map),A.markers[e.id].addListener("click",function(){t?A.map.panTo(e.coords):x(e.id)}),t||-1===A.markersSet.indexOf(e.id)&&A.markersSet.push(A.markers[e.id])}}function b(e,t){var n=t?[function(e){return e.dvStore?-1:0},"distance"]:"distance";return r.sortBy(e,n)}function w(e){e=e||"current",A.infoWindows[e]&&A.infoWindows[e].close(),M.querySelector(".active")&&M.querySelector(".active").classList.remove("active"),document.body.classList.remove("infowindow-open")}function x(e){A.map.getZoom()<=window.config.map.maxClusterZoom&&A.map.setZoom(window.config.map.maxClusterZoom+1),s(),w(),M.querySelector('[data-marker="'+e+'"]').classList.add("active"),A.infoWindows.current=A.infoWindows[e],A.infoWindows[e].open(A.map,A.markers[e]),google.maps.event.addListener(A.infoWindows[e],"closeclick",function(){w(),google.maps.event.clearListeners(A.infoWindows[e],"closeclick")}),document.body.classList.add("infowindow-open")}function S(){D=new google.maps.Geocoder,userLocation.str=userLocation.position.lat+","+userLocation.position.lng,A.map=new google.maps.Map(A,{center:userLocation.position,zoom:userLocation.zoom,styles:window.config.map.styles,panControl:!0,zoomControl:!0,mapTypeControl:!1,scaleControl:!0,streetViewControl:!1,overviewMapControl:!0,scrollwheel:!1,fullscreenControl:!1,gestureHandling:"cooperative",rotateControl:!1,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP}}),p()}function T(){if(A=document.getElementById("store-map")){window.mapstores=[],E=document.getElementById("store-locator"),M=document.querySelector("#store-locator .store-list"),L=document.querySelector("[data-map-address]"),feature.touch&&delegate(document.body,"change","[data-places]",function(e){window.setTimeout(function(){var t=e.target.value;[].slice.call(document.querySelectorAll("[data-places]")).forEach(function(e){e.value=t,t.length>0?e.classList.add("filled"):e.classList.remove("filled")})},500)});const e=c("lat"),t=c("lng"),n=c("zoom");null!==e&&null!==t?null!==n?(userLocation={position:{lat:parseFloat(e),lng:parseFloat(t)},zoom:parseFloat(n)},S()):(userLocation={position:{lat:parseFloat(e),lng:parseFloat(t)},zoom:12},S()):S()}}var E,A,M,L,C,k,D,I=new DOMParser;return window.initMap=function(){T()},{init:T}}},{"../helpers/delegate":34,"../tools/jsonParams":77,"../tools/smoothScroll":80,lodash:15,"pubsub-js":22,reqwest:23}],70:[function(e,t,n){var r=e("pubsub-js"),i=e("reqwest"),o=e("../helpers/delegate"),a=e("in-viewport");t.exports=function(){"use strict";function e(){var e=document.getElementById("subscription-popin");document.getElementById("subscription-form-popin"),null!==e&&(window.addEventListener("scroll",function(){a(e)&&document.cookie.indexOf("cookieSubscribe")<0&&(function(e,t,n){var r=e+"="+escape(t)+";";n&&(n instanceof Date&&isNaN(n.getTime())&&(n=new Date),n=new Date((new Date).getTime()+1e3*parseInt(n)*60*60*24),r+="expires="+n.toGMTString()+";"),document.cookie=r}("cookieSubscribe",1,30),e.classList.add("showPopin"),[].forEach.call(document.querySelectorAll(".subscription-button-popin"),function(e){e.addEventListener("click",function(){this.parentNode.parentNode.parentNode.querySelector(".subscription-form").classList.add("showForm"),this.parentNode.parentNode.parentNode.querySelector(".titles").classList.add("showForm"),this.parentNode.parentNode.parentNode.querySelector(".intro").style.display="none"},!1)}))}),[].forEach.call(document.querySelectorAll("#close-subscription-popin"),function(t){t.addEventListener("click",function(){e.classList.contains("showPopin")&&e.classList.remove("showPopin")},!1)})),[].forEach.call(document.querySelectorAll(".intro-button"),function(e){e.addEventListener("click",function(){this.parentNode.parentNode.parentNode.querySelector(".subscription-form").classList.add("showForm"),this.parentNode.parentNode.parentNode.querySelector(".titles").classList.add("showForm"),this.parentNode.parentNode.parentNode.querySelector(".intro").style.display="none"},!1)}),o(document.body,"submit","[data-post-call]",t)}function t(e){e.preventDefault();var t=e.currentTarget,n=t.querySelector("[data-message]"),r=n.closest(".custom-textfield"),o=t.parentNode.querySelector("[data-post-response]"),a=r.querySelector(".msg-error"),s=r.querySelector(".msg-valid");a.innerHTML=" ",s.innerHTML="Loading",i({url:t.dataset.postCall,method:"POST",data:n.id+"="+n.value,success:function(e){1==e.valid?(o.setAttribute("aria-hidden",!1),t.setAttribute("aria-hidden",!0),r.classList.contains("error")&&r.classList.remove("error"),r.classList.add("valid"),s.innerHTML=e.message):(r.classList.contains("valid")&&r.classList.remove("valid"),r.classList.add("error"),s.innerHTML=" ",a.innerHTML=e.message)}})}return r.subscribe("app.start",function(){e()}),{}}},{"../helpers/delegate":34,"in-viewport":4,"pubsub-js":22,reqwest:23}],71:[function(e,t,n){var r=e("pubsub-js"),i=(e("reqwest"),e("../tools/smoothScroll")),o=e("../helpers/delegate");t.exports=function(e){"use strict";function t(){o(document.body,"click",".bt-menu",c),o(document.body,"focusin",".bt-modal",a),o(document.body,"focusout",".bt-modal",s),o(document.body,"focusin",".tab-access",n),o(document.body,"focusout",".tab-access",l),o(document.body,"click","#contrast",function(e){document.body.classList.contains("contrast")?(function(e){var t=e+"="+escape(0)+";expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/";document.cookie=t}("contrastAccess"),document.body.classList.remove("contrast"),e.currentTarget.classList.remove("increase")):(function(e,t,n){var r=e+"="+escape(t)+";";n&&(n instanceof Date&&isNaN(n.getTime())&&(n=new Date),n=new Date((new Date).getTime()+1e3*parseInt(n)*60*60*24),r+="expires="+n.toGMTString()+"; path=/"),document.cookie=r}("contrastAccess",1,30),document.body.classList.add("contrast"),e.currentTarget.classList.add("increase"))}),document.cookie.indexOf("contrastAccess")>0&&(document.body.classList.add("contrast"),document.querySelector("#contrast").classList.add("increase")),o(document.body,"click",".bt-control-video",function(e){const t=e.currentTarget,n=t.parentNode.querySelector("video");t.classList.contains("pause")?(n&&n.play(),t.classList.remove("pause")):(n&&n.pause(),t.classList.add("pause"))})}function n(e){var t=e.currentTarget,n=document.documentElement.scrollTop,r=80;if(document.querySelector(".main-header + main")){var o=document.querySelector(".main-header + main"),a=o.querySelector("#nav-wrapper");if(t.classList.remove("hide"),"go2content"==t.id){a?(a.nextElementSibling.id="main-content",r=document.querySelector(".page-nav").clientHeight||document.querySelector(".breadcrumb").clientHeight):o.getElementsByTagName("div")[0].nextElementSibling.id="main-content";var s=document.querySelector("#main-content");t.classList.remove("hide"),t.addEventListener("click",function(e){i.go({easing:{effect:"Cubic",type:"InOut"},from:n,url:"URL",to:s.getBoundingClientRect().top+(n-r),timing:1e3})},!1)}}}function a(e){var t=e.currentTarget,n=t.parentNode.querySelector("[data-modal]"),r=n.getAttribute("data-modal");n.removeAttribute("data-modal"),t.setAttribute("data-modal",r)}function s(e){var t=e.currentTarget,n=t.parentNode,r=JSON.parse(t.dataset.modal),i=n.querySelector("[data-slider]"),o=t.getAttribute("data-modal");document.querySelector(r.target),t.removeAttribute("data-modal"),i&&i.setAttribute("data-modal",o)}function l(e){e.currentTarget.classList.add("hide")}function c(e){var t=document.querySelector(".main-nav"),n=t.querySelector("button");setTimeout(function(){n.focus()},500),t.querySelector("[data-toggle]").addEventListener("click",function(){e.currentTarget.focus()}),t.addEventListener("keyup",function(t){27==(t=t||window.event).keyCode&&e.currentTarget.focus()})}return r.subscribe("app.start",function(){document.cookie.indexOf("cookieAccessibility")>0&&document.body.classList.add("accessibility"),t()}),{}}},{"../helpers/delegate":34,"../tools/smoothScroll":80,"pubsub-js":22,reqwest:23}],72:[function(e,t,n){var r=e("pubsub-js"),i=e("../helpers/delegate"),o=e("../tools/tablist"),a=e("reqwest");t.exports=function(){"use strict";function e(e){var t,r=e.currentTarget,s=(r.closest("[data-product]"),JSON.parse(r.dataset.updateTarget));t="&total="+s.price,a({url:s.url,method:s.method,data:t,success:function(e){if(r.dataset.modal){var t=JSON.parse(r.dataset.modal);c=document.querySelector(t.target).querySelector(s.target)}else c=document.querySelector(s.target);c.innerHTML=e.html;var a=c.querySelector('[role="tablist"]'),l=document.querySelector("#oney-response-payment");if(new o(a),i(a,"click",'[role="tab"]',n),l){var c,u=l.querySelector("[data-input-payment][aria-selected=true]");(c=u.closest(".field").querySelector('[name="payment-method"]')).value=u.dataset.inputPayment}}})}function t(e){var t=e.currentTarget;t.closest(".field").querySelector('[name="payment-method"]').value=t.dataset.inputPayment}function n(e){for(var t=e.currentTarget.parentNode,n=t.closest('[role="tablist"]'),r=n.querySelectorAll(".item"),i=0;i<r.length;i++)r[i].classList.remove("active"),t.classList.add("active");if(n.closest("#media-tab"))for(var o=e.currentTarget,a=n.closest("#media-tab").querySelectorAll("[data-tablist]"),s=o.getAttribute("aria-controls"),l=0;l<a.length;l++){var c=a[l].querySelector("img");s==a[l].dataset.tablist?(c.getAttribute("data-src")&&(c.src=c.dataset.src,c.removeAttribute("data-src")),a[l].setAttribute("aria-hidden",!1)):a[l].setAttribute("aria-hidden",!0)}}function s(e){var t=e.currentTarget,n=t.closest('[role="tablist"]').querySelectorAll('[role="tab"]'),r=t.getAttribute("aria-controls"),i=document.querySelector("#"+r),o=i.parentNode.querySelectorAll('[role="tabpanel"]');e.preventDefault(),o.forEach(function(e){e.setAttribute("aria-hidden",!0)}),i.setAttribute("aria-hidden",!1),n.forEach(function(e){e.setAttribute("aria-selected",!1),e.setAttribute("aria-expended",!1),e.classList.remove("active")}),t.setAttribute("aria-selected",!0),t.setAttribute("aria-expended",!0),t.classList.add("active")}function l(){document.querySelectorAll('.tablist[role="tablist"]').forEach(function(e){new o(e),i(e,"click",'[role="tab"]',n),i(e,"keyup",'[role="tab"]',n)}),i(document.body,"change","input[data-update-target]",e),i(document.body,"click","button[data-update-target]",e),i(document.body,"click","#oney-response-payment [data-input-payment]",t),document.querySelectorAll('.toggle-colors[role="tablist"]').forEach(function(e){if(window.mobile||window.tablet)i(e,"touchstart",'[role="tab"]',s);else{i(e,"mouseover",'[role="tab"]',s),i(e,"keyup",'[role="tab"]',s);var t=e.querySelectorAll('[role="tab"]');e.parentNode.querySelectorAll(".bottom").forEach(function(e){var n=window.getComputedStyle(e,null).paddingLeft,i=parseInt(n.substring(0,n.length-2));e.style.paddingRight=48*t.length+i+"px",r.subscribe("resize",function(){e.style.paddingRight=48*t.length+i+"px"})})}})}return r.subscribe("app.start",l),{init:l}}},{"../helpers/delegate":34,"../tools/tablist":81,"pubsub-js":22,reqwest:23}],73:[function(e,t,n){var r=e("pubsub-js"),i=(e("reqwest"),e("../helpers/delegate"));t.exports=function(e){"use strict";function t(e,t,n,r){for(var i=!1,o=dynDataLayer.Page.PageProducts,a=0;a<o.length;a++)o[a],o.sku==e&&(i=!0);i||o.push({sku:e,name:t,price:n,category:r})}function n(e,n,r,i,o){d[e]={name:n,price:r,category:i},1==o&&t(e,n,r,i)}function o(e,n){n=n||null;for(var r=dynDataLayer.Page.PageProducts,i=0;i<r.length;i++){var o=r[i];o.sku!=e&&void 0!=d[o.sku]&&r.splice(o,1)}var a=d[e];t(e,a.name,a.price,a.category);var s={event:"change-pageid",Page:{PageProducts:dynDataLayer.Page.PageProducts}};n&&"undefined"!==n&&(s.Page.PageId=n),dataLayer.push(s),console.log(s)}function a(e,t,n,r,i){var o=!1;dynDataLayer.Quote&&dynDataLayer.Quote.QuoteProducts||(dynDataLayer.Quote=[],dynDataLayer.Quote.QuoteProducts=[]);for(var a=0;a<dynDataLayer.Quote.QuoteProducts.length;a++){var s=dynDataLayer.Quote.QuoteProducts[a];s.sku==e&&(o=!0,0==s.quantity&&quoteProducts.splice(product,1))}o||dynDataLayer.Quote.QuoteProducts.push({sku:e,name:t,price:n,quantity:r,category:i});var l={event:"add-to-bag",product:{sku:e,name:t,price:n,quantity:r,category:i},Quote:{QuoteProducts:dynDataLayer.Quote.QuoteProducts}};dataLayer.push(l),console.log(l)}function s(e){var t=e.currentTarget,n=(t.matches("form")?t:t.closest("form")).querySelector("[data-gtm-email]");n&&n.value.length>1&&(dataLayer.push({event:n.dataset.gtmEmail,email:n.value}),console.log({event:n.dataset.gtmEmail,email:n.value}))}function l(e){var t=e.currentTarget,n=JSON.parse(t.dataset.gtmCheckout),r=n.event,i=n.pageID;dataLayer.push({event:r,Page:{PageID:i}}),console.log({event:r,Page:{PageID:i}})}function c(e){var t=e.currentTarget.dataset.gtmEvent;dataLayer.push({event:t}),console.log({event:t})}function u(e){var t=e.currentTarget.closest("form"),n=t.querySelectorAll(".payment-method");if(t.querySelector('input[id="cgv"]').checked)for(var r=0;r<n.length;r++){var i=n[r];i.checked&&(dataLayer.push({event:i.value}),console.log({event:i.value}))}}var d=[];return r.subscribe("app.start",function(){document.body.classList.contains("tag_gtm")&&(function(){if(window.gmttracking=function(e,t){switch(e){case"product.change":o((t=JSON.parse(t)).sku,t.pageid);break;case"product.optionChange":o(t.sku);break;case"product.change.bysku":o(t);break;case"basket.update":case"checkout.quantityChange":t=JSON.parse(t);var n=parseInt(t.quantity);(!n||n<1)&&(n=1),a(t.sku,t.title,t.price,n,t.model);break;case"scroll":dataLayer.push({event:t})}},document.querySelector("[data-gtm-layer]"))for(var e=document.querySelectorAll("[data-gtm-layer]"),r=0;r<e.length;r++){var d=e[r],h=JSON.parse(d.dataset.gtmLayer);d.matches('input[type="radio"]')?n(h.sku,h.name,h.price,h.category,h.isShown):t(h.sku,h.name,h.price,h.category)}i(document.body,"change","[data-gtm-quantity]",function(e){var t=e.currentTarget,n=JSON.parse(t.dataset.gtmQuantity),r=parseInt(t.value);(!r||r<1)&&(r=1),a(n.sku,n.name,n.price,r,n.category)}),i(document.body,"click","[data-gtm-event]",c),i(document.body,"click","[data-gtm-payment]",u),i(document.body,"click","[data-submit-ajax]",s),i(document.body,"submit","[data-check-ajax]",s),i(document.body,"submit","[data-gtm-form]",s),i(document.body,"click","[data-gtm-checkout]",l)}(),"undefined"!=typeof dynDataLayer&&"undefined"!=typeof dataLayer&&dataLayer.push(dynDataLayer))}),{}}},{"../helpers/delegate":34,"pubsub-js":22,reqwest:23}],74:[function(e,t,n){var r=e("pubsub-js"),i=e("./imageFlipper"),o=e("in-viewport");t.exports=function(e){"use strict";function t(){r.subscribe("scroll",function(e,t){(function(e,t){var r=u.getBoundingClientRect(),i=p.menu.clientHeight+p.subnav.clientHeight,o=p.slides[0].clientHeight,a=p.flipper.clientHeight;x.matches&&(i=p.pageNav.clientHeight,a=o),t.pos>t.pos+r.bottom-a-i?(u.classList.remove(w.fixed),u.classList.add(w.bottom),n()):(u.classList.remove(w.bottom),t.pos>t.pos+r.top-i?(u.classList.remove(w.bottom),u.classList.add(w.fixed),g=!0):(u.classList.remove(w.fixed),u.classList.remove(w.sequencesOn),window.setTimeout(function(){u.classList.remove(w.transitionsOn)},1e3),y=0,s(),n()))})(0,t),l(0,t),function(e,t){!o(p.slides[0])||b||v||"down"===t.direction&&(b=!0,f.drawSets({indices:0,duration:m[0].duration,ended:function(){b=!1}}))}(0,t)})}function n(){g=!1}function a(e){v=e||!v,u.classList[v?"add":"remove"](w.loading),v?r.subscribe("technology.ready",c):r.publish("technology.ready")}function s(){p.slides.forEach(function(e,t){var n=t===y;e.setAttribute("aria-hidden","true"),n&&e.setAttribute("aria-hidden","false")})}function l(e,t){function n(){p.flipper.querySelector("canvas").style.opacity="down"===i?0:1,h.drawSets({indices:r.index,duration:r.duration,reversed:"down"!==i,ended:function(){_=!1}})}if(g){var r,i=t.direction,a="down"===i?y+1:y,l=p.slides[a],c=l?l.querySelector(".text"):null;if(l&&!v){if(m.forEach(function(e,t){if(e.id!==function(e){return e.split("tech-")[1].toLowerCase()}(l.id))return!1;(r=e).index=t}),"down"===i){if(!o(c))return;0===y&&(u.classList.add(w.transitionsOn),window.setTimeout(function(){u.classList.add(w.sequencesOn)},10)),y++}else{var d=p.slides[y-1]?p.slides[y-1].querySelector(".text"):null;if(d&&!o(d))return;r||(l=p.slides[y],(r=m[y]).index=y),y--}r&&(_&&h.stop({force:!0}),_=!0,b?function(e){b&&f.stop({clear:!0,callback:e})}(n):n(),s())}}}function c(){r.unsubscribe("technology.ready"),p.slides.forEach(function(e,t){o(e)&&(y=t-1,0!==t&&(u.classList.add(w.sequencesOn),window.setTimeout(function(){u.classList.add(w.transitionsOn)},0)))}),l(0,{direction:"down"})}var u,d,h,f,p={},m=[],v=!1,g=!1,y=0,_=!1,b=!1,w={fixed:"fixed",bottom:"bottom",loading:"loading",sequencesOn:"sequences-on",transitionsOn:"transition-on"},x=window.matchMedia("( min-width: 48em )");return r.subscribe("app.start",function(){if((u=document.querySelector(".mod-technology"))&&(p.flipper=u.querySelector("[data-image-flipper]"),p.slides=[].slice.call(u.querySelectorAll('[id^="tech-"]')),p.menu=document.querySelector("header.main-header .menu"),p.subnav=document.getElementById("subnav"),p.pageNav=document.querySelector(".page-nav")),u){if(!(d=window.config.imageFlippers[p.flipper.dataset.imageFlipper]))throw new Error("No matching configuration found in config.js for `"+u.dataset.imageFlipper+"` key.");(function(){var t=[];x.matches?(t.push(d.intro.desktop),t=t.concat(d.setsDesktop)):(t.push(d.intro.mobile),t=t.concat(d.setsMobile));var n=Promise.all(t.map(function(t){return m.push({id:t.id,duration:t.duration||1e3}),e.preloader.img(t.src)}));a(),n.then(function(e){a(!1);var t=e.slice(0,1);f=new i({assets:t,container:p.flipper,ratio:d.ratio,loop:!0}),h=new i({assets:e,container:p.flipper,ratio:d.ratio}),f.draw(0),h.draw(0)})})(),t()}}),{}}},{"./imageFlipper":47,"in-viewport":4,"pubsub-js":22}],75:[function(e,t,n){var r=e("pubsub-js"),i=e("../helpers/delegate");t.exports=function(e){"use strict";function t(){i(document.body,"click","[data-toggle]:not(input)",n),i(document.body,"change","input[data-toggle]",n),r.subscribe("toggle",function(e,t){t.action&&("toggle.open"!==e&&"toggle.close"!==e||window.requestAnimationFrame(function(){!function(e,t){if(window.desktop){var n=document.getElementById(t.id);window.requestAnimationFrame(function(){var e=n.querySelector("video");"play-video"===t.action&&e.play(),"pause-video"===t.action&&e.pause()})}}(0,t)}))})}function n(e){var t=e.currentTarget,n=JSON.parse(t.dataset.toggle);t.matches("input")||t.matches("label")||e.preventDefault(),t.classList.contains(n.class)?o(n):a(n)}function o(t,n){var i=document.getElementById(t.id),o=[].slice.call(document.querySelectorAll('[aria-controls="'+t.id+'"]')),a=!!t.anim;(n||!t.tabs||i.parentNode.querySelector(':scope > [aria-hidden="false"]').id!==t.id||t.triggerClose)&&(o.forEach(function(e){e.parentNode.classList.contains("item")?e.parentNode.classList.remove(t.class):e.classList.remove(t.class),e.setAttribute("aria-expanded",!1)}),a?e.anims.css("out",i,{running:"anim-running",done:"anim-done",basic:t.class}):i.classList.remove(t.class),t.noaria||i.setAttribute("aria-hidden",!0),t.body&&document.documentElement.classList.remove(t.body),i.open=!1,r.publish("toggle.close",t))}function a(t){t.multiple=Array.isArray(t.id)?t.id:null;var n=t.multiple?document.getElementById(t.id[0]):document.getElementById(t.id),i=[].slice.call(document.querySelectorAll('[aria-controls="'+t.id+'"]')),a=!!t.anim;if(!t.tabs||!n.parentNode.querySelector(':scope > [aria-hidden="false"]')||n.parentNode.querySelector(':scope > [aria-hidden="false"]').id!==t.id){if(i.forEach(function(e){e.parentNode.classList.contains("item")?e.parentNode.classList.add(t.class):e.classList.add(t.class),e.setAttribute("aria-expanded",!0)}),t.tabs)if(t.multiple)for(var l=0;l<t.multiple.length;l++)document.getElementById(t.multiple[l])&&s(t,document.getElementById(t.multiple[l]));else s(t,n);else if(!n.open){var c=function(e){27==e.keyCode&&(o(t),document.removeEventListener("keyup",c))};document.addEventListener("keyup",c)}if(t.clickClose&&window.requestAnimationFrame(function(){var e=function(n){n.target.closest("#"+t.id)||(o(t),document.body.removeEventListener("click",e))};document.body.addEventListener("click",e)}),a&&!t.multiple)e.anims.css("in",n,{running:"anim-running",done:"anim-done",basic:t.class},function(){window.setTimeout(function(){if(t.maincontent){var n=document.getElementById(t.maincontent.zone),r=window.config.templates[t.maincontent.template].replace("#{url}",t.maincontent.content);if(t.maincontent.params){var i="";for(var o in t.maincontent.params)i+="&"+o+"="+t.maincontent.params[o];r=r.replace("#{params}",i)}r=r.replace("#{params}",""),n.innerHTML=r,n.querySelector("[data-lazy-load]")&&e.lazy.load(n.querySelector("[data-lazy-load]"))}},300)});else if(t.multiple)for(l=0;l<t.multiple.length;l++)document.getElementById(t.multiple[l])&&document.getElementById(t.multiple[l]).classList.add(t.class);else n.classList.add(t.class);if(!t.noaria)if(t.multiple)for(l=0;l<t.multiple.length;l++)document.getElementById(t.multiple[l])&&document.getElementById(t.multiple[l]).setAttribute("aria-hidden",!1);else n.setAttribute("aria-hidden",!1);t.body&&document.documentElement.classList.add(t.body),t.layer&&!t.multiple&&document.body.addEventListener("click",function e(r){var i=r.target.closest("[aria-hidden]");(!i||i&&i!==n)&&(o(t),document.body.removeEventListener("click",e))}),n.open=!0,r.publish("toggle.open",t)}}function s(t,n){var r=t,i=n.parentNode.querySelector(':scope > [aria-hidden="false"]');i&&(void 0===r.triggerClose||r.triggerClose)&&(r.id=i.id,o(r,!0),n.querySelector("[data-slider]")&&window.requestAnimationFrame(function(t){[].slice.call(n.querySelectorAll("[data-slider]")).forEach(function(t){t.slider||e.sliders.init(t)})}))}return r.subscribe("app.start",function(){t()}),{}}},{"../helpers/delegate":34,"pubsub-js":22}],76:[function(e,t,n){t.exports=function(e){return Array.isArray(e[0])?e.reduce(function(e,t){return e.concat(t)},[]):e}},{}],77:[function(e,t,n){t.exports=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}},{}],78:[function(e,t,n){!function(e,n,r){"use strict";var i="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, [tabindex], [contentEditable]",o=["hide","show"],a=function(e,t){this.listeners={keydown:this.handleKeydown.bind(this),click:this.handleClick.bind(this),close:this.handleClose.bind(this)},this.callbacks={},this.init(e,t)};a.modalIndex=0,a.prototype.bind=function(){this.el.addEventListener("keydown",this.listeners.keydown,!0),this.el.addEventListener("click",this.listeners.click),this.el.closeBtns.forEach(function(e){e.addEventListener("click",this.listeners.close)}.bind(this))},a.prototype.createDom=function(e){var t=n.createElement(e.tagName||"div");if(e.className&&(t.className+=e.className),e.role?t.setAttribute("role",e.role):t.setAttribute("tabindex","-1"),t.setAttribute("aria-hidden","true"),t.setAttribute("aria-modal","true"),e.dom&&("string"==typeof e.dom?t.innerHTML=e.dom:(t.appendChild(e.dom),e.dom=!0)),e.label)t.setAttribute("aria-label",e.label);else if(e.role){var r,i,o=a.modalIndex,s=t.querySelector("[data-label]"),l=t.querySelector("[data-description]");s&&(r=s.id||"modalTitle"+o,s.id=r,t.setAttribute("aria-labelledby",r)),l&&(i=l.id||"modalDescription"+o,l.id=i,t.setAttribute("aria-describedby",i))}return t.options=e,t},a.prototype.disableDocument=function(){this.documentDisabled=!0;var e,t,r=[],o=[];Array.prototype.forEach.call(n.querySelectorAll(i),function(t){if(!this.el.contains(t)){if(e=t.getAttribute("tabindex")){if("-"===e.trim().slice(0,1))return;t.defaultTabindex=e}r.push(t),t.setAttribute("tabindex","-1")}}.bind(this)),this.disabledElements=r,Array.prototype.forEach.call(this.el.parentNode.children,function(e){if("SCRIPT"!==e.nodeName&&e!==this.el){if(t=e.getAttribute("aria-hidden")){if("true"===t)return;e.defaultAriaHidden=t}o.push(e),e.setAttribute("aria-hidden","true"),e.setAttribute("inert",!0)}}.bind(this)),this.hiddenElements=o},a.prototype.enableDocument=function(){this.disabledElements.forEach(function(e){this.enableElement(e)}.bind(this)),this.disabledElements.length=0,this.hiddenElements.forEach(function(e){this.showElement(e)}.bind(this)),this.hiddenElements.length=0,this.documentDisabled=!1},a.prototype.enableElement=function(e){e.defaultTabindex?(e.setAttribute("tabindex",e.defaultTabindex),delete e.defaultTabindex):e.removeAttribute("tabindex")},a.prototype.enableModal=function(){var e=[];this.disabledElements.forEach(function(t){this.el.contains(t)?this.enableElement(t):e.push(t)}.bind(this)),this.disabledElements=e},a.prototype.findInteractiveElement=function(){var e;this.el.firstInteractiveElement=this.el.querySelector("[autofocus]"),this.el.firstInteractiveElement||(Array.prototype.some.call(this.el.querySelectorAll(i),function(t){var n;if(!feature.touch&&this.el.closeBtns&&this.el.closeBtns.indexOf(t)>-1&&(n=t,e||(e=n)),(t.offsetWidth||t.offsetHeight)&&!n)return this.el.firstInteractiveElement=t,!0}.bind(this)),this.el.firstInteractiveElement||(this.el.firstInteractiveElement=e))},a.prototype.focus=function(){this.el.firstInteractiveElement||this.findInteractiveElement(),this.el.firstInteractiveElement.focus()},a.prototype.handleClick=function(e){!1!==this.el.options.outerClose&&e.target===this.el&&this.handleClose(e,"cancel")},a.prototype.handleClose=function(e,t){"alertdialog"===this.el.options.role&&"cancel"===t||(this.unbind(),this.trigger("hide"),this.el.setAttribute("aria-hidden","true"),this.enableDocument(),(this.el.options.opener||n.body).focus())},a.prototype.handleKeydown=function(e){27!==e.keyCode||this.handleClose(e,"cancel")},a.prototype.hide=function(){this.handleClose({type:"user"})},a.prototype.init=function(e,t){if(a.modalIndex++,e.options)this.el=e;else{if(1===e.nodeType)this.el=this.initDom(e,t);else{if("object"!=typeof e)throw new Error("No parameter passed.");this.el=this.createDom(e)}if(this.el.closeBtns=Array.prototype.slice.call(this.el.querySelectorAll(this.el.options.closeSelector)),!this.el.closeBtns.length)throw new Error("You must provide a valid selector with the key `closeSelector`. A modal must have a close button");this.el.options.role&&this.validateModal()}return this.el.parentNode!==n.body&&n.body.appendChild(this.el),this},a.prototype.initDom=function(e,t){return e.options=t||{},e.hasAttribute("role")?e.options.role=e.getAttribute("role"):e.setAttribute("tabindex","-1"),e.setAttribute("aria-modal","true"),e},a.prototype.off=function(e,t){if(!this.callbacks[e]){var n=this.callbacks[e].indexOf(t);n<0||this.callbacks[e].splice(n,1)}},a.prototype.on=function(e,t){o.indexOf(e)<0||(this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t))},a.prototype.show=function(){this.bind(),this.el.options.opener=this.el.options.opener||n.activeElement,this.trigger("show"),"false"!==this.el.getAttribute("aria-hidden")&&this.el.setAttribute("aria-hidden","false"),this.focus(),this.documentDisabled||this.el.options.isDialog?this.documentDisabled&&this.el.options.dom&&this.enableModal():this.disableDocument()},a.prototype.showElement=function(e){e.removeAttribute("inert"),e.defaultAriaHidden?(e.setAttribute("aria-hidden",e.defaultAriaHidden),delete e.defaultAriaHidden):e.removeAttribute("aria-hidden")},a.prototype.trigger=function(e){this.callbacks[e]&&this.callbacks[e].forEach(function(e){e()})},a.prototype.unbind=function(){this.el.removeEventListener("keydown",this.listeners.keydown,!0),this.el.removeEventListener("click",this.listeners.click),this.el.closeBtns.forEach(function(e){e.removeEventListener("click",this.listeners.close)}.bind(this))},a.prototype.validateModal=function(){var e,t=this.el.getAttribute("aria-label"),n=this.el.getAttribute("aria-describedby");if((!t||t&&t.trim().length<0)&&(!(e=this.el.querySelector("#"+this.el.getAttribute("aria-labelledby")))||!this.el.contains(e)))throw new Error('No title is present in the modal. Use the "data-label" attribute on the visible title or pass the label using the "label" key when showing the modal.');if("alertdialog"===this.el.options.role&&!n)throw new Error('"alertdialog" modal needs a description, use the "data-description" attribute on the text content of the modal to validate the modal.')},"function"==typeof define&&define.amd?define(function(){return a}):void 0!==t&&t.exports?t.exports=a:e.Modal=a}(window,document)},{}],79:[function(e,t,n){function r(){this.allowUp=null,this.allowDown=null,this.prevTop=null,this.prevBot=null,this.lastY=null}var i=e("../helpers/delegate"),o=[".modal .modal-inner .wp",".modal .modal-inner",".modal .modal-inner-df",".modal",".menu-layer-tags .wp-st","#main-nav","#basket .products"].join();window.feature.touch&&(i(document.body,"touchstart",o,function(e){this.allowUp=e.currentTarget.scrollTop>0,this.allowDown=e.currentTarget.scrollTop<e.currentTarget.scrollHeight-e.currentTarget.clientHeight,this.prevTop=null,this.prevBot=null,this.lastY=e.changedTouches[0].pageY}),i(document.body,"touchmove",o,function(e){var t=e.changedTouches[0].pageY>this.lastY,n=!t;this.lastY=e.pageY,t&&this.allowUp||n&&this.allowDown?e.stopPropagation():e.preventDefault()}),i(document.body,"touchend",o,r),i(document.body,"touchcancel",o,r))},{"../helpers/delegate":34}],80:[function(e,t,n){var r=(e("pubsub-js"),e("tween.js"));t.exports=new function(){"use strict";var e;return{go:function(t){var n=new r.Tween({y:t.from});t.easing=t.easing||{effect:"Linear",type:"None"},n.to({y:t.to},t.timing||500).easing(r.Easing[t.easing.effect][t.easing.type]).onUpdate(function(){window.scrollTo(0,this.y)}).onComplete(function(){window.cancelAnimationFrame(e),t.callback&&"function"==typeof t.callback&&t.callback()}).start(),function t(){e=window.requestAnimationFrame(function(){t(),r.update()})}()}}}},{"pubsub-js":22,"tween.js":28}],81:[function(e,t,n){!function(e,n,r){"use strict";var i=function(e,t){var r=e;return this.closeTabs=function(e){var n;r.openedTab.length&&null!==r.multiselectable&&((n=Array.prototype.slice.call(r.openedTab)).forEach(function(t){e?this.toggleDisplay(t):t.click()}.bind(this)),e||null===r.multiselectable||t.closeAll(n))},this.firstActiveTab=function(){for(var e,t=0;t<r.tabs.length;t++)if(!r.tabs[t].disabled){e=t;break}return e},this.getOpenedTabs=function(){return r.openedTab.slice()},this.handleDisplay=function(e){e.preventDefault();var t=e.currentTarget;t.disabled||(t!==n.activeElement&&t.focus(),this.toggleDisplay(t))},this.handleFocus=function(e){var t=e.currentTarget;t.disabled||(r.currentTabIndex=r.tabs.indexOf(t),this.select(r.tabs[r.currentTabIndex]))},this.handlePanel=function(e){switch(void 0===r.currentTabIndex&&this.handlePanelFocus(e),e.keyCode){case 33:e.ctrlKey&&(e.preventDefault(),this.switchTab(r.currentTabIndex-1));break;case 34:e.ctrlKey&&(e.preventDefault(),this.switchTab(r.currentTabIndex+1));break;case 38:e.ctrlKey&&(e.preventDefault(),this.switchTab(r.currentTabIndex))}},this.handlePanelFocus=function(e){var t;(e.preventDefault(),e.target.doubleFocus)?delete e.target.doubleFocus:(t=e.currentTarget.tab,r.currentTabIndex=r.tabs.indexOf(t),["radio","checkbox"].indexOf(e.target.type)>=0&&(e.target.doubleFocus=!0))},this.handleTab=function(e){switch(void 0===r.currentTabIndex&&this.handleFocus(e),e.keyCode){case 32:case 13:this.handleDisplay(e);break;case 35:e.preventDefault(),this.switchTab(r.tabs.length-1);break;case 36:e.preventDefault(),this.switchTab(this.firstActiveTab());break;case 37:case 38:e.preventDefault(),this.switchTab(r.currentTabIndex-1);break;case 39:case 40:e.preventDefault(),this.switchTab(r.currentTabIndex+1)}},this.init=function(){if(!e||!e.nodeName)throw new Error("No DOM node provided. Abort.");t={closeAll:t&&t.closeAll||this.noop,closeTab:t&&t.closeTab||this.noop,openTab:t&&t.openTab||this.noop},this.setTablist()},this.noop=function(){},this.select=function(e){var t;r.tabs.forEach(function(n){t=e===n,n.setAttribute("aria-selected",t),n.setAttribute("tabindex",t?0:-1),t&&null===r.multiselectable&&this.toggleDisplay(n)}.bind(this))},this.setTablist=function(){var e,t,i;r.tabs=[],r.tabPanels=[],r.openedTab=[],r.multiselectable=r.attributes["aria-multiselectable"]?"true"===r.attributes["aria-multiselectable"].value:null,Array.prototype.forEach.call(r.querySelectorAll("[role=tab]"),function(o){if(t=!1,(e=o.getAttribute("aria-controls"))?o.tabPanel=n.getElementById(e):o.nextElementSibling&&o.nextElementSibling.getAttribute("aria-labelledby")===o.id&&(o.tabPanel=o.nextElementSibling),!o.tabPanel)throw new Error("Could not find associated tabpanel for tab "+o.id+'. Use [aria-controls="tabpanelId"] on the [role=tab] element to link them together');o.tabPanel.tab=o,o.tabList=r,o.disabled=o.hasAttribute("disabled")||"true"===o.getAttribute("aria-disabled"),o.hasAttribute("data-tab-open")&&!o.disabled&&(!r.multiselectable&&!r.openedTab.length||r.multiselectable)&&(r.openedTab.push(o),t=!0),o.removeAttribute("data-tab-open"),i||o.disabled||(i=o),o.setAttribute("tabindex",-1),o.setAttribute("aria-expanded",t),o.tabPanel.setAttribute("aria-hidden",!t),r.tabs.push(o),r.tabPanels.push(o.tabPanel),o.addEventListener("click",this.handleDisplay.bind(this)),o.addEventListener("focus",this.handleFocus.bind(this)),o.addEventListener("keydown",this.handleTab.bind(this)),o.tabPanel.addEventListener("focus",this.handlePanelFocus.bind(this)),o.tabPanel.addEventListener("keydown",this.handlePanel.bind(this))}.bind(this)),r.tabsLength=r.tabs.length,r.tabPanelsLength=r.tabPanels.length,r.openedTab.length?r.openedTab[0].setAttribute("tabindex",0):r.openedTab.length||null!==r.multiselectable?i.setAttribute("tabindex",0):(i.setAttribute("tabindex",0),i.setAttribute("aria-expanded",!0),i.tabPanel.setAttribute("aria-hidden",!1),r.openedTab.push(i))},this.switchTab=function(e){var t;if(r.tabs[e]&&r.tabs[e].disabled)return t=e>r.currentTabIndex?e+1:e-1,void this.switchTab(t);r.currentTabIndex=e,r.currentTabIndex<this.firstActiveTab()?r.currentTabIndex=r.tabsLength-1:r.currentTabIndex>=r.tabsLength&&(r.currentTabIndex=this.firstActiveTab()),r.tabs[r.currentTabIndex].focus()},this.toggleDisplay=function(e){var n,i,o;if(n=e.tabPanel,i="true"===e.getAttribute("aria-expanded"),null===r.multiselectable){if(i)return;t.closeTab(r.openedTab[0])}i?(o=r.openedTab.indexOf(e),r.openedTab.splice(o,1),t.closeTab(e)):(r.multiselectable||(r.openedTab.forEach(function(e){e.setAttribute("aria-expanded",!1),e.tabPanel.setAttribute("aria-hidden",!0),t.closeTab(e)}),r.openedTab.length=0),r.openedTab.push(e),t.openTab(e)),e.setAttribute("aria-expanded",!i),n.setAttribute("aria-hidden",i)},this.init(),{closeAll:this.closeTabs,openedTab:this.getOpenedTabs}};"function"==typeof define&&define.amd?define(function(){return i}):void 0!==t&&t.exports?t.exports=i:e.Tablist=i}(window,document)},{}],82:[function(e,t,n){!function(e){var t=navigator.userAgent;e.HTMLPictureElement&&/ecko/.test(t)&&t.match(/rv\:(\d+)/)&&RegExp.$1<45&&addEventListener("resize",function(){var t,n=document.createElement("source"),r=function(e){var t,r,i=e.parentNode;"PICTURE"===i.nodeName.toUpperCase()?(t=n.cloneNode(),i.insertBefore(t,i.firstElementChild),setTimeout(function(){i.removeChild(t)})):(!e._pfLastSize||e.offsetWidth>e._pfLastSize)&&(e._pfLastSize=e.offsetWidth,r=e.sizes,e.sizes+=",100vw",setTimeout(function(){e.sizes=r}))},i=function(){var e,t=document.querySelectorAll("picture > img, img[srcset][sizes]");for(e=0;e<t.length;e++)r(t[e])},o=function(){clearTimeout(t),t=setTimeout(i,99)},a=e.matchMedia&&matchMedia("(orientation: landscape)"),s=function(){o(),a&&a.addListener&&a.addListener(o)};return n.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?s():document.addEventListener("DOMContentLoaded",s),o}())}(window),function(e,n,r){"use strict";function i(e){return" "===e||"\t"===e||"\n"===e||"\f"===e||"\r"===e}function o(e,t,n,r){var i,o,a;return"saveData"===w.algorithm?e>2.7?a=n+1:(o=(t-n)*(i=Math.pow(e-.6,1.5)),r&&(o+=.1*i),a=e+o):a=n>1?Math.sqrt(e*t):e,a>n}function a(e,t){return e.res-t.res}function s(e,t,n){var r;return!n&&t&&(n=(n=e[h.ns].sets)&&n[n.length-1]),(r=l(t,n))&&(t=h.makeUrl(t),e[h.ns].curSrc=t,e[h.ns].curCan=r,r.res||V(r,r.set.sizes)),r}function l(e,t){var n,r,i;if(e&&t)for(i=h.parseSet(t),e=h.makeUrl(e),n=0;n<i.length;n++)if(e===h.makeUrl(i[n].url)){r=i[n];break}return r}n.createElement("picture");var c,u,d,h={},f=!1,p=function(){},m=n.createElement("img"),v=m.getAttribute,g=m.setAttribute,y=m.removeAttribute,_=n.documentElement,b={},w={algorithm:""},x="data-pfsrc",S=x+"set",T=navigator.userAgent,E=/rident/.test(T)||/ecko/.test(T)&&T.match(/rv\:(\d+)/)&&RegExp.$1>35,A="currentSrc",M=/\s+\+?\d+(e\d+)?w/,L=/(\([^)]+\))?\s*(.+)/,C=e.picturefillCFG,k="font-size:100%!important;",D=!0,I={},O={},P=e.devicePixelRatio,N={px:1,in:96},R=n.createElement("a"),q=!1,z=/^[ \t\n\r\u000c]+/,F=/^[, \t\n\r\u000c]+/,j=/^[^ \t\n\r\u000c]+/,B=/[,]+$/,W=/^\d+$/,U=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,H=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)},Y=function(e){var t={};return function(n){return n in t||(t[n]=e(n)),t[n]}},G=function(){var e=/^([\d\.]+)(em|vw|px)$/,t=Y(function(e){return"return "+function(){for(var e=arguments,t=0,n=e[0];++t in e;)n=n.replace(e[t],e[++t]);return n}((e||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")+";"});return function(n,r){var i;if(!(n in I))if(I[n]=!1,r&&(i=n.match(e)))I[n]=i[1]*N[i[2]];else try{I[n]=new Function("e",t(n))(N)}catch(e){}return I[n]}}(),V=function(e,t){return e.w?(e.cWidth=h.calcListLength(t||"100vw"),e.res=e.w/e.cWidth):e.res=e.d,e},X=function(e){if(f){var t,r,i,o=e||{};if(o.elements&&1===o.elements.nodeType&&("IMG"===o.elements.nodeName.toUpperCase()?o.elements=[o.elements]:(o.context=o.elements,o.elements=null)),i=(t=o.elements||h.qsa(o.context||n,o.reevaluate||o.reselect?h.sel:h.selShort)).length){for(h.setupRun(o),q=!0,r=0;i>r;r++)h.fillImg(t[r],o);h.teardownRun(o)}}};e.console&&console.warn,A in m||(A="src"),b["image/jpeg"]=!0,b["image/gif"]=!0,b["image/png"]=!0,b["image/svg+xml"]=n.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),h.ns=("pf"+(new Date).getTime()).substr(0,9),h.supSrcset="srcset"in m,h.supSizes="sizes"in m,h.supPicture=!!e.HTMLPictureElement,h.supSrcset&&h.supPicture&&!h.supSizes&&function(e){m.srcset="data:,a",e.src="data:,a",h.supSrcset=m.complete===e.complete,h.supPicture=h.supSrcset&&h.supPicture}(n.createElement("img")),h.supSrcset&&!h.supSizes?function(){var e="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",t=n.createElement("img"),r=function(){2===t.width&&(h.supSizes=!0),u=h.supSrcset&&!h.supSizes,f=!0,setTimeout(X)};t.onload=r,t.onerror=r,t.setAttribute("sizes","9px"),t.srcset=e+" 1w,data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw== 9w",t.src=e}():f=!0,h.selShort="picture>img,img[srcset]",h.sel=h.selShort,h.cfg=w,h.DPR=P||1,h.u=N,h.types=b,h.setSize=p,h.makeUrl=Y(function(e){return R.href=e,R.href}),h.qsa=function(e,t){return"querySelector"in e?e.querySelectorAll(t):[]},h.matchesMedia=function(){return e.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?h.matchesMedia=function(e){return!e||matchMedia(e).matches}:h.matchesMedia=h.mMQ,h.matchesMedia.apply(this,arguments)},h.mMQ=function(e){return!e||G(e)},h.calcLength=function(e){var t=G(e,!0)||!1;return 0>t&&(t=!1),t},h.supportsType=function(e){return!e||b[e]},h.parseSize=Y(function(e){var t=(e||"").match(L);return{media:t&&t[1],length:t&&t[2]}}),h.parseSet=function(e){return e.cands||(e.cands=function(e,t){function n(t){var n,r=t.exec(e.substring(d));return r?(n=r[0],d+=n.length,n):void 0}function r(){var e,n,r,i,s,l,c,u,d,f=!1,p={};for(i=0;i<a.length;i++)l=(s=a[i])[s.length-1],c=s.substring(0,s.length-1),u=parseInt(c,10),d=parseFloat(c),W.test(c)&&"w"===l?((e||n)&&(f=!0),0===u?f=!0:e=u):U.test(c)&&"x"===l?((e||n||r)&&(f=!0),0>d?f=!0:n=d):W.test(c)&&"h"===l?((r||n)&&(f=!0),0===u?f=!0:r=u):f=!0;f||(p.url=o,e&&(p.w=e),n&&(p.d=n),r&&(p.h=r),r||n||e||(p.d=1),1===p.d&&(t.has1x=!0),p.set=t,h.push(p))}for(var o,a,s,l,c,u=e.length,d=0,h=[];;){if(n(F),d>=u)return h;o=n(j),a=[],","===o.slice(-1)?(o=o.replace(B,""),r()):function(){for(n(z),s="",l="in descriptor";;){if(c=e.charAt(d),"in descriptor"===l)if(i(c))s&&(a.push(s),s="",l="after descriptor");else{if(","===c)return d+=1,s&&a.push(s),void r();if("("===c)s+=c,l="in parens";else{if(""===c)return s&&a.push(s),void r();s+=c}}else if("in parens"===l)if(")"===c)s+=c,l="in descriptor";else{if(""===c)return a.push(s),void r();s+=c}else if("after descriptor"===l)if(i(c));else{if(""===c)return void r();l="in descriptor",d-=1}d+=1}}()}}(e.srcset,e)),e.cands},h.getEmValue=function(){var e;if(!c&&(e=n.body)){var t=n.createElement("div"),r=_.style.cssText,i=e.style.cssText;t.style.cssText="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",_.style.cssText=k,e.style.cssText=k,e.appendChild(t),c=t.offsetWidth,e.removeChild(t),c=parseFloat(c,10),_.style.cssText=r,e.style.cssText=i}return c||16},h.calcListLength=function(e){if(!(e in O)||w.uT){var t=h.calcLength(function(e){var t,n,r,o,a,s,l=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,c=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;for(n=function(e){function t(){o&&(a.push(o),o="")}function n(){a[0]&&(s.push(a),a=[])}for(var r,o="",a=[],s=[],l=0,c=0,u=!1;;){if(""===(r=e.charAt(c)))return t(),n(),s;if(u){if("*"===r&&"/"===e[c+1]){u=!1,c+=2,t();continue}c+=1}else{if(i(r)){if(e.charAt(c-1)&&i(e.charAt(c-1))||!o){c+=1;continue}if(0===l){t(),c+=1;continue}r=" "}else if("("===r)l+=1;else if(")"===r)l-=1;else{if(","===r){t(),n(),c+=1;continue}if("/"===r&&"*"===e.charAt(c+1)){u=!0,c+=2;continue}}o+=r,c+=1}}}(e),r=n.length,t=0;r>t;t++)if(function(e){return!!(l.test(e)&&parseFloat(e)>=0)||!!c.test(e)||"0"===e||"-0"===e||"+0"===e}(a=(o=n[t])[o.length-1])){if(s=a,o.pop(),0===o.length)return s;if(o=o.join(" "),h.matchesMedia(o))return s}return"100vw"}(e));O[e]=t||N.width}return O[e]},h.setRes=function(e){var t;if(e)for(var n=0,r=(t=h.parseSet(e)).length;r>n;n++)V(t[n],e.sizes);return t},h.setRes.res=V,h.applySetCandidate=function(e,t){if(e.length){var n,r,i,l,c,u,d,f,p,m=t[h.ns],v=h.DPR;if(u=m.curSrc||t[A],(d=m.curCan||s(t,u,e[0].set))&&d.set===e[0].set&&((p=E&&!t.complete&&d.res-.1>v)||(d.cached=!0,d.res>=v&&(c=d))),!c)for(e.sort(a),c=e[(l=e.length)-1],r=0;l>r;r++)if((n=e[r]).res>=v){c=e[i=r-1]&&(p||u!==h.makeUrl(n.url))&&o(e[i].res,n.res,v,e[i].cached)?e[i]:n;break}c&&(f=h.makeUrl(c.url),m.curSrc=f,m.curCan=c,f!==u&&h.setSrc(t,c),h.setSize(t))}},h.setSrc=function(e,t){var n;e.src=t.url,"image/svg+xml"===t.set.type&&(n=e.style.width,e.style.width=e.offsetWidth+1+"px",e.offsetWidth+1&&(e.style.width=n))},h.getSet=function(e){var t,n,r,i=!1,o=e[h.ns].sets;for(t=0;t<o.length&&!i;t++)if((n=o[t]).srcset&&h.matchesMedia(n.media)&&(r=h.supportsType(n.type))){"pending"===r&&(n=r),i=n;break}return i},h.parseSets=function(e,t,n){var i,o,a,s,c=t&&"PICTURE"===t.nodeName.toUpperCase(),d=e[h.ns];(d.src===r||n.src)&&(d.src=v.call(e,"src"),d.src?g.call(e,x,d.src):y.call(e,x)),(d.srcset===r||n.srcset||!h.supSrcset||e.srcset)&&(i=v.call(e,"srcset"),d.srcset=i,s=!0),d.sets=[],c&&(d.pic=!0,function(e,t){var n,r,i,o,a=e.getElementsByTagName("source");for(n=0,r=a.length;r>n;n++)(i=a[n])[h.ns]=!0,(o=i.getAttribute("srcset"))&&t.push({srcset:o,media:i.getAttribute("media"),type:i.getAttribute("type"),sizes:i.getAttribute("sizes")})}(t,d.sets)),d.srcset?(o={srcset:d.srcset,sizes:v.call(e,"sizes")},d.sets.push(o),(a=(u||d.src)&&M.test(d.srcset||""))||!d.src||l(d.src,o)||o.has1x||(o.srcset+=", "+d.src,o.cands.push({url:d.src,d:1,set:o}))):d.src&&d.sets.push({srcset:d.src,sizes:null}),d.curCan=null,d.curSrc=r,d.supported=!(c||o&&!h.supSrcset||a&&!h.supSizes),s&&h.supSrcset&&!d.supported&&(i?(g.call(e,S,i),e.srcset=""):y.call(e,S)),d.supported&&!d.srcset&&(!d.src&&e.src||e.src!==h.makeUrl(d.src))&&(null===d.src?e.removeAttribute("src"):e.src=d.src),d.parsed=!0},h.fillImg=function(e,t){var n,r=t.reselect||t.reevaluate;e[h.ns]||(e[h.ns]={}),n=e[h.ns],(r||n.evaled!==d)&&((!n.parsed||t.reevaluate)&&h.parseSets(e,e.parentNode,t),n.supported?n.evaled=d:function(e){var t,n=h.getSet(e),r=!1;"pending"!==n&&(r=d,n&&(t=h.setRes(n),h.applySetCandidate(t,e))),e[h.ns].evaled=r}(e))},h.setupRun=function(){(!q||D||P!==e.devicePixelRatio)&&(D=!1,P=e.devicePixelRatio,I={},O={},h.DPR=P||1,N.width=Math.max(e.innerWidth||0,_.clientWidth),N.height=Math.max(e.innerHeight||0,_.clientHeight),N.vw=N.width/100,N.vh=N.height/100,d=[N.height,N.width,P].join("-"),N.em=h.getEmValue(),N.rem=N.em)},h.supPicture?(X=p,h.fillImg=p):function(){var t,r=e.attachEvent?/d$|^c/:/d$|^c|^i/,i=function(){var e=n.readyState||"";o=setTimeout(i,"loading"===e?200:999),n.body&&(h.fillImgs(),(t=t||r.test(e))&&clearTimeout(o))},o=setTimeout(i,n.body?9:99),a=_.clientHeight;H(e,"resize",function(e,t){var n,r,i=function(){var t=new Date-r;99>t?n=setTimeout(i,99-t):(n=null,e())};return function(){r=new Date,n||(n=setTimeout(i,99))}}(function(){D=Math.max(e.innerWidth||0,_.clientWidth)!==N.width||_.clientHeight!==a,a=_.clientHeight,D&&h.fillImgs()})),H(n,"readystatechange",i)}(),h.picturefill=X,h.fillImgs=X,h.teardownRun=p,X._=h,e.picturefillCFG={pf:h,push:function(e){var t=e.shift();"function"==typeof h[t]?h[t].apply(h,e):(w[t]=e[0],q&&h.fillImgs({reselect:!0}))}};for(;C&&C.length;)e.picturefillCFG.push(C.shift());e.picturefill=X,"object"==typeof t&&"object"==typeof t.exports?t.exports=X:"function"==typeof define&&define.amd&&define("picturefill",function(){return X}),h.supPicture||(b["image/webp"]=function(t,n){var r=new e.Image;return r.onerror=function(){b[t]=!1,X()},r.onload=function(){b[t]=1===r.width,X()},r.src="data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==","pending"}("image/webp"))}(window,document)},{}]},{},[30]),function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return i(n||e)},u,u.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){function r(e,t){this.scene=e,this.gl=e.gl,this.keepBuffer=!1,this.parse=this._parse.bind(this),this.onLoad=this._onLoad.bind(this),this.mats=e.mats.createProvider(t),this.texs=e.texs.createProvider(t),this._state=c,this._loadables=[],this._loadPromise=null,this.node=new o}var i=e("utils/net"),o=e("nanogl-node"),a=e("lib/awd"),s=e("config"),l=e("when"),c=1;r.prototype={getLoadables:function(){var e;if(this._state===c){var t=s.asset_url(this.getAwdUrl());e=i.loadBytes(t).then(this.parse),this._loadables.push(e);for(var n=this.texs.getLoadables(),r=0;r<n.length;r++)this._loadables.push(n[r]);this._state=2,this._loadPromise=l.all(this._loadables),this._loadPromise.then(this.onLoad)}return this._loadables},getAwdUrl:function(){return null},getMaterial:function(e){return this.mats.getMaterial(e)},getObjectByName:function(e){return this.loader.getObjectByName(e)},_parse:function(e){this.loader=new a(e),this.loader.keepBuffer=this.keepBuffer,this.loader.load(this,this.node),this.meshes=this.loader.getMeshes(),this._postParse()},_postParse:function(){},_onLoad:function(){this._state=3},preRender:function(e){},render:function(e,t){if(3===this._state)for(var n=this.meshes,r=0;r<n.length;r++)n[r].render(this.scene,e,t)},renderPass:function(e,t,n){if(3===this._state)for(var r=this.meshes,i=0;i<r.length;i++)r[i].renderPass(e,t,n)}},t.exports=r},{config:13,"lib/awd":23,"nanogl-node":70,"utils/net":36,when:116}],2:[function(e,t,n){function r(e){this.ext=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");var t=this;this.parse=function(e){return t._parse(e)}}function i(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}var o=542327876,a=131072,s=4,l=i("DXT1"),c=i("DXT3"),u=i("DXT5"),d=i("DX10"),h=116,f=512,p=3,m=2,v=31,g=0,y=1,_=2,b=3,w=4,x=7,S=20,T=21,E=28;r.prototype={isSupported:function(){return!!this.ext},_getFormat:function(e){switch(e){case"dxt1":return this.ext.COMPRESSED_RGB_S3TC_DXT1_EXT;case"dxt3":return this.ext.COMPRESSED_RGBA_S3TC_DXT3_EXT;case"dxt5":return this.ext.COMPRESSED_RGBA_S3TC_DXT5_EXT;default:throw new Error("unsupported format "+e)}},_parse:function(e){var t=new Int32Array(e,0,v);if(t[g]!==o)throw new Error("Invalid magic number in DDS header");if(!t[S]&s)throw new Error("Unsupported format, must contain a FourCC code");var n,r,i=t[T];switch(i){case l:n=8,r="dxt1";break;case c:n=16,r="dxt3";break;case u:n=16,r="dxt5";break;case h:r="rgba32f";break;case d:var A=new Uint32Array(e.slice(128,148));r=A[0];var M=A[1];if(A[2],A[3],A[4],M!==p||r!==m)throw new Error("Unsupported DX10 texture format "+r);r="rgba32f";break;default:throw new Error("Unsupported FourCC code: "+function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)}(i))}var L=t[_],C=1;L&a&&(C=Math.max(1,t[x]));var k=!1;t[E]&f&&(k=!0);var D,I=t[w],O=t[b],P=t[y]+4,N=I,R=O,q=[];if(i===d&&(P+=20),k)for(var z=0;z<6;z++){var F=[];q[z]=F,I=N,O=R;for(var j=0;j<C;j++)D=Math.max(4,I)/4*Math.max(4,O)/4*n,F.push(new Uint8Array(e,P,D)),P+=D,I=Math.floor(I/2),O=Math.floor(O/2)}else for(F=[],q[0]=F,j=0;j<C;j++)D=Math.max(4,I)/4*Math.max(4,O)/4*n,F.push(new Uint8Array(e,P,D)),P+=D,I=Math.max(1,Math.floor(I/2)),O=Math.max(1,Math.floor(O/2));return{width:N,height:R,surfaces:q,format:this._getFormat(r),flags:L,cubemap:k}}},t.exports=r},{}],3:[function(e,t,n){function r(){}var i=e("when");r.prototype={parse:function(e){var t=i.defer(),n=new Blob([e],{type:"image/jpeg"}),r=URL.createObjectURL(n),o=new Image;return o.onload=function(){URL.revokeObjectURL(r),t.resolve(o)},o.onerror=function(){URL.revokeObjectURL(r),t.reject()},o.src=r,t.promise}},t.exports=r},{when:116}],4:[function(e,t,n){function r(e){for(var t=0;t<12;t++)if(e[t]!==o[t])return!1;return!0}function i(e){this.ext=e.getExtension("WEBGL_compressed_texture_etc1")||e.getExtension("WEBKIT_WEBGL_compressed_texture_etc1");var t=this;this.parse=function(e){return t._parse(e)}}var o=new Uint8Array([171,75,84,88,32,49,49,187,13,10,26,10]);i.prototype={isSupported:function(){return!!this.ext},_parse:function(e){if(!r(new Uint8Array(e,0,12)))throw new Error("[KTXParser] Bad Magic");var t=67305985===(e=new DataView(e)).getUint32(12,!0),n=16;e.getUint32(n,t),n+=4,e.getUint32(n,t),n+=4,e.getUint32(n,t),n+=4;var i=e.getUint32(n,t);n+=4,e.getUint32(n,t),n+=4;var o=e.getUint32(n,t);n+=4;var a=e.getUint32(n,t);n+=4,e.getUint32(n,t),n+=4;var s=e.getUint32(n,t);n+=4;var l=e.getUint32(n,t);n+=4;var c=e.getUint32(n,t);n+=4;var u=e.getUint32(n,t);if(n+=4,i!==this.ext.COMPRESSED_RGB_ETC1_WEBGL)throw new Error("KTX unsupported internal format "+i+". Must be COMPRESSED_RGB_ETC1_WEBGL");n+=u;for(var d=c>0?c:1,h=s>0?s:1,f=l>0?l:1,p=[],m=0;m<f;m++)p.push([]);for(var v=0;v<d;v++){var g=e.getUint32(n,t);n+=4;for(var y=-4&g,_=0;_<h;_++)for(m=0;m<f;m++){var b=new Uint8Array(e.buffer,n,y);n+=y,p[m].push(b)}}return{width:o,height:a,surfaces:p,format:i,cubemap:!1}},_getFormat:function(e){switch(e){case RGB_PVRTC_4BPPV1_Format:return this.ext.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;case RGB_PVRTC_2BPPV1_Format:return this.ext.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;case RGBA_PVRTC_4BPPV1_Format:return this.ext.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;case RGBA_PVRTC_2BPPV1_Format:return this.ext.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;default:throw new Error("[PVRLoader] Unknown pixel format")}},_extract:function(e){for(var t,n=[],r=(this._getFormat(e.format),e.width,e.height,e.isCubemap,e.buffer),i=e.dataPtr,o=e.bpp,a=e.numSurfaces,s=0,l=0,c=0,u=0,d=0,h=0;h<a;h++)n.push([]);2===o?(l=8,c=4):(l=4,c=4),t=l*c*o/8;for(var f=0;f<e.numMipmaps;){var p=e.width>>f;d=(e.height>>f)/c,(u=p/l)<2&&(u=2),d<2&&(d=2),s=u*d*t;for(h=0;h<a;h++){var m=new Uint8Array(r,i,s);n[h].push(m),i+=s}f++}}},t.exports=i},{}],5:[function(e,t,n){function r(e,t,n,r){this.parser=n,this.bbc=r,this.upload=this._upload.bind(this),this.tex=new i(e),this.paths=t,this.lodPromises=new Array(t.length),this.states=[];for(var o=0;o<t.length;o++)this.states[o]=s;this.pendingUpload=null}var i=e("nanogl/texture"),o=e("when"),a=e("utils/net"),s=1;r.prototype={load:function(){return this.loadLevel(0)},loadLevel:function(e){for(var t=[],n=0;n<=e;n++)t.push(this._loadLodData(n));this.pendingUpload&&this.pendingUpload.reject(),this.pendingUpload=function(e){var t=o.defer();return o.all(e).then(t.resolve),t}(t);var r=this.pendingUpload.promise;return r.then(this.upload),r},_loadLodData:function(e){var t=this.states;if(t[e]!==s)return this.lodPromises[e];var n=a.loadBytes(this.paths[e]).then(this.parser.parse);return this.lodPromises[e]=n,t[e]=2,n.then(function(){t[e]=4}),n},_upload:function(e){var t=e.length-1;if(this.bbc)for(var n=0;n<e.length;n++)this.uploadBcc(e[n],t-n);else this.uploadStd(e[t])},uploadBcc:function(e,t){var n=this.tex,r=n.gl;n.bind();var i=e.surfaces[0],o=e.format,a=e.width,s=e.height;n.width=a,n.height=s;for(var l=0;l<i.length;l++){var c=i[l];r.compressedTexImage2D(r.TEXTURE_2D,l+t,o,a,s,0,c),a=Math.max(1,a>>1),s=Math.max(1,s>>1)}return n.setFilter(!0,!0,!0),n},uploadStd:function(e){var t=this.tex;return t.gl,t.bind(),t.fromImage(e),t.gl.generateMipmap(t.gl.TEXTURE_2D),t.setFilter(!0,!0,!0),t}},t.exports=r},{"nanogl/texture":94,"utils/net":36,when:116}],6:[function(e,t,n){function r(e,t){this.gl=e,this.scene=t,this.materials={},this.matlist=[],this.defaultMaterial=null,o.on(this,"qualityChange")}var i=e("./materials-provider"),o=(e("nanogl-pbr/lib/input"),e("gl/quality"));r.OPAQUE=1,r.BLENDED=2,r.prototype={qualityChange:function(){},createProvider:function(e){return new i(this,e)},update:function(e){this.time+=e,this.uTime.set(this.time)},registerMaterial:function(e,t){void 0===this.materials[t]&&(this.materials[t]=e,this.matlist.push(e))},getMaterial:function(e){var t=this.materials[e];return void 0===t&&(console.log("        -> not found",e),t=this.defaultMaterial),t},setOpaque:function(e){e._mask=r.OPAQUE,e.config.enableCullface(!0),e.config.enableDepthTest(),e.config.depthMask(!0)},setGlass:function(e,t,n,i){e._mask=r.BLENDED,e.config.enableCullface(),e.config.enableDepthTest(),e.config.depthMask(!1),e.config.enableBlend(),e.config.blendFunc(this.gl.ONE,this.gl.CONSTANT_COLOR),e.config.blendColor(t,n,i,1)},compileAll:function(){this.matlist.forEach(function(e){e.compile(),e.prg.use()})}},t.exports=r},{"./materials-provider":7,"gl/quality":20,"nanogl-pbr/lib/input":75}],7:[function(e,t,n){function r(e,t){this.uid=t,this.lib=e,this.matlist=[],this.materials={}}r.prototype={registerMaterial:function(e,t){void 0===this.materials[t]&&(this.materials[t]=e,this.matlist.push(e),this.lib.registerMaterial(e,this.uid+"/"+t))},getMaterial:function(e){return this.materials[e]||this.lib.getMaterial(e)},dispose:function(){}},t.exports=r},{}],8:[function(e,t,n){function r(e,t,n){var r;if(void 0!==e.touches){if(e.touches.length>0?r=e.touches:e.changedTouches&&e.changedTouches.length>0&&(r=e.changedTouches),r){for(var i=0,o=0,a=0;a<r.length;a++)i+=r[a].clientX,o+=r[a].clientY;i/=r.length,o/=r.length}}else i=e.clientX,o=e.clientY;t[0]=2*i/_.renderer.canvasWidth-1,t[1]=-(2*o/_.renderer.canvasHeight-1),n[0]=2*i/_.renderer.canvasWidth-1,n[1]=-(2*o/_.renderer.canvasWidth-1)}function i(e){S=!0,r(e,b,w),M.emit("move",b)}function o(e){S=!0,x=!0,r(e,b,w),M.emit("down",b)}function a(e){S=!0,x=!1,r(e,b,w),M.emit("up",b)}function s(){T=Date.now()}function l(){return Date.now()-T>5e3}function c(e){l()&&i(e)}function u(e){S=!1,x=!1}function d(e){l()&&o(e)}function h(e){l()&&a(e)}function f(e){s(),i(e),v(e),e.preventDefault()}function p(e){s(),o(e)}function m(e){s(),a(e),v(e)}function v(e){if(void 0!==e.touches&&e.touches.length>1){var t=e.touches[0].clientX-e.touches[1].clientX,n=e.touches[0].clientY-e.touches[1].clientY,r=Math.sqrt(t*t+n*n);if(E){var i=r/A;M.emit("pinch",i)}else E=!0,A=r,M.emit("pinchstart");e.preventDefault()}else E=!1}var g=e("event-emitter"),y=null,_=null,b=new Float32Array(2),w=new Float32Array(2),x=!1,S=!0,T=0,E=!1,A=0,M={getEl:function(){return y},coords:b,ncoords:w,init:function(e){(y=(_=e).renderer.canvas).addEventListener("mousemove",c),y.addEventListener("mouseleave",u),y.addEventListener("mousedown",d),y.addEventListener("mouseup",h),y.addEventListener("touchmove",f),y.addEventListener("touchstart",p),y.addEventListener("touchend",m)},isDown:function(){return x},isOver:function(){return S}};g(M),t.exports=M},{"event-emitter":54}],9:[function(e,t,n){function r(e){this.ext=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");var t=this;this.parse=function(e){return t._parse(e)}}function i(e){var t,n,r=e.header,i=r[12],o=r[2],u=r[6],d=r[7],h=(r[9],r[10]),f=r[11];switch(o){case 0:t=2,n=s;break;case 1:t=2,n=c;break;case 2:t=4,n=a;break;case 3:t=4,n=l;break;default:throw new Error("pvrtc - unsupported PVR format "+o)}return e.dataPtr=52+i,e.bpp=t,e.format=n,e.width=d,e.height=u,e.numSurfaces=h,e.numMipmaps=f,e.isCubemap=6===h,e}function o(e){var t,n=e.header,r=n[0],i=n[1],o=n[2],u=n[3],d=n[4],h=(n[5],n[6]),f=(n[7],n[8],n[9],n[10]),p=(n[11],n[12]),m=255&d,v=f>0;if(25===m)t=v?l:a,h=4;else{if(24!==m)throw new Error("pvrtc - unknown format "+m);t=v?c:s,h=2}return e.dataPtr=r,e.bpp=h,e.format=t,e.width=o,e.height=i,e.numSurfaces=p,e.numMipmaps=u+1,e.isCubemap=6===p,e}var a=2100,s=2101,l=2102,c=2103;r.prototype={isSupported:function(){return!!this.ext},_parse:function(e){var t,n=new Uint32Array(e,0,13),r={buffer:e,header:n};if(55727696===n[0])t=i(r);else{if(559044176!==n[11])throw new Error("[PVRLoader] Unknown PVR format");t=o(r)}return this._extract(t)},_getFormat:function(e){switch(e){case a:return this.ext.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;case s:return this.ext.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;case l:return this.ext.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;case c:return this.ext.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;default:throw new Error("[PVRLoader] Unknown pixel format")}},_extract:function(e){for(var t,n=[],r=this._getFormat(e.format),i={width:e.width,height:e.height,surfaces:n,format:r,cubemap:e.isCubemap},o=e.buffer,a=e.dataPtr,s=e.bpp,l=e.numSurfaces,c=0,u=0,d=0,h=0,f=0,p=0;p<l;p++)n.push([]);2===s?(u=8,d=4):(u=4,d=4),t=u*d*s/8;for(var m=0;m<e.numMipmaps;){var v=e.width>>m;f=(e.height>>m)/d,(h=v/u)<2&&(h=2),f<2&&(f=2),c=h*f*t;for(p=0;p<l;p++){var g=new Uint8Array(o,a,c);n[p].push(g),a+=c}m++}return i}},t.exports=r},{}],10:[function(e,t,n){function r(e,t,n){return 9728|+e|+t<<8|+(t&&n)<<1}function i(e,t){this._uid=o++,this.gl=e,this.id=this.gl.createTexture(),this.width=0,this.height=0,this.format=t||e.RGB,this.type=e.UNSIGNED_BYTE,e.bindTexture(a,this.id),this.setFilter(!0),this.clamp()}var o=0,a=34067;i.prototype={fromImages:function(e){var t=this.gl,n=this.format,r=this.type;this.width=e[0].width,this.height=e[0].height,t.bindTexture(a,this.id),t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X,0,n,n,r,e[0]),t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_Y,0,n,n,r,e[1]),t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_Z,0,n,n,r,e[2]),t.texImage2D(t.TEXTURE_CUBE_MAP_NEGATIVE_X,0,n,n,r,e[3]),t.texImage2D(t.TEXTURE_CUBE_MAP_NEGATIVE_Y,0,n,n,r,e[4]),t.texImage2D(t.TEXTURE_CUBE_MAP_NEGATIVE_Z,0,n,n,r,e[5])},bind:function(e){var t=this.gl;void 0!==e&&t.activeTexture(t.TEXTURE0+(0|e)),t.bindTexture(a,this.id)},dispose:function(){this.gl.deleteTexture(this.id),this.id=null,this.gl=null},setFilter:function(e,t,n){var i=this.gl,o=r(!!e,!!t,!!n);i.texParameteri(a,i.TEXTURE_MAG_FILTER,r(!!e,!1,!1)),i.texParameteri(a,i.TEXTURE_MIN_FILTER,o)},repeat:function(){this.wrap(this.gl.REPEAT)},clamp:function(){this.wrap(this.gl.CLAMP_TO_EDGE)},mirror:function(){this.wrap(this.gl.MIRRORED_REPEAT)},wrap:function(e){var t=this.gl;t.texParameteri(a,t.TEXTURE_WRAP_S,e),t.texParameteri(a,t.TEXTURE_WRAP_T,e)}},t.exports=i},{}],11:[function(e,t,n){function r(e){this.gl=e,this._lib={},this._list=[],this.bbc=!0,this.qDir=v.param("assets_path"),this.maxCubeSize=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),this.extAniso=e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||e.getExtension("EXT_texture_filter_anisotropic"),this.maxAniso=this.extAniso?e.getParameter(this.extAniso.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0,this.DDSParser=new g(e),this.PVRParser=new y(e),this.KTXParser=new _(e),this.JPGParser=new b(e),this.texDefs=[]}function i(e,t,n,r,i,o,a,s,l){this.tex=t,this.url=n,this.bbc=s,this.mipmap=i,this.smooth=r,this.aniso=a,this.miplinear=o,this.loader=e,this.clamp=l,this.lodLevel=0}function o(e,t,n,r,i,o){this.tex=t,this.dir=n,this.bbc=o,this.smooth=r,this.size=i,this.loader=e}function a(e){return e.bind(),e.gl.generateMipmap(e.gl.TEXTURE_2D),e}function s(e,t,n,r){return function(i){var o=e.gl;e.bind();var a=i.surfaces[0],s=i.format,l=i.width,c=i.height;e.width=l,e.height=c;for(var u=0;u<a.length;u++){var d=a[u];o.compressedTexImage2D(o.TEXTURE_2D,u,s,l,c,0,d),l=Math.max(1,l>>1),c=Math.max(1,c>>1)}return n&&a.length>1?e.setFilter(t,n,r):e.setFilter(t,!1,r),e}}function l(e,t){switch(t){case 0:return e.TEXTURE_CUBE_MAP_POSITIVE_X;case 1:return e.TEXTURE_CUBE_MAP_POSITIVE_Y;case 2:return e.TEXTURE_CUBE_MAP_POSITIVE_Z;case 3:return e.TEXTURE_CUBE_MAP_NEGATIVE_X;case 4:return e.TEXTURE_CUBE_MAP_NEGATIVE_Y;case 5:return e.TEXTURE_CUBE_MAP_NEGATIVE_Z;default:throw new Error("surface overflow")}}function c(e){return function(t){var n=e.gl;e.bind();for(var r=0;r<t.surfaces.length;r++){var i=t.surfaces[r],o=t.format,a=t.width,s=t.height;e.width=a,e.height=s;for(var c=0;c<i.length;c++){var u=i[c];n.compressedTexImage2D(l(n,r),c,o,a,s,0,u),a=Math.max(1,a>>1),s=Math.max(1,s>>1)}}return e}}var u=e("nanogl/texture"),d=e("assets/texture-cube"),h=e("nanogl-texture-loader"),f=e("when"),p=e("utils/net"),m=e("config"),v=e("gl/quality"),g=e("./dds-parser"),y=e("./pvr-parser"),_=e("./ktx-parser"),b=e("./jpeg-parser"),w=e("./textures-provider"),x=e("./lod-texture");r.prototype={createProvider:function(){return new w(this)},resolveUrl:function(e){return m.asset_url(e)},makeTex:function(e,t,n,r,o,a,s,l){a=void 0!==a?a:this.bbc;var c=new i(this,new u(this.gl,s),e,t,n,r,o,a,l);return this.texDefs.push(c),c},makeLodTex:function(e,t,n,r,i){for(var o=this.getTextureParser(),a=o[0],s=o[1],l=[],c=0;c<n;c++)l.push(this.resolveUrl(e+"_L"+c+".jpg"+s));i=a!==this.JPGParser;var u=new x(this.gl,l,a,i);return this.texDefs.push(u),u},makeCube:function(e,t,n,r,i,a){i=void 0!==i?i:this.bbc;var s=new o(this,new d(this.gl,a),e,t,r,i);return this.texDefs.push(s),s},getLoadables:function(){for(var e=[],t=0;t<this.texDefs.length;t++){var n=this.texDefs[t].load(this);e.push(n)}return e},loadTex:function(e,t,n,r,i,o,l,c){if(e.bind(),e.setFilter(r,n,o),c&&e.clamp(),l=this.resolveUrl(l),(i=Math.min(this.maxAniso,i))>0&&e.gl.texParameterf(e.gl.TEXTURE_2D,this.extAniso.TEXTURE_MAX_ANISOTROPY_EXT,i),this.DDSParser.isSupported()&&t)return this.loadDDS(e,l+".dds").then(s(e,r,n,o));if(this.PVRParser.isSupported()&&t)return this.loadPVR(e,l+".pvr").then(s(e,r,n,o));if(this.KTXParser.isSupported()&&t)return this.loadKTX(e,l+".ktx").then(s(e,r,n,o));var u=h.load(e,l);return n&&(u=u.then(a)),u},getTextureParser:function(){var e=this.bbc;return this.DDSParser.isSupported()&&e?[this.DDSParser,".dds"]:this.PVRParser.isSupported()&&e?[this.PVRParser,".pvr"]:this.KTXParser.isSupported()&&e?[this.KTXParser,".ktx"]:[this.JPGParser,""]},loadDDS:function(e,t){return p.loadBytes(t).then(this.DDSParser.parse)},loadPVR:function(e,t){return p.loadBytes(t).then(this.PVRParser.parse)},loadKTX:function(e,t){return p.loadBytes(t).then(this.KTXParser.parse)},loadCube:function(e,t,n,r,i){return e.bind(),e.setFilter(r,!1,!1),n=this.resolveUrl(n),n+="/"+(i=this.getCubeSize(i)),this.DDSParser.isSupported()&&t?this.loadDDS(e,n+"/tex.dds").then(c(e)):this.PVRParser.isSupported()&&t?this.loadPVR(e,n+"/tex.pvr").then(c(e)):this.KTXParser.isSupported()&&t?this.loadKTX(e,n+"/tex.ktx").then(c(e)):function(e,t){return f.map(t,p.loadImage).then(function(t){return e.fromImages(t),e})}(e,function(e){return[e+"/negx.jpg",e+"/negy.jpg",e+"/negz.jpg",e+"/posx.jpg",e+"/posy.jpg",e+"/posz.jpg"]}(n))},getCubeSize:function(e){for(;e>this.maxCubeSize;)e>>=1;return e}},i.prototype={_load:function(e){return this.loader.loadTex(this.tex,this.bbc,this.mipmap,this.smooth,this.aniso,this.miplinear,e,this.clamp)},load:function(){return this._load(this.url)}},o.prototype={load:function(){return this.loader.loadCube(this.tex,this.bbc,this.dir,this.smooth,this.size)}},t.exports=r},{"./dds-parser":2,"./jpeg-parser":3,"./ktx-parser":4,"./lod-texture":5,"./pvr-parser":9,"./textures-provider":12,"assets/texture-cube":10,config:13,"gl/quality":20,"nanogl-texture-loader":90,"nanogl/texture":94,"utils/net":36,when:116}],12:[function(e,t,n){function r(e){this.lib=e,this._defs=[],this._lib={},this._list=[],this._dlib={}}r.prototype={register:function(e,t){void 0===this._lib[t]&&(this._dlib[t]=e,this._lib[t]=e.tex,this._defs.push(e),this._list.push(e.tex))},getTexture:function(e){var t=this._lib[e];if(void 0===t)throw new Error('texture "'+e+'" not found.');return t},getTextureDef:function(e){var t=this._dlib[e];if(void 0===t)throw new Error('texture def"'+e+'" not found.');return t},makeTex:function(e,t,n,r,i,o,a,s,l){i=void 0===i?16:i,r=void 0===r||r,n=void 0===n||n,o=void 0===o||o;var c=this.lib.makeTex(t,n,r,o,i,a,s,l);this.register(c,e)},makeLodTex:function(e,t,n,r,i,o,a){i=void 0===i?16:i,r=void 0===r||r;var s=this.lib.makeLodTex(t,r,n,i,o,a);this.register(s,e)},makeCube:function(e,t,n,r,i,o,a){var s=this.lib.makeCube(t,n,r,i,o,a);this.register(s,e)},getLoadables:function(){return this._defs.map(function(e){return e.load()})},dispose:function(){}},t.exports=r},{}],13:[function(e,t,n){t.exports={asset_url:function(e){return e}}},{}],14:[function(e,t,n){var r=0;t.exports={reset:function(){r=0},drawCall:function(){r++},getDrawCalls:function(){return r}}},{}],15:[function(e,t,n){function r(e){i.call(this),this.gl=e,this.geom=null,this.name="",this.materials=[],this.frustum=new s}var i=(e("nanogl-state/config"),e("nanogl-node")),o=e("gl-matrix").mat4.create(),a=e("dev/stats"),s=e("lib/frustum");r.prototype=Object.create(i.prototype),r.prototype.constructor=r,r.prototype.preRender=function(e){},r.prototype.render=function(e,t,n){for(var r=this.geom.subgeoms,i=this.materials.length,o=this.gl.state,s=0;s<r.length;s++){var l=r[s],c=this.materials[Math.min(i-1,s)];0!=(c._mask&t)&&(c.prepare(this,e.camera),l.setup(c.prg),o.push(c.config),this.cfg&&o.push(this.cfg),n&&o.push(n),a.drawCall(),o.apply(),l.render(),o.pop(),this.cfg&&o.pop(),n&&o.pop())}},r.prototype.renderPass=function(e,t,n){var r=this.geom.subgeoms,i=this.materials.length,s=this.gl.state,l=this.frustum;e.modelViewProjectionMatrix(o,this._wmatrix),l.fromMVP(o);for(var c=0;c<r.length;c++){var u=r[c];0!=(this.materials[Math.min(i-1,c)]._mask&t)&&l.intersectFrustumAABB(u.bounds)&&(n.prepare(this,e),u.setup(n.prg),n.config&&s.push(n.config),this.cfg&&s.push(this.cfg),a.drawCall(),s.apply(),u.render(),n.config&&s.pop(),this.cfg&&s.pop())}},t.exports=r},{"dev/stats":14,"gl-matrix":55,"lib/frustum":27,"nanogl-node":70,"nanogl-state/config":80}],16:[function(e,t,n){function r(e,t,n){this.scene=t,this.ibl=null,this.prg=null,this._mask=1,this.inputs=new s,this.iDiffuse=this.inputs.add(new a("uDiffuse",3)),this.tDiffuse=this.iDiffuse.attachSampler("uDiffuse","vTexCoord"),this.config=(new i).enableCullface(!1).enableDepthTest(!0).depthMask(!0),this._prgcache=o.getCache(e),this._uid="basic",this._precision="highp",this._vertSrc="#define GLSLIFY 1\nattribute vec3 aPosition;\nattribute vec2 aTexCoord;\n\nuniform mat4 uMVP;\n\nvarying vec2 vUv;\n\nvoid main(){\n\n  gl_Position = uMVP * vec4( aPosition, 1.0 );\n  // vUv = aTexCoord;\n  vUv = vec2(aTexCoord.x, 1.0-aTexCoord.y);\n\n}",this._fragSrc="#define GLSLIFY 1\n#pragma SLOT pf\nvarying vec2 vUv;\nvoid main() {\n  vec3 color = texture2D( uDiffuse, vUv ).rgb;\n  color *= vec3(0.93);\n  gl_FragColor = vec4( color , 1.0 );\n}"}var i=e("nanogl-state/config"),o=e("nanogl-pbr/lib/program-cache"),a=e("nanogl-pbr/lib/input"),s=(e("nanogl-pbr/lib/flag"),e("nanogl-pbr/lib/chunks-tree")),l=e("gl-matrix").mat4.create();e("utils/color"),new Float32Array(3),r.prototype={prepare:function(e,t){this._isDirty()&&this.compile();var n=this.prg;n.use(),n.setupInputs(this),t.modelViewProjectionMatrix(l,e._wmatrix),n.uMVP(l)},_isDirty:function(){return!(null!==this.prg&&!this.inputs._isDirty)},compile:function(){null!==this.prg&&this._prgcache.release(this.prg),this.prg=this._prgcache.compile(this)}},t.exports=r},{"gl-matrix":55,"nanogl-pbr/lib/chunks-tree":73,"nanogl-pbr/lib/flag":74,"nanogl-pbr/lib/input":75,"nanogl-pbr/lib/program-cache":76,"nanogl-state/config":80,"utils/color":32}],17:[function(e,t,n){function r(e,t,n){this.scene=t.scene,this.ibl=null,this.prg=null,this.gl=e,this._mask=1,this.inputs=new l,this.iDiffuse=this.inputs.add(new a("uDiffuse",3)),this.iAo=this.inputs.add(new a("uAo",3)),this.iAlpha=this.inputs.add(new a("uAlpha",3)),this.iNormals=this.inputs.add(new a("uNormals",3)),this.iNormals2=this.inputs.add(new a("uNormals2",3)),this.iColorMix_1=this.inputs.add(new a("uColorMix_1",3)),this.iColorMix_2=this.inputs.add(new a("uColorMix_2",3)),this.iColorMix_3=this.inputs.add(new a("uColorMix_3",3)),this.iColorMix_4=this.inputs.add(new a("uColorMix_4",3)),this.iColorMix_5=this.inputs.add(new a("uColorMix_5",3)),this.iColorMix_6=this.inputs.add(new a("uColorMix_6",3)),this.iColorMix_7=this.inputs.add(new a("uColorMix_7",3)),this.iColorMix_8=this.inputs.add(new a("uColorMix_8",3)),this.iColorMix_9=this.inputs.add(new a("uColorMix_9",3)),this.iColorMix_10=this.inputs.add(new a("uColorMix_10",3)),this.transparent=this.inputs.add(new s("transparent",!1)),this.tDiffuse=this.iDiffuse.attachSampler("uDiffuse","vTexCoord"),this.tAo=this.iAo.attachSampler("uAo","vTexCoord"),this.tAlpha=this.iAlpha.attachSampler("uAlpha","vTexCoord"),this.tNormals=this.iNormals.attachSampler("uNormals","vTexCoord"),this.tColorMix_1=this.iColorMix_1.attachUniform("uColorMix_1",3),this.tColorMix_2=this.iColorMix_2.attachUniform("uColorMix_2",3),this.tColorMix_3=this.iColorMix_3.attachUniform("uColorMix_3",3),this.tColorMix_4=this.iColorMix_4.attachUniform("uColorMix_4",3),this.tColorMix_5=this.iColorMix_5.attachUniform("uColorMix_5",3),this.tColorMix_6=this.iColorMix_6.attachUniform("uColorMix_6",3),this.tColorMix_7=this.iColorMix_7.attachUniform("uColorMix_7",3),this.tColorMix_8=this.iColorMix_8.attachUniform("uColorMix_8",3),this.tColorMix_9=this.iColorMix_9.attachUniform("uColorMix_9",3),this.tColorMix_10=this.iColorMix_10.attachUniform("uColorMix_10",3),this.tColorMix_1.set(0,0,1),this.tColorMix_2.set(.25,0,.9),this.tColorMix_3.set(.5,0,.8),this.tColorMix_4.set(.75,0,.7),this.tColorMix_5.set(0,.25,.6),this.tColorMix_6.set(.25,.25,.5),this.tColorMix_7.set(.5,.25,.4),this.tColorMix_8.set(.75,.25,.3),this.tColorMix_9.set(0,.5,.2),this.tColorMix_10.set(.25,.5,.1),this.config=(new i).enableCullface(!1).enableDepthTest(!0).depthMask(!0),n&&(this._mask=2,this.config.enableBlend(),this.config.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),this.config.blendColor(0,0,0,1)),this._prgcache=o.getCache(e),this._uid="matcap",this._precision="highp",this._vertSrc="#define GLSLIFY 1\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec3 aTangent;\nattribute vec3 aBitangent;\nattribute vec3 aColor;\nattribute vec2 aTexCoord;\nattribute vec2 aTexCoord1;\n\nuniform mat4 uMVP;\nuniform mat4 uView;\nuniform mat4 uModelView;\n// uniform mat4 uModel;\n\nvarying vec3 vNormal;\nvarying vec3 vTangent;\nvarying vec3 vBinormal;\n\nvarying vec3 vEye;\nvarying mat4 vView;\nvarying mat4 vModelView;\nvarying vec3 vColor;\nvarying vec2 vUv;\nvarying vec2 vUv2;\n\n// varying float intensity;\n\nvec3 rotate( mat4 m, vec3 v )\n{\n  return m[0].xyz*v.x + m[1].xyz*v.y + m[2].xyz*v.z;\n}\n\nvoid main() {\n\n  vec4 position = vec4( aPosition, 1.0 );\n\n  gl_Position = uMVP * position;\n  \n  vView      = uView;\n  vModelView = uModelView;\n  vEye       = normalize( vec3( uModelView * position ) );\n  vNormal    = normalize( vec3( uModelView * vec4(aNormal, 0.0)));\n  vColor = aColor;\n  vUv2 = vec2(aTexCoord.x, 1.0-aTexCoord.y);\n  vUv = vec2(aTexCoord1.x, 1.0-aTexCoord1.y);\n  \n  // vTangent   = rotate( uModel, aTangent );\n  // vBinormal  = rotate( uModel, aBitangent );\n  \n  vTangent   = rotate( uModelView, aTangent );\n  vBinormal  = rotate( uModelView, aBitangent );\n  \n\n  // float c = 1.0;\n  // float p = 1.4;\n  // vec3 vNormal = normalize( normalMatrix * aNormal );\n  // vec3 vNormel = normalize( normalMatrix * viewVector );\n  // vec3 vNormel = normalize( vec3( uView ) );\n  // intensity = pow( c - dot(vNormal, vNormel), p );\n  \n\n}\n",this._fragSrc="#define GLSLIFY 1\n#pragma SLOT pf\n\n// uniform sampler2D uDiffuse;\n// uniform sampler2D uAo;\n// uniform sampler2D uAlpha;\n// uniform sampler2D uNormals;\n\n// uniform vec3 uColorMix_1;\n// uniform vec3 uColorMix_2;\n// uniform vec3 uColorMix_3;\n// uniform vec3 uColorMix_4;\n// uniform vec3 uColorMix_5;\n// uniform vec3 uColorMix_6;\n// uniform vec3 uColorMix_7;\n// uniform vec3 uColorMix_8;\n// uniform vec3 uColorMix_9;\n// uniform vec3 uColorMix_10;\n// uniform sampler2D uNormals2;\n// #if normalDouble\n//   uniform sampler2D uNormals2;\n// #endif\nvarying vec3 vNormal;\n\nvarying vec3 vTangent;\nvarying vec3 vBinormal;\n\n// varying float intensity;\n\nvarying vec3 vColor;\n\nvarying vec2 vUv;\nvarying vec2 vUv2;\n\nvarying vec3 vEye;\n\nvec2 matcap( vec3 e, vec3 n ) {\n  vec3 reflected = reflect(e, normalize(n));\n  float m = 2.8284271247461903 * sqrt( reflected.z+1.0 );\n  return reflected.xy / m + 0.5;\n}\nfloat lookat(float chanel, float target)\n{\n        float c0 = chanel / target;\n        float c1 = (2.005-c0);\n        float c2 = max(0.0, floor(c0*c1));\n        return c2;\n}\nvoid main() {\n  // method 1\n  // vec2 uv = vec2( vView * vec4( normalize(vNormal), 0.0 ) ) * 0.5 + vec2( 0.5 );\n  // vec3 color = texture2D( uDiffuse, vec2( uv.x, 1.0 - uv.y ) ).rgb;\n  // vec3 color2 = texture2D( uDiffuse2, vec2( uv.x, 1.0 - uv.y ) ).rgb;\n\n  // method 2\n  vec2 uv = matcap( vEye, vNormal );\n  // vec3 color3 = texture2D( uNormals, vUv ).rgb;\n\n  // gl_FragColor = vec4( color3 , 1.0 );\n  // gl_FragColor = vec4( color2 * vColor, 1.0 );\n\n  vec3 finalNormal;\n  vec2 calculatedNormal = matcap( vEye, vNormal );\n\n  float normalRepeat = 1.0;\n  float normalScale = 1.0;\n  // vec3 normalTex = texture2D( uNormals, vUv * normalRepeat ).xyz * 2.0 - 1.0;\n  // vec3 normalTex = texture2D( uNormals, vUv2 * normalRepeat ).xyz * 2.0 - 1.0;\n  // vec3 normalTex = texture2D( uNormals2, vUv2 * normalRepeat ).xyz * 2.0 - 1.0;\n  vec3 normalTex = texture2D( uNormals, vUv2 * normalRepeat ).xyz * 2.0 - 1.0;\n  normalTex.xy *= normalScale;\n  \n  // #if normalDouble\n  //   vec3 normalTex2 = texture2D( uNormals2, vUv * 40.0 ).xyz * 2.0 - 1.0;\n  //   normalTex2.xy *= 0.15;\n  //   normalTex = normalize( normalTex + normalTex2 );\n  // #endif\n  normalTex = normalize( normalTex );\n  // normalTex.z *= -1.;\n  // normalTex.y *= -1.;\n  // normalTex.x *= -1.;\n  // normalTex = normalize( normalTex );\n  mat3 tsb = mat3( normalize( vTangent ), normalize( vBinormal ), normalize( vNormal ) );\n  finalNormal = tsb * normalTex;\n\n  vec3 r = reflect( vEye, normalize( finalNormal ) );\n  // float m = 2.0 * sqrt( r.x * r.x + r.y * r.y + ( r.z + 1.0 ) * ( r.z+1.0 ) );\n  // calculatedNormal = vec2( r.x / m + 0.5,  1.0 - (r.y / m + 0.5) );\n  float m = 2.8284271247461903 * sqrt( r.z+1.0 );\n  calculatedNormal = r.xy / m + 0.5;\n\n  uv = vec2(uv.x, 1.0-uv.y);\n  // tmp\n  // calculatedNormal = matcap( vEye, vNormal );\n\n  // calculatedNormal = mix(calculatedNormal, uv, 1.0-vColor.g);\n  // calculatedNormal = uv;\n\n  // vec3 color = texture2D( uDiffuse, vec2( uv.x, 1.0 - uv.y ) ).rgb;\n  // vec3 color = mix(color2, color1,vColor.r);\n  // vec3 color = vec3(0.0, 1.0, 0.0);\n  vec3 color = texture2D( uDiffuse, calculatedNormal*0.25 + vec2(0.5, 0.5) ).rgb;\n  \n\n  color = mix(color, texture2D( uDiffuse, calculatedNormal*0.25 + uColorMix_1.xy ).rgb,  lookat(vColor.r, uColorMix_1.z));\n  color = mix(color, texture2D( uDiffuse, calculatedNormal*0.25 + uColorMix_2.xy ).rgb,  lookat(vColor.r, uColorMix_2.z));\n  color = mix(color, texture2D( uDiffuse, calculatedNormal*0.25 + uColorMix_3.xy ).rgb,  lookat(vColor.r, uColorMix_3.z));\n  color = mix(color, texture2D( uDiffuse, calculatedNormal*0.25 + uColorMix_4.xy ).rgb,  lookat(vColor.r, uColorMix_4.z));\n  color = mix(color, texture2D( uDiffuse, calculatedNormal*0.25 + uColorMix_5.xy ).rgb,  lookat(vColor.r, uColorMix_5.z));\n  color = mix(color, texture2D( uDiffuse, calculatedNormal*0.25 + uColorMix_6.xy ).rgb,  lookat(vColor.r, uColorMix_6.z));\n  color = mix(color, texture2D( uDiffuse, calculatedNormal*0.25 + uColorMix_7.xy ).rgb,  lookat(vColor.r, uColorMix_7.z));\n  color = mix(color, texture2D( uDiffuse, calculatedNormal*0.25 + uColorMix_8.xy ).rgb,  lookat(vColor.r, uColorMix_8.z));\n  color = mix(color, texture2D( uDiffuse, calculatedNormal*0.25 + uColorMix_9.xy ).rgb,  lookat(vColor.r, uColorMix_9.z));\n  color = mix(color, texture2D( uDiffuse, calculatedNormal*0.25 + uColorMix_10.xy ).rgb,  lookat(vColor.r, uColorMix_10.z));\n  \n\n  // color = mix(color, vec3(0.0), vColor.g*0.3);\n  \n\n  // color = texture2D( uDiffuse, calculatedNormal*0.25 + vec2(0.75, 0.0) ).rgb;\n\n  // color += texture2D( uDiffuse, calculatedNormal*0.25 + vec2(0.75, 0.00) ).rgb;\n  // color = texture2D( uDiffuse, calculatedNormal*0.25 + vec2(0.25, 0.25) ).rgb;\n  // color = color*0.5+1.0*vec3(0.0,0.3,0.0);\n  // color = texture2D( uDiffuse, calculatedNormal*0.25 + vec2(0.0, 0.75) ).rgb;\n  // color = texture2D( uDiffuse, calculatedNormal*0.25 + vec2(0.0, 0.25) ).rgb;\n  // color = vec3(1.0);\n\n  // color = mix(color, texture2D( uDiffuse, calculatedNormal*0.25 + vec2(0.5, 0.5) ).rgb,  lookat(vColor.r, 0.0));\n  // color = mix(color, texture2D( uDiffuse, calculatedNormal*0.25 + vec2(0.5, 0.5) ).rgb,  lookat(vColor.r, 0.5));\n  // color = mix(color, texture2D( uDiffuse, calculatedNormal*0.25 + vec2(0.75, 0.5) ).rgb,  lookat(vColor.r, 0.5));\n  // color = mix(color, texture2D( uDiffuse, calculatedNormal*0.25 + vec2(0.0, 0.75) ).rgb,  lookat(vColor.r, 0.6));\n  // color = mix(color, texture2D( uDiffuse, calculatedNormal*0.25 + vec2(0.25, 0.75) ).rgb,  lookat(vColor.r, 0.5));\n  // color = mix(color, texture2D( uDiffuse, calculatedNormal*0.25 + vec2(0.5, 0.75) ).rgb,  lookat(vColor.r, 0.5));\n  // color = mix(color, texture2D( uDiffuse, calculatedNormal*0.25 + vec2(0.75, 0.75) ).rgb,  lookat(vColor.r, 0.5));\n\n  // color = mix(color, texture2D( uDiffuse, calculatedNormal*0.25 + vec2(0.75, 0.0) ).rgb,  1.0);\n  \n\n  //color= mix(color, vec3(1.0,0.0,1.0), vColor.b);\n\n  vec3 colorAo = texture2D( uAo, vUv).xyz;\n  float colorAlpha = texture2D( uAlpha, vUv2).x;\n  // color = uColorMix_1;\n  gl_FragColor = vec4( color , colorAlpha );\n  gl_FragColor.rgb *= colorAo;\n\n  gl_FragColor.rgb= mix(gl_FragColor.rgb, vec3(160.0/255.0,146.0/255.0,97.0/255.0), vColor.b*(1.0-colorAo.r));\n  // gl_FragColor.rgb = 0.5*gl_FragColor.rgb + colorAo*gl_FragColor.rgb*0.5;\n  // gl_FragColor.rgb = mix(gl_FragColor.rgb , colorAo*gl_FragColor.rgb, 0.9);\n\n  #if transparent\n    // float intensity = texture2D( uDiffuse, calculatedNormal*0.25 + vec2(0.25, 0.5) ).g;\n    float intensity = texture2D( uDiffuse, calculatedNormal*0.25 + vec2(0.0, 0.75) ).g;\n    // gl_FragColor.rgb = vec3(intensity);\n    gl_FragColor.rgb = texture2D( uDiffuse, calculatedNormal*0.25 + vec2(0.0, 0.75) ).rgb*0.5;\n    gl_FragColor.rgb = vec3( 0.7 );\n    gl_FragColor.rgb += texture2D( uDiffuse, calculatedNormal*0.25 + vec2(0.0, 0.75) ).rgb;\n    // gl_FragColor.a = colorAlpha*intensity*0.1;\n    // gl_FragColor.a = colorAlpha*intensity*0.5;\n    gl_FragColor.a = colorAlpha*intensity*1.0;\n    gl_FragColor.a = 1.0;\n    gl_FragColor.a = colorAlpha*intensity;\n  #endif\n\n  \n  vec3 c = gl_FragColor.rgb;\n\n  float uContrastScale = 1.0;\n  float uContrastBias = 0.02;\n  c=c*uContrastScale+uContrastBias;\n\n  vec3 tbc_sqrtc = sqrt( c );\n  // c = ( tbc_sqrtc - tbc_sqrtc*c ) + c * ( 0.4672 * c + vec3(0.5328) );\n  // c = ( tbc_sqrtc - tbc_sqrtc*c ) + c * c;//( 0.9 * c + vec3(0.1) );\n  c = ( tbc_sqrtc - tbc_sqrtc*c )*0.2 + c;//( 0.9 * c + vec3(0.1) );\n\n  gl_FragColor.rgb = c;\n \n  // gl_FragColor.rgb = vBinormal;\n  // gl_FragColor.rgb = vTangent;\n  // gl_FragColor.rgb = vNormal;\n  // gl_FragColor.b = 0.0;\n  // gl_FragColor.rg = calculatedNormal;\n\n  // gl_FragColor = vec4( color1 , 1.0 );\n  // gl_FragColor = vec4( color2 , 1.0 );\n  // gl_FragColor = vec4( color3 , 1.0 );\n  // gl_FragColor.rgb *= vColor;\n  // gl_FragColor.rgb = colorAo;\n  // gl_FragColor.rgb = vec3(vUv, 0.0);\n\n  // gl_FragColor.rgb = color1;\n  // gl_FragColor.rgb = vNormal;\n  // gl_FragColor.rgb *= colorAo;\n\n  // vec3 color4 = texture2D( uNormals, vUv2 ).rgb;\n  // gl_FragColor.rgb = color4;\n  // gl_FragColor.rgb = normalTex;\n  // gl_FragColor.rgb = vTangent;\n  // gl_FragColor.rgb = vBinormal;\n  // // gl_FragColor.rgb = vec3(1.0, 1.0, 0.0);\n}"}var i=e("nanogl-state/config"),o=e("nanogl-pbr/lib/program-cache"),a=e("nanogl-pbr/lib/input"),s=e("nanogl-pbr/lib/flag"),l=e("nanogl-pbr/lib/chunks-tree"),c=e("gl-matrix").mat4,u=c.create();e("utils/color"),new Float32Array(3),r.prototype={setAlpha:function(e,t){var n=this.gl;e?(this._mask=2,this.config.enableDepthTest(!0).depthMask(!1),this.config.blendFunc(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA)):(this._mask=1,this.config.enableDepthTest(!0).depthMask(!0))},setTransparency:function(e){this.transparent.set(e),this.setAlpha(e,!0)},goGold:function(){this.tColorMix_1.set(0,0,1),this.tColorMix_2.set(.25,0,.9),this.tColorMix_3.set(.5,0,.8),this.tColorMix_4.set(0,0,.7),this.tColorMix_5.set(0,.25,.6),this.tColorMix_6.set(0,.5,.5),this.tColorMix_7.set(.5,.25,.4),this.tColorMix_8.set(.75,.25,.3),this.tColorMix_9.set(0,.5,.2),this.tColorMix_10.set(.25,.5,.1),this.tColorMix_4.set(.75,0,.7),this.tColorMix_9.set(.75,0,.2)},goPhantom:function(){this.tColorMix_1.set(0,0,1),this.tColorMix_2.set(.25,0,.9),this.tColorMix_3.set(.5,0,.8),this.tColorMix_4.set(0,0,.7),this.tColorMix_5.set(0,.25,.6),this.tColorMix_6.set(.25,.25,.5),this.tColorMix_7.set(.5,.25,.4),this.tColorMix_8.set(.75,.25,.3),this.tColorMix_9.set(.25,.25,.2),this.tColorMix_10.set(.25,.5,.1)},goSilver:function(){this.tColorMix_1.set(0,0,1),this.tColorMix_2.set(.25,0,.9),this.tColorMix_3.set(.5,0,.8),this.tColorMix_4.set(.75,0,.7),this.tColorMix_5.set(0,.25,.6),this.tColorMix_6.set(.75,0,.5),this.tColorMix_7.set(.5,.25,.4),this.tColorMix_8.set(.75,.25,.3),this.tColorMix_9.set(.75,0,.2),this.tColorMix_10.set(.25,.5,.1)},goDark:function(){this.tColorMix_1.set(.5,.5,1),this.tColorMix_2.set(.5,.5,.9),this.tColorMix_3.set(.5,.5,.8),this.tColorMix_4.set(.5,.5,.7),this.tColorMix_5.set(.5,.5,.6),this.tColorMix_6.set(.5,.5,.5),this.tColorMix_7.set(.5,.5,.4),this.tColorMix_8.set(.5,.5,.3),this.tColorMix_9.set(.5,.5,.2),this.tColorMix_10.set(.5,.5,.1)},prepare:function(e,t){this._isDirty()&&this.compile();var n=this.prg;n.use(),n.setupInputs(this),t.modelViewProjectionMatrix(u,e._wmatrix),n.uMVP(u),c.multiply(u,t._view,e._wmatrix),n.uModelView(u),n.uView(t._view)},_isDirty:function(){return!(null!==this.prg&&!this.inputs._isDirty)},compile:function(){null!==this.prg&&this._prgcache.release(this.prg),this.prg=this._prgcache.compile(this)}},t.exports=r},{"gl-matrix":55,"nanogl-pbr/lib/chunks-tree":73,"nanogl-pbr/lib/flag":74,"nanogl-pbr/lib/input":75,"nanogl-pbr/lib/program-cache":76,"nanogl-state/config":80,"utils/color":32}],18:[function(require,module,exports){function Sample(e){AWDScene.call(this,e,"sample"),this.scene=e,_configData=this.scene.ConfigData,touchstart=_touchstart.bind(this),touchend=_touchend.bind(this),touchmove=_touchmove.bind(this),mousedown=_mousedown.bind(this),mouseup=_mouseup.bind(this),mousemove=_mousemove.bind(this),scroller_mousedown=_scroller_mousedown.bind(this),scroller_mousemove=_scroller_mousemove.bind(this),scroller_mouseup=_scroller_mouseup.bind(this),_setupUI.bind(this)(),_setupTextures.bind(this)(),_setupMaterials.bind(this)(),this.node.setScale(_gobalScale)}var AWDScene=require("assets/awd-scene"),Color=require("utils/color"),MathUtils=require("utils/math"),Loader=require("lib/awd"),Config=require("config"),Node=require("nanogl-node"),CSSUtils=require("utils/css"),MatcapMaterial=require("./MatcapMaterial"),BasicMaterial=require("./BasicMaterial"),vec3=require("gl-matrix").vec3,vec2=require("gl-matrix").vec2,V3=vec3.create(),_mylatesttap=(new Date).getTime(),UNLOADED=1,LOADING=2,LOADED=3,PI2=2*Math.PI,PI_2=.5*Math.PI,PI=Math.PI,animated=!1,opened={i:1},_zoomVals={},XP,XP_grab_ico,XP_grabber,XP_grabber_cursor,XP_scroller,XP_scroller_cursor,XP_switch,XP_zoom_plus,XP_zoom_minus,XP_hit_area,XP_load__loading_progress,is_mobile=!1,cam_position={y:-5,_y:0,radius:70,_radiusCoef:_zoomVals.value/_zoomVals.max,angle:0,angle_start:PI_2,angle_d:0,angle_d2:0,lookAt:new Float32Array([0,0,0])},_configData,mouse={moveSpeed:.1,moveSpeed2:0,moveSpeed3:0,finger_spinner:0,finger_decal:0,finger_speed:0,moveSpeed2_dest:0,moveSpeed3_dest:0,moveSpeed3_dest_start:0,startAngle:0,startPoint:[0,0],currentPoint:[0,0],scrollerRect:null,scrollerStartPoint:[0,0,0,0],fov:60,camY:0},mousedown,mouseup,touchstart,touchend,touchmove,mousemove,scroller_mousedown,scroller_mousemove,scroller_mouseup,UI_spots,UI_spots_mobile,_gobalScale=.01,_soundAplitude=0,_soundFrequency=60;Sample.prototype=Object.create(AWDScene.prototype),Sample.prototype.constructor=Sample,Sample.prototype.ready=function(){(this.scene.ConfigOptions.container.classList.contains("mobile")||this.scene.ConfigOptions.container.classList.contains("tablet"))&&(is_mobile=!0,this.scene.camera.lens.setAutoFov(40/180*Math.PI)),_setupDatas.bind(this)(),this.addEvents(),_zoomVals=is_mobile?this.scene.ConfigOptions.zoomMobile:this.scene.ConfigOptions.zoom,cam_position._radiusCoef=_zoomVals.value/_zoomVals.max},Sample.prototype.addEvents=function(){is_mobile?(this.scene.renderer.canvas.addEventListener("touchstart",touchstart),this.scene.renderer.canvas.addEventListener("touchend",touchend)):(this.scene.renderer.canvas.addEventListener("mousedown",mousedown),this.scene.renderer.canvas.addEventListener("mouseup",mouseup),XP_scroller.addEventListener("mousedown",scroller_mousedown),XP_scroller.ondragstart=function(){return!1}),XP_switch.addEventListener("click",function(e){TweenLite.to(opened,.2,{i:XP_switch.checked?0:1})}),XP_zoom_minus.addEventListener("click",function(e){_changeZoom.bind(this)(1)}.bind(this)),XP_zoom_plus.addEventListener("click",function(e){_changeZoom.bind(this)(-1)}.bind(this))},Sample.prototype.go_material=function(e){for(var t in this.mats.materials)"ground_mat"!=t&&("phantom_mat_02"!=t&&"phantom_mat_10"!=t&&"phantom_mat_11"!=t&&"phantom_mat"!=t&&this.mats.materials[t][e](),this.mats.materials[t].setTransparency(!1),"phantom_mat_02_b"!=t&&"phantom_mat_10"!=t||this.mats.materials[t].setAlpha(!0))},Sample.prototype.focus_objs=function(e){for(var t in this.mats.materials)"ground_mat"!=t&&(e.includes(t)?this.mats.materials[t].setTransparency(!1):this.mats.materials[t].setTransparency(!0))},Sample.prototype.onProgress=function(e){CSSUtils.setVendor(XP_load__loading_progress,"transform","scaleX("+e+")")},Sample.prototype.start=function(){},Sample.prototype._postParse=function(){for(var e=this.meshes,t=0;t<e.length;t++);for(t=0;t<_configData.spots.length;t++){var n=new Node;n.name="_"+_configData.spots[t].name,this.loader.getObjectByName(_configData.spots[t].parent).add(n),n.x=.1*_configData.spots[t].position[0],n.y=.1*_configData.spots[t].position[1],n.z=.1*_configData.spots[t].position[2],_configData.spots[t].element3d=n}this.go_material("goGold")},Sample.prototype.getAwdUrl=function(){return this.scene.ConfigOptions.path3d+"phantom.awd"},Sample.prototype.render=function(e,t){if(this._state===LOADED)for(var n=this.meshes,r=0;r<n.length;r++)n[r].render(this.scene,e,t)},Sample.prototype.preRender=function(e){mouse.moveSpeed2+=.12*(mouse.moveSpeed2_dest-mouse.moveSpeed2),mouse.moveSpeed3+=.12*(mouse.moveSpeed3_dest-mouse.moveSpeed3);var t,n,r,i=MathUtils.normalizeAngle(cam_position.angle_d+mouse.finger_decal)/PI2*360,o=0,a=getCoef(_configData.woofer,i);for(0!=a&&(this.loader.getObjectByName("empty_r").x=3e-4*Math.cos(60*this.scene.time)*a,this.loader.getObjectByName("empty_l").x=3e-4*-Math.cos(60*this.scene.time)*a),cam_position.lookAt[2]=0,cam_position.y=.1,cam_position.y+=.3*Math.max(0,-mouse.moveSpeed3),cam_position.radius=1.1,cam_position.radius*=.5*mouse.moveSpeed3*1.3+1,o=0;o<_configData.anims.length;o++){var s=this.loader.getObjectByName(_configData.anims[o].name),l=_configData.anims[o].opened;s.x=l[0]*opened.i,s.y=l[1]*opened.i,s.z=l[2]*opened.i}for(o=0;o<_configData.spots.length;o++){t=_configData.spots[o].element3d,vec3.copy(V3,t._wposition),vec3.transformMat4(V3,V3,this.scene.camera._viewProj),n=(V3[0]+1)/2*this.scene.renderer.canvasWidth,r=-(V3[1]-1)/2*this.scene.renderer.canvasHeight;var c=getCoefRaw(_configData.spots[o].keyPoints,i);c>.99&&(_configData.spots[o].element.style.transform="translateX("+n+"px) translateY("+r+"px) "),1===c?_configData.spots[o].element.classList.contains("visible")||(_configData.spots[o].element.classList.add("visible"),is_mobile&&_configData.spots[o].element_mobile.classList.add("visible")):_configData.spots[o].element.classList.contains("visible")&&(_configData.spots[o].element.classList.remove("visible"),is_mobile&&_configData.spots[o].element_mobile.classList.remove("visible"))}cam_position.angle_d+=e*mouse.moveSpeed*2,cam_position.angle=cam_position.angle_d+mouse.finger_spinner+mouse.finger_decal+cam_position.angle_start,this.scene.camera.position[0]=Math.cos(cam_position.angle)*cam_position.radius*cam_position._radiusCoef+cam_position.lookAt[0],this.scene.camera.position[2]=Math.sin(cam_position.angle)*cam_position.radius*cam_position._radiusCoef+cam_position.lookAt[2],this.scene.camera.position[1]=cam_position.y+cam_position._y,this.scene.camera.lookAt(cam_position.lookAt)};var _changeZoom=function(e){_zoomVals.value+=e*_zoomVals.inc,_zoomVals.value=Math.max(_zoomVals.min,_zoomVals.value),_zoomVals.value=Math.min(_zoomVals.max,_zoomVals.value);var t=(_zoomVals.value-_zoomVals.min)/(_zoomVals.max-_zoomVals.min);t=Math.min(1,t),t=1-(t=Math.max(0,t)),TweenLite.to(cam_position,1.2,{ease:Cubic.easeOut,_y:.14*t,_radiusCoef:_zoomVals.value/_zoomVals.max})},smoothCoef=function(e){return.5*(1-Math.cos(PI*e))},smoothCoef2=function(e){return Math.sin(PI_2*e)},getCoef=function(e,t){for(var n=e.length,r=0;r<n;r++)if(e[r].t>=t){var i=r-1;0==r&&(i=n-1);var o=Math.abs(e[r].t-e[i].t),a=(t-e[i].t)/o;return a=1-(Math.cos(a*Math.PI)+1)/2,e[r].v*a+e[i].v*(1-a)}},getCoefRaw=function(e,t){for(var n=e.length,r=0;r<n;r++)if(e[r].t>=t){var i=r-1;0==r&&(i=n-1);var o=Math.abs(e[r].t-e[i].t),a=(t-e[i].t)/o;return a=1-(Math.cos(a*Math.PI)+1)/2,e[r].v*a+e[i].v*(1-a)}},getCoefV3=function(e,t){for(var n=e.length,r=0;r<n;r++)if(e[r].t>=t){var i=r-1;0==r&&(i=n-1);var o=Math.abs(e[r].t-e[i].t),a=(t-e[i].t)/o;return a=1-(Math.cos(a*Math.PI)+1)/2,vec3.fromValues(e[r].v[0]*a+e[i].v[0]*(1-a),e[r].v[1]*a+e[i].v[1]*(1-a),e[r].v[2]*a+e[i].v[2]*(1-a))}},getCoefV2=function(e,t){for(var n=e.length,r=0;r<n;r++)if(e[r].t>=t){var i=r-1;0==r&&(i=n-1);var o=Math.abs(e[r].t-e[i].t),a=(t-e[i].t)/o;return a=1-(Math.cos(a*Math.PI)+1)/2,vec2.fromValues(e[r].v[0]*a+e[i].v[0]*(1-a),e[r].v[1]*a+e[i].v[1]*(1-a))}},_scroller_mouseup=function(e){XP_scroller_cursor.classList.add("reset"),XP_scroller_cursor.style.transform="translateX(100px)",document.removeEventListener("mousemove",scroller_mousemove),document.removeEventListener("mouseup",scroller_mouseup),document.removeEventListener("mouseleave",scroller_mouseup),TweenLite.killTweensOf(mouse),TweenLite.to(mouse,4,{moveSpeed2_dest:0,moveSpeed3_dest:0});var t=Math.sign(mouse.moveSpeed);0===t&&(t=1),TweenLite.to(mouse,4,{delay:0,moveSpeed:.1*t})},_scroller_mousedown=function(e){TweenLite.killTweensOf(mouse),mouse.scrollerRect=XP_scroller.getBoundingClientRect();var t=e.pageX-mouse.scrollerRect.left;mouse.scrollerStartPoint=[e.screenX,e.screenY,t],XP_scroller_cursor.classList.remove("reset"),document.addEventListener("mousemove",scroller_mousemove),document.addEventListener("mouseup",scroller_mouseup),document.addEventListener("mouseleave",scroller_mouseup),_scroller_mousemove(e)},_scroller_mousemove=function(e){var t=e.screenX-mouse.scrollerStartPoint[0]+mouse.scrollerStartPoint[2];t=Math.max(0,t),t=Math.min(200,t),mouse.moveSpeed=2*(t-100)/200,XP_scroller_cursor.style.transform="translateX("+t+"px)"},_touchstart=function(t){e=t.changedTouches[0];var n=(new Date).getTime()-_mylatesttap;n<200&&n>0&&(_zoomVals.value<=_zoomVals.min?_changeZoom.bind(this)((_zoomVals.max-_zoomVals.min)/_zoomVals.inc):_changeZoom.bind(this)(-1)),_mylatesttap=(new Date).getTime(),TweenLite.killTweensOf(mouse),mouse.startAngle=cam_position.angle,mouse.startPoint=[e.clientX,e.clientY],mouse.moveSpeed=0,mouse.finger_spinner=0,XP.classList.add("grabbing"),XP.classList.add("hideui"),this.scene.renderer.canvas.addEventListener("touchmove",touchmove)},_touchend=function(e){TweenLite.killTweensOf(mouse),TweenLite.to(mouse,2,{moveSpeed2_dest:0,moveSpeed3_dest:0}),mouse.finger_decal+=mouse.finger_spinner;var t=Math.sign(mouse.finger_spinner);0===t&&(t=1),mouse.finger_spinner=0,mouse.moveSpeed=10*mouse.finger_speed,XP.classList.remove("grabbing"),TweenLite.to(mouse,Math.abs(5*mouse.finger_speed),{ease:Quint.easeOut,delay:0,moveSpeed:.1*t,onComplete:function(){XP.classList.remove("hideui")}.bind(this)}),mouse.finger_speed=0,this.scene.renderer.canvas.removeEventListener("touchmove",touchmove)},_mousedown=function(e){TweenLite.killTweensOf(mouse),mouse.startAngle=cam_position.angle,mouse.startPoint=[e.offsetX,e.offsetY],mouse.moveSpeed=0,mouse.finger_spinner=0,XP.classList.add("grabbing"),XP.classList.add("hideui"),this.scene.renderer.canvas.addEventListener("mousemove",mousemove),mouse.moveSpeed3_dest_start=mouse.moveSpeed3_dest},_touchmove=function(t){if(t.changedTouches.length>1)return t.preventDefault(),t.stopPropagation(),!1;e=t.changedTouches[0],mouse.currentPoint=[e.clientX,e.clientY];var n=(mouse.currentPoint[0]-mouse.startPoint[0])/this.scene.renderer.canvasWidth*PI2;mouse.finger_speed=n-mouse.finger_spinner,mouse.finger_spinner=n},_mousemove=function(e){mouse.currentPoint=[e.offsetX,e.offsetY];var t=mouse.currentPoint[0]-mouse.startPoint[0],n=mouse.currentPoint[1]-mouse.startPoint[1],r=t/this.scene.renderer.canvasWidth*PI2;mouse.finger_speed=r-mouse.finger_spinner,mouse.finger_spinner=r;var i=Math.atan2(n,t),o=Math.max(Math.abs(t),Math.abs(n)),a=(Math.cos(i),Math.sin(i));o=Math.min(o,90),Math.cos(i),a=Math.sin(i)*o,mouse.moveSpeed3_dest=mouse.moveSpeed3_dest_start-a/100,mouse.moveSpeed3_dest=Math.min(mouse.moveSpeed3_dest,1),mouse.moveSpeed3_dest=Math.max(mouse.moveSpeed3_dest,-1)},_mouseup=function(e){TweenLite.killTweensOf(mouse),TweenLite.to(mouse,2,{moveSpeed2_dest:0}),mouse.finger_decal+=mouse.finger_spinner;var t=Math.sign(mouse.finger_spinner);0===t&&(t=1),mouse.finger_spinner=0,mouse.moveSpeed=10*mouse.finger_speed,XP.classList.remove("grabbing");var n=Math.abs(5*mouse.finger_speed);n=Math.max(2,n);var r=Quint.easeOut;2===n&&(r=Quint.easeInOut),TweenLite.to(mouse,n,{ease:r,delay:0,moveSpeed3_dest:0,moveSpeed:.1*t,onComplete:function(){XP.classList.remove("hideui")}.bind(this)}),mouse.finger_speed=0,this.scene.renderer.canvas.removeEventListener("mousemove",mousemove)},_setupUI=function(){XP=this.scene.ConfigOptions.container,XP_switch=XP.querySelector(".xp__switch input"),XP_zoom_plus=XP.querySelector(".xp__zoom_plus"),XP_zoom_minus=XP.querySelector(".xp__zoom_minus"),XP_load__loading_progress=XP.querySelector(".xp__load__loading-progress"),XP_scroller=XP.querySelector(".xp__scroller"),XP_scroller_cursor=XP_scroller.querySelector(".xp__scroller__cursor")},_setupDatas=function(){var tmpHTML="",i,j,a,b;for(a=_configData.spots,i=0;i<a.length;i++)tmpHTML+='<div class="xp__spot spot-'+a[i].style+" spot-"+(i+1)+'"><label>'+a[i].label+"</label></div>";for(UI_spots=this.scene.ConfigOptions.container.querySelector(".xp__spots"),UI_spots.innerHTML=tmpHTML,is_mobile&&(UI_spots_mobile=this.scene.ConfigOptions.container.querySelector(".xp__spots-mobile"),UI_spots_mobile.innerHTML=tmpHTML),i=0;i<a.length;i++)a[i].element=UI_spots.querySelector(".spot-"+(i+1)),is_mobile&&(a[i].element_mobile=UI_spots_mobile.querySelector(".spot-"+(i+1)));for(i=0;i<_configData.anims.length;i++){b=_configData.anims[i].opened;for(var k=0;k<b.length;k++)b[k]=String(b[k]),b[k]=b[k].split("angle").join("-0.202004"),b[k]=eval(b[k])}},_setTexture=function(e,t){this.texs.makeTex(e,this.scene.ConfigOptions.pathImg+t+".jpg",!0,!1,!0,!1,!1,this.scene.gl.RGB,!1)},_setupTextures=function(){_setTexture.bind(this)("matcap","matcaps"),_setTexture.bind(this)("normals_01","01_n"),_setTexture.bind(this)("01_ao","01_ao"),_setTexture.bind(this)("noop","noop"),_setTexture.bind(this)("noop_a","noop_a"),_setTexture.bind(this)("normals_04","04_n"),_setTexture.bind(this)("normals_03","03_n"),_setTexture.bind(this)("normals_02","02_n"),_setTexture.bind(this)("normals_06","06_n"),_setTexture.bind(this)("normals_07","07_n"),_setTexture.bind(this)("normals_08","08_n"),_setTexture.bind(this)("normals_adh","adh"),_setTexture.bind(this)("normals_09","09_n"),_setTexture.bind(this)("normals_10","10_n"),_setTexture.bind(this)("normals_12","12_n"),_setTexture.bind(this)("ao_02","02_ao"),_setTexture.bind(this)("ao_04","04_ao"),_setTexture.bind(this)("ao_06","06_ao"),_setTexture.bind(this)("ao_07","07_ao"),_setTexture.bind(this)("ao_08","08_ao"),_setTexture.bind(this)("ao_09","09_ao"),_setTexture.bind(this)("alpha_02","02_alpha"),_setTexture.bind(this)("alpha_10","10_alpha"),_setTexture.bind(this)("ground","ground")},_setupMaterials=function(){var e,t=this.mats;(e=new MatcapMaterial(this.gl,this,!1)).tDiffuse.set(this.texs.getTexture("matcap")),e.tAo.set(this.texs.getTexture("01_ao")),e.tAlpha.set(this.texs.getTexture("noop")),e.tNormals.set(this.texs.getTexture("normals_01")),t.registerMaterial(e,"phantom_mat"),(e=new MatcapMaterial(this.gl,this,!1)).tDiffuse.set(this.texs.getTexture("matcap")),e.tAo.set(this.texs.getTexture("ao_02")),e.tAlpha.set(this.texs.getTexture("noop")),e.tNormals.set(this.texs.getTexture("normals_02")),t.registerMaterial(e,"phantom_mat_02"),(e=new MatcapMaterial(this.gl,this,!0)).tDiffuse.set(this.texs.getTexture("matcap")),e.tAo.set(this.texs.getTexture("noop")),e.tAlpha.set(this.texs.getTexture("alpha_02")),e.tNormals.set(this.texs.getTexture("normals_02")),t.registerMaterial(e,"phantom_mat_02_b"),(e=new MatcapMaterial(this.gl,this,!1)).tDiffuse.set(this.texs.getTexture("matcap")),e.tAo.set(this.texs.getTexture("noop")),e.tAlpha.set(this.texs.getTexture("noop")),e.tNormals.set(this.texs.getTexture("normals_03")),t.registerMaterial(e,"phantom_mat_03"),(e=new MatcapMaterial(this.gl,this,!1)).tDiffuse.set(this.texs.getTexture("matcap")),e.tAo.set(this.texs.getTexture("ao_04")),e.tAlpha.set(this.texs.getTexture("noop")),e.tNormals.set(this.texs.getTexture("normals_04")),t.registerMaterial(e,"phantom_mat_04"),(e=new MatcapMaterial(this.gl,this,!1)).tDiffuse.set(this.texs.getTexture("matcap")),e.tAo.set(this.texs.getTexture("ao_06")),e.tAlpha.set(this.texs.getTexture("noop")),e.tNormals.set(this.texs.getTexture("normals_06")),t.registerMaterial(e,"phantom_mat_06"),(e=new MatcapMaterial(this.gl,this,!1)).tDiffuse.set(this.texs.getTexture("matcap")),e.tAo.set(this.texs.getTexture("ao_07")),e.tAlpha.set(this.texs.getTexture("noop")),e.tNormals.set(this.texs.getTexture("normals_07")),t.registerMaterial(e,"phantom_mat_07"),(e=new MatcapMaterial(this.gl,this,!1)).tDiffuse.set(this.texs.getTexture("matcap")),e.tAo.set(this.texs.getTexture("ao_08")),e.tAlpha.set(this.texs.getTexture("noop")),e.tNormals.set(this.texs.getTexture("normals_08")),t.registerMaterial(e,"phantom_mat_08"),(e=new MatcapMaterial(this.gl,this,!1)).tDiffuse.set(this.texs.getTexture("matcap")),e.tAo.set(this.texs.getTexture("noop")),e.tAlpha.set(this.texs.getTexture("noop")),e.tNormals.set(this.texs.getTexture("normals_adh")),t.registerMaterial(e,"phantom_mat_08_b"),(e=new MatcapMaterial(this.gl,this,!1)).tDiffuse.set(this.texs.getTexture("matcap")),e.tAo.set(this.texs.getTexture("ao_09")),e.tAlpha.set(this.texs.getTexture("noop")),e.tNormals.set(this.texs.getTexture("normals_09")),t.registerMaterial(e,"phantom_mat_09"),(e=new MatcapMaterial(this.gl,this,!0)).tDiffuse.set(this.texs.getTexture("matcap")),e.tAo.set(this.texs.getTexture("noop")),e.tAlpha.set(this.texs.getTexture("alpha_10")),e.tNormals.set(this.texs.getTexture("normals_10")),t.registerMaterial(e,"phantom_mat_10"),(e=new MatcapMaterial(this.gl,this,!1)).tDiffuse.set(this.texs.getTexture("matcap")),e.tAo.set(this.texs.getTexture("noop")),e.tAlpha.set(this.texs.getTexture("noop")),e.tNormals.set(this.texs.getTexture("noop_a")),t.registerMaterial(e,"phantom_mat_11"),(e=new MatcapMaterial(this.gl,this,!1)).tDiffuse.set(this.texs.getTexture("matcap")),e.tAo.set(this.texs.getTexture("noop")),e.tAlpha.set(this.texs.getTexture("noop")),e.tNormals.set(this.texs.getTexture("normals_12")),t.registerMaterial(e,"phantom_mat_12"),(e=new BasicMaterial(this.gl,this.scene,!1)).tDiffuse.set(this.texs.getTexture("ground")),t.registerMaterial(e,"ground_mat")};module.exports=Sample},{"./BasicMaterial":16,"./MatcapMaterial":17,"assets/awd-scene":1,config:13,"gl-matrix":55,"lib/awd":23,"nanogl-node":70,"utils/color":32,"utils/css":33,"utils/math":35}],19:[function(e,t,n){function r(e){this.gl=e,this.name="",this.subgeoms=[]}function i(e){this.gl=e,this.buffers=[],this.ibuffer=null,this.indices=null,this.vertices=[],this.bounds=new o}var o=(e("nanogl/arraybuffer"),e("nanogl/indexbuffer"),e("nanogl-pbr/lib/bounds"));e("assets/mouse"),r.prototype={},r.SubGeom=i,i.prototype={setup:function(e){for(var t=0;t<this.buffers.length;t++)this.buffers[t].attribPointer(e);this.ibuffer.bind()},render:function(){this.ibuffer.drawTriangles()}},t.exports=r},{"assets/mouse":8,"nanogl-pbr/lib/bounds":71,"nanogl/arraybuffer":91,"nanogl/indexbuffer":93}],20:[function(e,t,n){function r(e){d=e,function(){for(var e=0;e<h.length;e++)h[e].scope[h[e].fname](!1)}()}function i(e){return c[e][d]}var o=3,a=2,s=1,l=0,c={half_dpi:[!1,!1,!1,!1],max_dpi:[1,2,.5,.85],anisotropy:[0,0,0,0],assets_path:["","","",""],bin_suff:["ld","ld","ld","ld"],shaderQuality:["QUALITY_LOW","QUALITY_MED","QUALITY_HI","QUALITY_HI"],blurSamples:[16,32,32,64],linearSampling:[!1,!1,!1,!1],shadows:[!1,!1,!1,!1],shadowFilter:["PCFNONE","PCFNONE","PCFNONE","PCFNONE"],shadowMapSize:[512,512,512,512],post:[!0,!0,!0,!0],dof:[!1,!1,!1,!1],bloom:[!1,!1,!1,!1]},u=e("utils/getQuery")("quality",s),d=parseInt(u),h=[],f={setUD:function(){r(o)},setHI:function(){r(a)},setMED:function(){r(s)},setLOW:function(){r(l)},setQuality:r,getQuality:function(){return d},param:i,on:function(e,t,n){h.push({scope:e,fname:t}),n||e[t](!0)},release:function(){h=[]},getMacroDefs:function(){return["#define "+i("shaderQuality")+" 1"].join("\n")},lowTextDir:function(){return c.assets_path[1]}};t.exports=f},{"utils/getQuery":34}],21:[function(e,t,n){var r=e("nanogl-node"),i=e("./utils").setupObj3D;t.exports=function(){return function(e,t,n,o){var a=(o.gl,new r);return i(a,e,t,o),a}}},{"./utils":26,"nanogl-node":70}],22:[function(e,t,n){var r=e("gl/geometry"),i=e("nanogl/arraybuffer"),o=e("nanogl/indexbuffer"),a=e("awdlib/lib/awdlib_readonly").consts,s=function(e){switch(e){case a.POSITION:return"aPosition";case a.UVS:return"aTexCoord";case a.NORMAL:return"aNormal";case a.TANGENT:return"aTangent";case a.JOIN_IDX:return"join_index";case a.JOIN_WGT:return"join_weight";case a.SUVS:return"aTexCoord1";case a.COLOR:return"aColor";case a.BINORMAL:return"aBitangent"}throw new Error("unknown stream type")};t.exports=function(){function e(e,t){var n=0;switch(e.ftype){case a.UINT8:n=t.UNSIGNED_BYTE;break;case a.UINT16:n=t.UNSIGNED_SHORT;break;case a.UINT32:n=t.UNSIGNED_INT;break;default:throw new Error("AWD : unsupported index buffer type "+e.ftype)}var r=new o(t,n);return r.data(e.data),r}function t(e,t){if(7!==e.ftype)throw new Error("AWD : vertex buffer type not f32");var n=new i(t);n.data(e.data);for(var r=e.attributes,o=0;o<r.length;o++){var a=r[o];n.attrib(s(a.type),a.len,t.FLOAT)}return n}return function(n,i,o,a){var s=a.gl,l=i.keepBuffer,c=new r(s);c.name=n.name;for(var u=n.subGeoms,d=0;d<u.length;d++){var h=u[d],f=new r.SubGeom(s);c.subgeoms.push(f);var p=h.props;f.bounds.fromMinMax([p.get(10),p.get(11),p.get(12)],[p.get(13),p.get(14),p.get(15)]);for(var m=h.buffers,v=0;v<m.length;v++){var g=m[v];g.isIndex?(f.ibuffer=e(g,s),l&&(f.indices=g.data)):(f.buffers.push(t(g,s)),l&&f.vertices.push(g.data))}}return c}}},{"awdlib/lib/awdlib_readonly":38,"gl/geometry":19,"nanogl/arraybuffer":91,"nanogl/indexbuffer":93}],23:[function(e,t,n){function r(e,t){var n=awdLib_pil.extInfos;if(t==n.URI)switch(e){case n.INTERLEAVED_GEOM:return o.handleGeometry}else switch(e){case a.MESH:return o.handleMesh;case a.CONTAINER:return o.handleContainer;case a.MATERIAL:return o.handleMaterial}return null}function i(e){this.buffer=e,this.basedir="./",this.awd=null,this.keepBuffer=!1;var t={resolve:function(e){return e&&t[e.id]?t[e.id]:null}};this._lib=t,this._lib.lights=[],this._lib.meshes=[],this._byName={},this._objects=[]}awdLib=e("awdlib/lib/awdlib_readonly"),awdLib_pil=e("awdlib/lib/awdlib_pil_readonly"),awdLib_std=e("awdlib/lib/awdlib_std_readonly");var o,a=awdLib.consts,s=awdLib_pil.InterleavedGeometry,l=s.prototype.subGeomFactory;s.prototype.subGeomFactory=function(){var e=l.call(this);return e.props.expected[10]=7,e.props.expected[11]=7,e.props.expected[12]=7,e.props.expected[13]=7,e.props.expected[14]=7,e.props.expected[15]=7,e},i.prototype={load:function(e,t){awdLib_pil.extInfos,this.awd=new awdLib.awd,this.awd.addExtension(awdLib_pil.ext.getExtension()),this.awd.addExtension(awdLib_std.ext.getExtension()),this.awd.parse(this.buffer);var n=this.awd._elements;this.container=t,t.gl=e.gl,this._lib.keepBuffer=this.keepBuffer;for(var i=0;i<n.length;i++){var o=n[i],a=r(o.type,o.nsUri);if(a){var s=a(o,this._lib,t,e);this._lib[o.id]=s,this._byName[o.name]=s,this._objects.push(s)}}},getObjectByName:function(e){return this._byName[e]},getObjects:function(){return this._objects},getMeshes:function(){return this._lib.meshes}},o={handleGeometry:e("./geometry")(),handleMesh:e("./mesh")(),handleContainer:e("./container")(),handleMaterial:e("./material")()},t.exports=i},{"./container":21,"./geometry":22,"./material":24,"./mesh":25,"awdlib/lib/awdlib_pil_readonly":37,"awdlib/lib/awdlib_readonly":38,"awdlib/lib/awdlib_std_readonly":39}],24:[function(e,t,n){e("./utils").hexToRGB,t.exports=function(e){return function(e,t,n,r){var i=(e.fileData,e.name);return e.uri,r.getMaterial(i)}}},{"./utils":26}],25:[function(e,t,n){var r=e("./utils").setupObj3D,i=e("entities/mesh");t.exports=function(e){return function(e,t,n,o){var a=o.gl,s=new i(a),l=t.resolve(e.geometry);r(s,e,t,o),s.geom=l;for(var c=e.materials,u=0;u<c.length;++u){var d=c[u],h=t.resolve(d);s.materials.push(h)}return t.meshes.push(s),s}}},{"./utils":26,"entities/mesh":15}],26:[function(e,t,n){t.exports={hexToRGB:function(e){return[(e>>>16&255)/255,(e>>>8&255)/255,(e>>>0&255)/255]},setupObj3D:function(e,t,n,r){(e.setMatrix(t.matrix.data),e.name=t.name,t.parent)?n.resolve(t.parent).add(e):r.node.add(e)}}},{}],27:[function(e,t,n){function r(){this.l=i.create(),this.r=i.create(),this.b=i.create(),this.t=i.create(),this.n=i.create(),this.f=i.create(),this.planes=[this.n,this.l,this.r,this.b,this.t,this.f]}var i=e("gl-matrix").vec4,o=[null,null];r.prototype={fromMVP:function(e){this.l[0]=e[3]+e[0],this.l[1]=e[7]+e[4],this.l[2]=e[11]+e[8],this.l[3]=e[15]+e[12],this.r[0]=e[3]-e[0],this.r[1]=e[7]-e[4],this.r[2]=e[11]-e[8],this.r[3]=e[15]-e[12],this.b[0]=e[3]+e[1],this.b[1]=e[7]+e[5],this.b[2]=e[11]+e[9],this.b[3]=e[15]+e[13],this.t[0]=e[3]-e[1],this.t[1]=e[7]-e[5],this.t[2]=e[11]-e[9],this.t[3]=e[15]-e[13],this.n[0]=e[3]+e[2],this.n[1]=e[7]+e[6],this.n[2]=e[11]+e[10],this.n[3]=e[15]+e[14],this.f[0]=e[3]-e[2],this.f[1]=e[7]-e[6],this.f[2]=e[11]-e[10],this.f[3]=e[15]-e[14]},intersectFrustumAABB:function(e){o[0]=e.min,o[1]=e.max;for(var t=0;t<6;++t){var n=this.planes[t],r=n[0]>0?1:0,i=n[1]>0?1:0,a=n[2]>0?1:0;if(n[0]*o[r][0]+n[1]*o[i][1]+n[2]*o[a][2]<-n[3])return!1}return!0}},t.exports=r},{"gl-matrix":55}],28:[function(e,t,n){function r(e,t){if(this.options=e,this.enabled=o(),!o())return this.fallback(),!1;var n=e.container;BrowserDetect.bindEvents(n);var r=n.querySelector(".xp__surface");this.renderer=new i(r),this.renderer.parent=this,this.renderer.scene.ConfigOptions=e,this.renderer.scene.ConfigData=t,this.renderer.scene.init(),window.addEventListener("resize",this.resize.bind(this),!1)}e("gsap/src/uncompressed/TweenLite"),e("utils/BrowserDetect");var i=e("./renderer");r.prototype={load:function(){return!!this.enabled&&void this.renderer.scene.load().then(this.onLoaded.bind(this))},fallback:function(){this.options.fallback()},onProgress:function(e){this.renderer.scene.sample.onProgress(e),this.options.progress(e)},onLoaded:function(){this.options.container.querySelector(".xp__load").classList.add("hide"),this.options.complete(),this.renderer.scene.ready(),this.resize(),this.renderer.play()},pause:function(){return!!this.enabled&&void this.renderer.stop()},play:function(){return!!this.enabled&&void this.renderer.play()},resize:function(){this.renderer.resize()}};var o=function(){var e,t;try{(t=(e=document.createElement("canvas")).getContext("webgl")||e.getContext("experimental-webgl")).getSupportedExtensions()}catch(e){return!1}return void 0!==t};window.XP=r},{"./renderer":29,"gsap/src/uncompressed/TweenLite":65,"utils/BrowserDetect":31}],29:[function(e,t,n){var r=e("nanogl-renderer"),i=e("./scene"),o=Math.min(1.25,window.devicePixelRatio),a=!0,s=!1;1===o&&(s=!0);var l=r({pixelRatio:o,hdpi:!1,init:function(){this.scene=new i(this)},getContextOptions:function(){return{depth:!0,stencil:!1,antialias:s,alpha:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1}},render:function(e){a&&this.scene.render(e),a=!a},resize:function(){this.scene.resize()}});t.exports=l},{"./scene":30,"nanogl-renderer":79}],30:[function(e,t,n){function r(e){this.renderer=e,this.gl=e.gl,this.dt=1/60}var i=(e("when"),e("nanogl-state")),o=e("nanogl-camera"),a=e("nanogl-node"),s=e("./utils/net"),l=e("./assets/textures-loader"),c=e("./assets/materials-lib"),u=e("./entities/sample/sample"),d=e("gl/quality");r.prototype={init:function(){var e=this.gl;this.renderer._checkSize(),this.root=new a,this.time=0,this.camera=o.makePerspectiveCamera(),this.camera.lens.setAutoFov(60/180*Math.PI),this.camera.lens.near=.1,this.camera.lens.far=2,e.state=new i(e),this.texs=new l(e),this.mats=new c(e,this),this.sample=new u(this),this.subroot=new a,this.camera_container=new a,this.root.add(this.subroot),this.subroot.add(this.camera_container),this.camera_container.add(this.camera),this.subroot.add(this.sample.node),d.on(this,"qualityChange"),this.states={STATE_LOAD:"load",STATE_LOADED:"loaded"},this.state=this.states.STATE_LOAD},resize:function(){},qualityChange:function(){this.renderer.pixelRatio=Math.min(window.devicePixelRatio,d.param("max_dpi")),this.renderer.updateSize()},ready:function(){this.sample.ready()},render:function(e){this.state!==this.states.STATE_LOAD&&(this.gl,this.dt=e,this.time+=e,this.sample.preRender(e),this.root.updateWorldMatrix(),this.camera.updateViewProjectionMatrix(this.renderer.width,this.renderer.height),this.renderScene())},renderScene:function(e){this.gl.viewport(0,0,this.renderer.width,this.renderer.height),this.gl.clearColor(.93,.93,.93,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT),this.renderColor()},renderColor:function(){this.sample.render(c.OPAQUE),this.sample.render(c.BLENDED)},load:function(){var e=[];return e=e.concat(this.sample.getLoadables()),s.whenAll(e).then(this.onLoaded.bind(this),null,this.onLoadProgress.bind(this))},onLoaded:function(){this.state=this.states.STATE_LOADED},onLoadProgress:function(e){this.renderer.parent.onProgress(e)}},t.exports=r},{"./assets/materials-lib":6,"./assets/textures-loader":11,"./entities/sample/sample":18,"./utils/net":36,"gl/quality":20,"nanogl-camera":66,"nanogl-node":70,"nanogl-state":82,when:116}],31:[function(e,t,n){var r,i,o=function(e,t){return function(){return e.apply(t,arguments)}};window.Device=function(){function e(){this._handleOrientation=o(this._handleOrientation,this),this._handleResize=o(this._handleResize,this),this.onDOMloaded=o(this.onDOMloaded,this),this.previousDevice=window.device,window.device={},this._doc_element=null,this._user_agent=window.navigator.userAgent.toLowerCase()}return e.prototype.osx=function(){return this._find("mac os x")},e.prototype.ios=function(){return this.iphone()||this.ipod()||this.ipad()},e.prototype.iphone=function(){return this._find("iphone")},e.prototype.ipod=function(){return this._find("ipod")},e.prototype.ipad=function(){return this._find("ipad")},e.prototype.android=function(){return this._find("android")},e.prototype.chrome=function(){return this._find("chrome")},e.prototype.firefox=function(){return this._find("firefox")},e.prototype.ie=function(){return null!==new RegExp("trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(this._user_agent)||null!==new RegExp("msie").exec(this._user_agent)},e.prototype.ie12=function(){return this._find("msie 12.0")},e.prototype.ie11=function(){return this._find("msie 11.0")},e.prototype.ie10=function(){return this._find("msie 10.0")},e.prototype.ie9=function(){return this._find("msie 9.0")},e.prototype.ie8=function(){return this._find("msie 8.0")},e.prototype.ie7=function(){return this._find("msie 7.0")},e.prototype.ie6=function(){return this._find("msie 6.0")},e.prototype.safari=function(){return this._find("safari")},e.prototype.getAndroidVersion=function(){var e=this._user_agent.match(/android\s([0-9\.]*)/);return!!e&&e[1]},e.prototype.androidPhone=function(){return this.android()&&this._find("mobile")},e.prototype.androidTablet=function(){return window.innerWidth,this.android()&&!this._find("mobile")},e.prototype.blackberry=function(){return this._find("blackberry")||this._find("bb10")||this._find("rim")},e.prototype.blackberryPhone=function(){return this.blackberry()&&!this._find("tablet")},e.prototype.blackberryTablet=function(){return this.blackberry()&&this._find("tablet")},e.prototype.windows=function(){return this._find("windows")},e.prototype.windowsPhone=function(){return this.windows()&&this._find("phone")},e.prototype.windowsTablet=function(){return this.windows()&&this._find("touch")&&!this.windowsPhone()},e.prototype.fxos=function(){return(this._find("(mobile;")||this._find("(tablet;"))&&this._find("; rv:")},e.prototype.fxosPhone=function(){return this.fxos()&&this._find("mobile")},e.prototype.fxosTablet=function(){return this.fxos()&&this._find("tablet")},e.prototype.meego=function(){return this._find("meego")},e.prototype.cordova=function(){return window.cordova&&"file:"===location.protocol},e.prototype.nodeWebkit=function(){return"object"==typeof window.process},e.prototype.mobile=function(){return this.androidPhone()||this.iphone()||this.ipod()||this.windowsPhone()||this.blackberryPhone()||this.fxosPhone()||this.meego()},e.prototype.tablet=function(){return this.ipad()||this.androidTablet()||this.blackberryTablet()||this.windowsTablet()||this.fxosTablet()},e.prototype.desktop=function(){return!this.tablet()&&!this.mobile()},e.prototype.nexus5=function(){return this._find("nexus 5")},e.prototype.portrait=function(){return window.innerHeight/window.innerWidth>1},e.prototype.landscape=function(){return window.innerHeight/window.innerWidth<1},e.prototype.noConflict=function(){return window.device=this.previousDevice,this},e.prototype.browserVersion=function(){var e,t,n;return t=void 0,e=(n=navigator.userAgent).match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],/trident/i.test(e[1])?{name:"IE ",version:(t=/\brv[ :]+(\d+)/g.exec(n)||[])[1]||""}:"Chrome"===e[1]&&null!==(t=n.match(/\bOPR\/(\d+)/))?{name:"Opera",version:t[1]}:(e=e[2]?[e[1],e[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(t=n.match(/version\/(\d+)/i))&&e.splice(1,1,t[1]),{name:e[0],version:e[1]})},e.prototype._find=function(e){return-1!==this._user_agent.indexOf(e)},e.prototype._hasClass=function(e){var t;return t=new RegExp("\\b("+e+")\\b","i"),this._doc_element.className.match(t)},e.prototype._addClass=function(e){if(!this._hasClass(e))return this._doc_element.className+=" "+e},e.prototype._removeClass=function(e){var t;if(this._hasClass(e))return t=new RegExp("\\b("+e+")\\b","i"),this._doc_element.className=this._doc_element.className.replace(t,"")},e.prototype.onDOMloaded=function(e){return this._doc_element=e,this.ios()?this.ipad()?this._addClass("ios ipad tablet"):this.iphone()?this._addClass("ios iphone mobile"):this.ipod()&&this._addClass("ios ipod mobile"):this.android()?this.desktop()?this._addClass("android desktop error-android-resolution"):this.androidTablet()?this._addClass("android tablet"):this._addClass("android mobile"):this.blackberry()?this.blackberryTablet()?this._addClass("blackberry tablet"):this._addClass("blackberry mobile"):this.windows()?this.windowsTablet()?this._addClass("windows tablet"):this.windowsPhone()?this._addClass("windows mobile"):this.windows()&&this._addClass("windows desktop"):this.fxos()?this.fxosTablet()?this._addClass("fxos tablet"):this._addClass("fxos mobile"):this.meego()?this._addClass("meego mobile"):this.nodeWebkit()?this._addClass("node-webkit"):this.osx()?this._addClass("osx desktop"):this._addClass("desktop"),this.desktop()&&this._addClass("desktop"),this.cordova()&&this._addClass("cordova"),this.chrome()&&this._addClass("chrome"),this.firefox()&&this._addClass("firefox"),this.ie()&&(this._addClass("ie"),this.ie6()?this._addClass("ie6"):this.ie7()?this._addClass("ie7"):this.ie8()?this._addClass("ie8"):this.ie9()?this._addClass("ie9"):this.ie10()?this._addClass("ie10"):this._addClass("ie11")),this._supports_orientation="onorientationchange"in window,this._orientation_event=(this._supports_orientation,"orientationchange"),window.addEventListener?window.addEventListener("resize",this._handleResize,!1):document.attachEvent("resize",this._handleResize),this._handleResize()},e.prototype.orientationCallback=null,e.prototype._handleResize=function(){var e;this._handleScreenOrientation(),e="portrait",this.landscape()?(this._removeClass("portrait"),this._addClass("landscape"),e="landscape"):(this._removeClass("landscape"),this._addClass("portrait")),"function"==typeof this.orientationCallback&&this.orientationCallback(e)},e.prototype._handleOrientation=function(e){var t;this._handleScreenOrientation(),t="portrait",this.landscape()?(this._removeClass("portrait"),this._addClass("landscape"),t="landscape"):(this._removeClass("landscape"),this._addClass("portrait")),"function"==typeof this.orientationCallback&&this.orientationCallback(t)},e.prototype.screenOrientation=function(){return window.screen.availHeight/window.screen.availWidth>1?"portrait":"landscape"},e.prototype._handleScreenOrientation=function(){"portrait"===this.screenOrientation()?(this._removeClass("screenlandscape"),this._addClass("screenportrait")):(this._removeClass("screenportrait"),this._addClass("screenlandscape"))},e}(),r=function(){function e(){}var t,n;return n=null,e.get=function(){return null!=n?n:n=new t},t=function(){function e(){this.onChangeOrientation=o(this.onChangeOrientation,this),this.device=new window.Device,this.browserVersion=this.device.browserVersion(),this.isOSX=this.device.osx(),this.isIpad=this.device.ios()&&this.device.ipad(),this.isIphone=this.device.ios()&&(this.device.iphone()||this.device.ipod),this.isIos=this.device.ios(),this.isAndroidTablet=this.device.android()&&this.device.androidTablet(),this.device.android()&&!this.device.androidTablet()&&(this.isAndroidPhone=!0),this.isAndroid=this.device.android(),this.isTablet=this.device.tablet(),this.isMobile=this.device.mobile(),this.isDesktop=this.device.desktop(),this.isNexus5=this.device.nexus5(),this.isWindow=this.device.windows(),this.isWindowsPhone=this.device.windowsPhone(),this.isWindowsTablet=this.device.windowsTablet(),this.isChrome=this.device.chrome(),this.isFirefox=this.device.firefox(),this.isIE=this.device.ie(),this.isIE6=this.device.ie6(),this.isIE7=this.device.ie7(),this.isIE8=this.device.ie8(),this.isIE9=this.device.ie9(),this.isIE10=this.device.ie10(),this.isIE11=this.device.ie11(),this.isIE12=this.device.ie12(),this.isIEDesktop=this.device.ie()&&!this.device.windowsPhone()&&!this.device.windowsTablet(),this.isltIE10=this.device.ie9()||this.device.ie8()||this.device.ie7()||this.device.ie6(),this.islteIE10=this.device.ie10()||this.device.ie9()||this.device.ie8()||this.device.ie7()||this.device.ie6(),this.isltIE9=this.device.ie8()||this.device.ie7()||this.device.ie6(),this.islteIE9=this.device.ie9()||this.device.ie8()||this.device.ie7()||this.device.ie6(),this.isSafari=!this.device.chrome()&&this.device.safari(),this.isLandscape=this.device.landscape(),this.isPortrait=this.device.portrait(),this.isGalaxyTab10inches=this.device.android()&&i("(min-device-width: 1280px) and (max-device-width: 1281px) and (orientation: landscape), (min-device-width: 800px) and (max-device-width: 801px) and (orientation: portrait)"),this.isGalaxyTab7inches=this.device.android()&&i("(min-device-width: 1024px) and (max-device-width: 1025px) and (orientation: landscape), (min-device-width: 600px) and (max-device-width: 601px) and (orientation: portrait)"),this.isGalaxyTab=this.isGalaxyTab7inches||this.isGalaxyTab10inches,this.isDesktop&&this.isGalaxyTab&&(this.isMobile=this.isDesktop=!1,this.isTablet=!0)}return e.prototype.forceGalaxyTab=function(){return this.device.desktop=function(){return!0},this.device.tablet=function(){return!1},this.device.mobile=function(){return!1},this.isDesktop=this.device.desktop(),this.isTablet=this.device.tablet(),this.isMobile=this.device.mobile()},e.prototype.bindEvents=function(e){return e?this.device.onDOMloaded(e):this.device.onDOMloaded(window.document.body)},e.prototype.onChangeOrientation=function(e){if(null==e&&(e=null),null!=e)return this.device.orientationCallback=e},e}(),e}(),i=function(e){var t,n,r;if(null!=window.matchMedia)switch(t="(min-device-width: 1024px)",r="(min-device-width: 768px) and (max-device-width: 1023px)",n="(min-device-width: 320px) and (max-device-width: 767px)",e){case"mobile":return window.matchMedia(n).matches;case"tablet":return window.matchMedia(r).matches;case"desktop":return window.matchMedia(t).matches;default:return window.matchMedia(e).matches}},window.BrowserDetect=r.get(),t.exports=window.BrowserDetect},{}],32:[function(e,t,n){function r(e,t){return t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(255&e)/255,t}var i=new Float32Array(3);t.exports={HexToVec:r,VecToHex:function(e){return Math.round(255*e[0])<<16|Math.round(255*e[1])<<8|Math.round(255*e[2])},RGBToHex:function(e){var t=function(e){var t=Math.round(e).toString(16);return 1===t.length?"0"+t:t};return parseInt("0x"+t(e[0])+t(e[1])+t(e[2]))},HexToRGB:function(e){return[e>>16&255,e>>8&255,255&e]},MakeFromHex:function(e){return r(e,new Float32Array(3))},HexInput:function(e,t){r(t,i),e.set(i[0],i[1],i[2])}}},{}],33:[function(e,t,n){t.exports={setVendor:function(e,t,n){e.style["webkit"+t]=n,e.style["moz"+t]=n,e.style["ms"+t]=n,e.style["o"+t]=n,e.style[t]=n}}},{}],34:[function(e,t,n){t.exports=function(e,t){var n;return void 0===t&&(t=""),(n=new RegExp("&?"+e+"=([^&]+)","g").exec(location.search))?n[1].replace(/%20|\+/g," "):t}},{}],35:[function(e,t,n){var r=e("gl-matrix"),i=(r.mat4,r.mat3),o=r.vec3,a=r.quat,s=i.create(),l=new Float32Array(s.buffer,0,3),c=new Float32Array(s.buffer,12,3),u=new Float32Array(s.buffer,24,3);VUP=o.fromValues(0,1,0);var d=2*Math.PI;t.exports={pryToQuaternion:function(e,t,n){var r=a.create(),i=Math.cos(.5*n),o=Math.sin(.5*n),s=Math.cos(.5*t),l=Math.sin(.5*t),c=Math.cos(.5*e),u=Math.sin(.5*e);return r[3]=i*s*c+o*l*u,r[0]=i*l*c-o*s*u,r[1]=i*s*u+o*l*c,r[2]=o*s*c-i*l*u,r},clamp:function(e){return Math.min(1,Math.max(0,e))},clamp2:function(e,t,n){return Math.min(n,Math.max(t,e))},zeroPrefix:function(e,t){for(var n=String(e),r=t;r>0;r--)e<Math.pow(10,r)&&(n="0"+n);return n},normalizeAngle:function(e){for(;e>=d;)e-=d;for(;e<0;)e+=d;return e},normalizeAngleTurn:function(e,t){for(;e>=d*t;)e-=d*t;for(;e<0;)e+=d*t;return e},normalizeDeltaAngle:function(e,t){var n=t-e,r=n-d,i=n+d;return Math.abs(r)<Math.abs(n)&&(n=r),Math.abs(i)<Math.abs(n)&&(n=i),e+n},mat3Lookat:function(e,t){o.normalize(u,t),o.cross(l,VUP,u),o.normalize(l,l),o.cross(c,u,l),e.set(s)}}},{"gl-matrix":55}],36:[function(e,t,n){function r(e,t){var n,r;return n=i.defer(),(r=new XMLHttpRequest).open("GET",e,!0),r.responseType=t,r.onload=function(){return n.resolve(r.response)},r.error=function(e){return n.reject(e)},r.send(),n.promise}var i=e("when");t.exports={loadJson:function(e){return r(e,"").then(function(e){return JSON.parse(e)})},loadBytes:function(e){return r(e,"arraybuffer")},loadImage:function(e){var t=i.defer(),n=new Image;return n.onload=function(){t.resolve(n)},n.onerror=function(){t.reject()},n.crossOrigin="anonymous",n.src=e,t.promise},whenAll:function(e){function t(){r--,n.notify(1-r/e.length),0===r&&n.resolve(!0)}for(var n=i.defer(),r=e.length,o=0;o<e.length;o++)e[o].then(t,n.reject);return n.promise},throttling:function(e,t){var n=i.defer(),r=i.defer(),o=Date.now(),a=0;e.then(null,null,function(e){a=e});var s=setInterval(function(){var e=Date.now()-o,i=Math.min(e/t,a);e>t&&r.resolve(),n.notify(i)},50);return i.all([e,r.promise]).then(function(){clearInterval(s),n.resolve(!0)}),n.promise}}},{when:116}],37:[function(e,t,n){(function(r){!function(e){if("object"==typeof n&&void 0!==t)t.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:this).awdlib_pil=e()}}(function(){return function t(n,r,i){function o(s,l){if(!r[s]){if(!n[s]){var c="function"==typeof e&&e;if(!l&&c)return c(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var d=r[s]={exports:{}};n[s][0].call(d.exports,function(e){var t=n[s][1][e];return o(t||e)},d,d.exports,t,n,r,i)}return r[s].exports}for(var a="function"==typeof e&&e,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,t,n){var r=e("../../src/BaseElement"),i=e("../../src/bufferReader"),o=e("../../src/consts"),a=e("../std/Geometry"),s=e("./extInfos"),l=function(){this.data=null,this.attributes=[],this.ftype=o.AWD_FIELD_FLOAT32};l.HEAD_SIZE=6,l.prototype={allocate:function(e,t){var n=a.getArray(t);this.data=new n(e)},read:function(e){var t=e.U8(),n=e.U8(),r=this.attributes;this.ftype=n;var i=0;this.isIndex=!1;for(var s=0;t>s;s++){var l=e.U8(),c=e.U8();l===o.INDEX&&(t>1&&console.warn("interleaved index buffer is not alone"),this.isIndex=!0),i+=c,r.push({type:l,len:c})}var u=e.U8();e.ptr+=u;var d=e.U32(),h=e.ptr+d,f=d/a.getTypeSize(n);this.numVertices=f/i;var p=a.getArray(n);this.data=new p(e.buffer,e.ptr,f),e.ptr=h},write:void 0};var c=function(e){var t=new a.SubGeom;t.extras=e.extras.clone(),t.props=e.props.clone();for(var n,r,s,c=e.buffers,u={},d=0,h=c.length;h>d;d++)2!==(r=c[d]).type?(u[n=r.ftype]||(u[n]={list:[],ftype:n}),u[n].list.push(r)):((s=new l).attributes.push({type:2,len:3}),s.data=r.data,s.ftype=o.AWD_FIELD_UINT16,s.isIndex=!0,t.buffers.push(s));for(var f in u){var p=u[f].list,m=p[0].numVertices;n=u[f].ftype,s=new l,t.buffers.push(s),s.ftype=n;var v,g=[];for(d=0,h=p.length;h>d;d++){r=p[d];var y=new i(r.data.buffer);for(s.attributes.push({type:r.type,len:r.components}),v=0;v<r.components;v++)g.push(y)}var _=new(a.getArray(n))(g.length*m),b=a.getReadFunc(n,g[0]),w=0;for(d=0;m>d;d++)for(v=0,h=g.length;h>v;v++)_[w++]=b.call(g[v]);s.data=_}return t},u=r.createStruct(s.INTERLEAVED_GEOM,s.URI,a.prototype);u.prototype.fromGeometry=function(e){this.name=e.name,this.extras=e.extras.clone(),this.props=e.props.clone();for(var t=0,n=e.subGeoms.length;n>t;t++){var r=e.subGeoms[t];this.subGeoms.push(c(r))}},u.prototype.subGeomFactory=function(){var e=a.prototype.subGeomFactory();return e.bufferFactory=this.bufferFactory,e},u.prototype.bufferFactory=function(){return new l},u.prototype.toString=function(){return"[InterleavedGeometry "+this.name+"]"},t.exports=u},{"../../src/BaseElement":6,"../../src/bufferReader":9,"../../src/consts":12,"../std/Geometry":4,"./extInfos":3}],2:[function(e,t,n){var r=e("../../src/extension"),i=e("./InterleavedGeometry"),o=e("./extInfos"),a=[i],s=o;s.getExtension=function(){var e=new r(o.URI);return e.addStructs(a),e},t.exports=s},{"../../src/extension":13,"./InterleavedGeometry":1,"./extInfos":3}],3:[function(e,t,n){t.exports={URI:"https://github.com/plepers/awd-js",INTERLEAVED_GEOM:1}},{}],4:[function(e,t,n){!function(){"use strict";var n=e("consts"),r=e("types/awdString"),i=e("types/userAttr"),o=e("types/properties"),a=e("BaseElement").createStruct(n.GEOMETRY,null,{subGeomFactory:function(){var e=new s;return e.bufferFactory=this.bufferFactory,e},bufferFactory:function(){return new c},init:function(){this.model=n.MODEL_GEOMETRY,this.name="",this.extras=new i,this.props=new o({}),this.subGeoms=[]},read:function(e){this.name=r.read(e);var t=e.U16(),n=this.awd.header.geoNrType,i=this.props;i.expected[1]=n,i.expected[2]=n,i.read(e);var o=i.get(1,1),a=i.get(2,1);1===o&&1===a||console.log("WARN defined scale UV in geometry");for(var s,l=this.subGeoms,c=0;t>c;c++)(s=this.subGeomFactory()).read(this.awd,e),l.push(s);this.extras.read(e)},write:void 0,toString:function(){return"[Geometry "+this.name+"]"}}),s=function(){this.buffers=[],this.extras=new i,this.props=new o({})};s.prototype={getBuffersByType:function(e,t){var n,r;if(void 0===t&&(t=[]),e instanceof Array)for(n=0,r=e.length;r>n;n++)this.getBuffersByType(e[n],t);else for(n=0,r=this.buffers.length;r>n;n++)this.buffers[n].type===e&&t.push(this.buffers[n]);return t},read:function(e,t){var n=t.U32(),r=t.ptr+n,i=e.header.geoNrType,o=this.props;o.expected[1]=i,o.expected[2]=i,o.read(t);var a=o.get(1,1),s=o.get(2,1);1===a&&1===s||console.log("WARN defined scale UV in sub-geometry");for(var l,c=-1;t.ptr<r;)(l=this.bufferFactory()).read(t),!l.isIndex&&l.numVertices>-1&&(c>-1&&l.numVertices!==c&&console.log("Warn buffers in geom has differents num vertices",c,l.numVertices),c=l.numVertices),this.buffers.push(l);-1===c&&console.log("Error, Can't resolve geom buffers sizes");for(var u=0,d=this.buffers.length;d>u;u++)-1!==(l=this.buffers[u]).numVertices||l.isIndex||l.solveSize(c);this.extras.read(t)},write:function(e,t){var n=t.skipBlockSize();this.writeProps(e,t);for(var r=0,i=this.buffers.length;i>r;r++){this.buffers[r].write(t)}t.writeBlockSize(n),this.extras.write(t)},writeProps:function(e,t){var n=e.header.geoNrType,r=this.props;r.expected[1]=n,r.expected[2]=n,r.set(1,1),r.set(2,1),r.write(t)}};var l=function(e){return 2===e?n.AWD_FIELD_UINT16:4===e?n.AWD_FIELD_FLOAT32:e},c=function(){this.data=null,this.numVertices=-1,this.type=0,this.components=0,this.ftype=n.T_FLOAT,this.isIndex=!1};c.HEAD_SIZE=6,c.prototype={allocate:function(e,t){var n=f(t);void 0===n&&console.log(t),this.data=new n(e)},solveSize:function(e){this.numVertices=e,this.components=this.data.length/e},read:function(e){var t=e.U8(),r=e.U8(),i=e.U32(),o=e.ptr+i;(r=l(r))!==n.AWD_FIELD_UINT16&&r!==n.AWD_FIELD_FLOAT32&&r!==n.AWD_FIELD_FLOAT64&&console.log("WARN unexpected stream data type ",r,t,i);var a=p(t);this.isIndex=t===n.INDEX,this.type=t,this.components=a,this.ftype=r;var s=i/u(r);-1!==a&&(this.numVertices=s/a),this.allocate(s,r);for(var c=d(r,e),h=this.data,f=0;e.ptr<o;)h[f++]=c.call(e)},write:function(e){e.U8(this.type),e.U8(this.ftype);for(var t=e.skipBlockSize(),n=h(this.ftype,e),r=this.data,i=0,o=r.length;o>i;i++)n.call(e,r[i]);e.writeBlockSize(t)}};var u=function(e){switch(e){case n.AWD_FIELD_UINT16:return 2;case n.AWD_FIELD_FLOAT32:return 4;case n.AWD_FIELD_FLOAT64:return 8}throw new Error("WARN getTypeSize - unexpected stream data type "+e)},d=function(e,t){switch(e){case n.AWD_FIELD_UINT16:return t.U16;case n.AWD_FIELD_FLOAT32:return t.F32;case n.AWD_FIELD_FLOAT64:return t.F64}throw new Error("WARN getReadFunc - unexpected stream data type "+e)},h=function(e,t){switch(e){case n.AWD_FIELD_UINT16:return t.U16;case n.AWD_FIELD_FLOAT32:return t.F32;case n.AWD_FIELD_FLOAT64:return t.F64}throw new Error("WARN getWriteFunc - unexpected stream data type "+e)},f=function(e){switch(e){case n.AWD_FIELD_UINT16:return Uint16Array;case n.AWD_FIELD_FLOAT32:return Float32Array;case n.AWD_FIELD_FLOAT64:return Float64Array}throw new Error("WARN getArray - unexpected stream data type "+e)},p=function(e){switch(e){case n.POSITION:case n.INDEX:case n.NORMAL:case n.TANGENT:case n.BINORMAL:return 3;case n.UVS:return 2;case n.JOIN_WGT:case n.JOIN_IDX:default:return-1}};a.SubGeom=s,a.VertexBuffer=c,a.getTypeSize=u,a.getReadFunc=d,a.getWriteFunc=h,a.getArray=f,a.fixC4D_Type=l,t.exports=a}()},{BaseElement:6,consts:12,"types/awdString":14,"types/properties":15,"types/userAttr":16}],5:[function(e,t,n){String.prototype.codePointAt||function(){"use strict";var e=function(){try{var e={},t=Object.defineProperty,n=t(e,e,e)&&t}catch(e){}return n}(),t=function(e){if(null==this)throw TypeError();var t=String(this),n=t.length,r=e?Number(e):0;if(r!=r&&(r=0),!(0>r||r>=n)){var i,o=t.charCodeAt(r);return o>=55296&&56319>=o&&n>r+1&&((i=t.charCodeAt(r+1))>=56320&&57343>=i)?1024*(o-55296)+i-56320+65536:o}};e?e(String.prototype,"codePointAt",{value:t,configurable:!0,writable:!0}):String.prototype.codePointAt=t}()},{}],6:[function(e,t,n){!function(){var n=e("./consts"),r=e("./chunk"),i={_setup:function(e,t){this.awd=e,this.chunk=t,this.id=t.id},init:function(){this.injectDeps=!1,this.model=n.MODEL_GENERIC},getDependencies:function(){return this.deps?this.deps:null},prepareAndAdd:void 0,prepareChunk:function(){null===this.chunk&&(this.chunk=new r),this.chunk.type=this.type,this.chunk.ns=this.ns}},o={createStruct:function(e,t,n){var r,o=function(){this.type=e,this.nsUri=t,this.ns=0,this.injectDeps=!0,this.init(),this.chunk=null,this.id=-1};for(r in o.TYPE=e,i)o.prototype[r]=i[r];for(r in n)o.prototype[r]=n[r];return o}};t.exports=o}()},{"./chunk":11,"./consts":12}],7:[function(e,t,n){var r=e("./consts"),i=e("./BaseElement").createStruct(r.GENERIC,-1,{read:function(e){this.buf=new ArrayBuffer(this.chunk.size),e.readBytes(this.buf,this.chunk.size),this.setDeps()},write:function(e){e.writeBytes(this.buf,this.chunk.size)},setDeps:function(){for(var e,t=this.awd._elements,n=[],r=0,i=t.length;i>r;r++)e=t[r],n.push(e);this.deps=n},prepareAndAdd:void 0,prepareChunk:function(){}});t.exports=i},{"./BaseElement":6,"./consts":12}],8:[function(e,t,n){!function(){var n=e("./types/awdString"),r=e("./consts"),i=e("./BaseElement").createStruct(r.NAMESPACE,null,{init:function(){this.uri="",this.nsId=0},read:function(e){this.nsId=e.U8(),this.uri=n.read(e)},write:void 0});t.exports=i}()},{"./BaseElement":6,"./consts":12,"./types/awdString":14}],9:[function(e,t,n){!function(){var e=function(e,t,n){this.buffer=e,this.ptr=0,this.littleEndien=!0,t=t||0,n=n||e.byteLength,this.view=new DataView(e,t,n),this.length=this.view.byteLength};e.prototype={setPosition:function(e){this.ptr=e},setLittleEndian:function(e){this.littleEndien=e},bytesAvailable:function(){return this.length-this.ptr},I8:function(){return this.view.getInt8(this.ptr++)},U8:function(){return this.view.getUint8(this.ptr++)},I16:function(){var e=this.view.getInt16(this.ptr,this.littleEndien);return this.ptr+=2,e},U16:function(){var e=this.view.getUint16(this.ptr,this.littleEndien);return this.ptr+=2,e},I32:function(){var e=this.view.getInt32(this.ptr,this.littleEndien);return this.ptr+=4,e},U32:function(){var e=this.view.getUint32(this.ptr,this.littleEndien);return this.ptr+=4,e},F32:function(){var e=this.view.getFloat32(this.ptr,this.littleEndien);return this.ptr+=4,e},F64:function(){var e=this.view.getFloat64(this.ptr,this.littleEndien);return this.ptr+=8,e},readBytes:function(e,t){void 0===t&&(t=e.byteLength);var n=new Int8Array(e),r=new Int8Array(this.buffer,this.ptr,t);n.set(r),this.ptr+=t},subArray:function(e){var t=new Int8Array(this.buffer,this.ptr,e);return this.ptr+=e,t},readUTFBytes:function(e){for(var t,n,r,i=this.ptr+e,o=[],a=0;this.ptr<i;)0!==(t=this.U8())&&(128>t?o[a++]=String.fromCharCode(t):t>191&&224>t?(n=this.U8(),o[a++]=String.fromCharCode((31&t)<<6|63&n)):(n=this.U8(),r=this.U8(),o[a++]=String.fromCharCode((15&t)<<12|(63&n)<<6|63&r)));return o.join("")}},t.exports=e}()},{}],10:[function(e,t,n){t.exports={}},{"string.prototype.codepointat":5}],11:[function(e,t,n){!function(){var e=function(){this.id=0,this.ns=0,this.type=0,this.flags=0,this.size=0,this.data=null};e.prototype={read:function(e){this.id=e.U32(),this.ns=e.U8(),this.type=e.U8(),this.flags=e.U8(),this.size=e.U32()},write:void 0},t.exports=e}()},{}],12:[function(e,t,n){t.exports={UNCOMPRESSED:0,DEFLATE:1,LZMA:2,AWD_FIELD_INT8:1,AWD_FIELD_INT16:2,AWD_FIELD_INT32:3,AWD_FIELD_UINT8:4,AWD_FIELD_UINT16:5,AWD_FIELD_UINT32:6,AWD_FIELD_FLOAT32:7,AWD_FIELD_FLOAT64:8,AWD_FIELD_BOOL:21,AWD_FIELD_COLOR:22,AWD_FIELD_BADDR:23,AWD_FIELD_STRING:31,AWD_FIELD_BYTEARRAY:32,AWD_FIELD_VECTOR2x1:41,AWD_FIELD_VECTOR3x1:42,AWD_FIELD_VECTOR4x1:43,AWD_FIELD_MTX3x2:44,AWD_FIELD_MTX3x3:45,AWD_FIELD_MTX4x3:46,AWD_FIELD_MTX4x4:47,INT8:1,INT16:2,INT32:3,UINT8:4,UINT16:5,UINT32:6,FLOAT32:7,FLOAT64:8,AWDSTRING:31,AWDBYTEARRAY:32,MAGIC:4282180,GENERIC:0,GEOMETRY:1,PRIMITIVE:11,CONTAINER:22,MESH:23,MATERIAL:81,TEXTURE:82,NAMESPACE:254,METADATA:255,MODEL_ENTITY:2,MODEL_SKYBOX:4,MODEL_CAMERA:8,MODEL_SEGMENT_SET:16,MODEL_MESH:32,MODEL_GEOMETRY:64,MODEL_SKELETON:128,MODEL_SKELETON_POSE:256,MODEL_CONTAINER:512,MODEL_TEXTURE:1024,MODEL_TEXTURE_PROJECTOR:2048,MODEL_MATERIAL:4096,MODEL_ANIMATION_SET:8192,MODEL_ANIMATION_STATE:16384,MODEL_ANIMATION_NODE:32768,MODEL_ANIMATOR:65536,MODEL_STATE_TRANSITION:1<<17,MODEL_LIGHT:1<<18,MODEL_LIGHT_PICKER:1<<19,MODEL_SHADOW_MAP_METHOD:1<<20,MODEL_EFFECTS_METHOD:1<<21,MODEL_GENERIC:-1,POSITION:1,INDEX:2,UVS:3,NORMAL:4,TANGENT:5,JOIN_IDX:6,JOIN_WGT:7,SUVS:8,COLOR:11,BINORMAL:12,DEFAULT_NS:0}},{}],13:[function(e,t,n){var r=e("./DefaultElement"),i=e("./Namespace"),o=function(e){this.nsUri=e,this.structs=[],this.nsId=0};o.prototype={addStruct:function(e){this.structs.push(e)},addStructs:function(e){for(var t=0,n=e.length;n>t;t++)this.addStruct(e[t])},create:function(e){for(var t,n=this.structs,i=0,o=n.length;o>i;i++)if((t=n[i]).TYPE===e)return new t;return new r},createNamespace:function(){var e=new i;return e.uri=this.nsUri,e}},t.exports=o},{"./DefaultElement":7,"./Namespace":8}],14:[function(e,t,n){t.exports={read:function(e){var t=e.U16();return e.readUTFBytes(t)},write:function(e,t){t.U16(e.length),t.writeUTFBytes(e)},getUTFBytesLength:function(e){for(var t=0,n=0,r=e.length;r>n;n++){var i,o=e[n].codePointAt(0);128>o?i=1:2048>o?i=2:65536>o?i=3:2097152>o&&(i=4),t+=i}return t}}},{}],15:[function(e,t,n){!function(){var n=e("../consts"),r=(e("./awdString"),e("../bufferWriter")),i=e("../bufferReader"),o=function(e){this.expected=e,this.vars={}};o.prototype={clone:function(){var e=new r(64);this.write(e);var t=new o(this.expected);return t.read(new i(e.buffer)),t},read:function(e){var t=this.expected,n=e.U32(),r=e.ptr+n;if(t)for(;e.ptr<r;){var i,o=e.U16(),a=e.U32();this.expected.hasOwnProperty(o)?(i=t[o],this.set(o,this.parseAttrValue(i,a,e))):e.ptr+=a}e.ptr!==r&&(console.log("Warn Properties don't read entire data ",e.ptr,r,n),e.ptr=r)},write:void 0,set:function(e,t){this.vars[e]=t},get:function(e,t){return this.vars.hasOwnProperty(e)?this.vars[e]:t},writeAttrValue:void 0,parseAttrValue:function(e,t,r){var i,o;switch(e){case n.AWD_FIELD_INT8:i=1,o=r.I8;break;case n.AWD_FIELD_INT16:i=2,o=r.I16;break;case n.AWD_FIELD_INT32:i=4,o=r.I32;break;case n.AWD_FIELD_BOOL:case n.AWD_FIELD_UINT8:i=1,o=r.U8;break;case n.AWD_FIELD_UINT16:i=2,o=r.U16;break;case n.AWD_FIELD_UINT32:case n.AWD_FIELD_BADDR:i=4,o=r.U32;break;case n.AWD_FIELD_FLOAT32:i=4,o=r.F32;break;case n.AWD_FIELD_FLOAT64:i=8,o=r.F64;break;case n.AWD_FIELD_STRING:return r.U16()===t&&console.log("WARN may be Prefab bug / String property bug!!"),r.ptr-=2,r.readUTFBytes(t);case n.AWD_FIELD_VECTOR2x1:case n.AWD_FIELD_VECTOR3x1:case n.AWD_FIELD_VECTOR4x1:case n.AWD_FIELD_MTX3x2:case n.AWD_FIELD_MTX3x3:case n.AWD_FIELD_MTX4x3:case n.AWD_FIELD_MTX4x4:i=8,o=r.F64}if(t>i){var a,s,l;for(a=[],s=0,l=t/i;l>s;)a.push(o.call(r)),s++;return a}return o.call(r)}},t.exports=o}()},{"../bufferReader":9,"../bufferWriter":10,"../consts":12,"./awdString":14}],16:[function(e,t,n){!function(){var n=e("../consts"),r=e("./awdString"),i=e("../bufferWriter"),o=e("../bufferReader"),a=function(){this.attributes={},this._list=[]};a.prototype={clone:function(){var e=new i(64);this.write(e);var t=new a;return t.read(new o(e.buffer)),t},addAttribute:function(e,t,n,r){var i={name:e,value:t,type:n,ns:r};this.attributes[e]=i,this._list.push(i)},read:function(e){var t,i=e.U32();if(i>0){t={};for(var o=e.ptr+i;e.ptr<o;){var a,s=e.U8(),l=r.read(e),c=e.U8(),u=e.U32();switch(c){case n.AWDSTRING:a=e.readUTFBytes(u);break;case n.INT8:a=e.I8();break;case n.INT16:a=e.I16();break;case n.INT32:a=e.I32();break;case n.BOOL:case n.UINT8:a=e.U8();break;case n.UINT16:a=e.U16();break;case n.UINT32:case n.BADDR:a=e.U32();break;case n.FLOAT32:a=e.F32();break;case n.FLOAT64:a=e.F64();break;default:a="unimplemented attribute type "+c+"ns : "+s,e.ptr+=u}this.addAttribute(l,a,c,s),t[l]=a}}return t},write:void 0},t.exports=a}()},{"../bufferReader":9,"../bufferWriter":10,"../consts":12,"./awdString":14}],awdlib_pil:[function(e,t,n){t.exports={InterleavedGeometry:e("./InterleavedGeometry"),ext:e("./ext"),extInfos:e("./extInfos")}},{"./InterleavedGeometry":1,"./ext":2,"./extInfos":3}]},{},[])("awdlib_pil")})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],38:[function(e,t,n){(function(r){!function(e){if("object"==typeof n&&void 0!==t)t.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:this).awdlib=e()}}(function(){return function t(n,r,i){function o(s,l){if(!r[s]){if(!n[s]){var c="function"==typeof e&&e;if(!l&&c)return c(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var d=r[s]={exports:{}};n[s][0].call(d.exports,function(e){var t=n[s][1][e];return o(t||e)},d,d.exports,t,n,r,i)}return r[s].exports}for(var a="function"==typeof e&&e,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,t,n){String.prototype.codePointAt||function(){"use strict";var e=function(){try{var e={},t=Object.defineProperty,n=t(e,e,e)&&t}catch(e){}return n}(),t=function(e){if(null==this)throw TypeError();var t=String(this),n=t.length,r=e?Number(e):0;if(r!=r&&(r=0),!(0>r||r>=n)){var i,o=t.charCodeAt(r);return o>=55296&&56319>=o&&n>r+1&&((i=t.charCodeAt(r+1))>=56320&&57343>=i)?1024*(o-55296)+i-56320+65536:o}};e?e(String.prototype,"codePointAt",{value:t,configurable:!0,writable:!0}):String.prototype.codePointAt=t}()},{}],2:[function(e,t,n){!function(){var n=e("./consts"),r=e("./chunk"),i={_setup:function(e,t){this.awd=e,this.chunk=t,this.id=t.id},init:function(){this.injectDeps=!1,this.model=n.MODEL_GENERIC},getDependencies:function(){return this.deps?this.deps:null},prepareAndAdd:void 0,prepareChunk:function(){null===this.chunk&&(this.chunk=new r),this.chunk.type=this.type,this.chunk.ns=this.ns}},o={createStruct:function(e,t,n){var r,o=function(){this.type=e,this.nsUri=t,this.ns=0,this.injectDeps=!0,this.init(),this.chunk=null,this.id=-1};for(r in o.TYPE=e,i)o.prototype[r]=i[r];for(r in n)o.prototype[r]=n[r];return o}};t.exports=o}()},{"./chunk":8,"./consts":9}],3:[function(e,t,n){var r=e("./consts"),i=e("./BaseElement").createStruct(r.GENERIC,-1,{read:function(e){this.buf=new ArrayBuffer(this.chunk.size),e.readBytes(this.buf,this.chunk.size),this.setDeps()},write:function(e){e.writeBytes(this.buf,this.chunk.size)},setDeps:function(){for(var e,t=this.awd._elements,n=[],r=0,i=t.length;i>r;r++)e=t[r],n.push(e);this.deps=n},prepareAndAdd:void 0,prepareChunk:function(){}});t.exports=i},{"./BaseElement":2,"./consts":9}],4:[function(e,t,n){!function(){var n=e("./types/awdString"),r=e("./consts"),i=e("./BaseElement").createStruct(r.NAMESPACE,null,{init:function(){this.uri="",this.nsId=0},read:function(e){this.nsId=e.U8(),this.uri=n.read(e)},write:void 0});t.exports=i}()},{"./BaseElement":2,"./consts":9,"./types/awdString":18}],5:[function(e,t,n){var r=e("./header"),i=e("./writer"),o=e("./consts"),a=e("./chunk"),s=e("./bufferReader"),l=e("./DefaultElement"),c=function(){this.header=new r,this._elements=[],this._elementsById=[],this._extensions=[]};c.prototype={addElement:function(e){this._elements.push(e),this._elementsById[e.id]=e},removeElement:function(e){var t=this._elements.indexOf(e);t>-1&&this._elements.splice(t,1)},parse:function(e){var t=new s(e);for(this.header.read(t);t.bytesAvailable()>0;)this.parseChunk(t)},write:function(){return i.write(this)},registerNamespace:function(e){var t=this.getExtension(e.uri);t&&(t.nsId=e.nsId)},addExtension:function(e){if(null===this.getExtension(e.nsUri)){var t,n=this._extensions.push(e),r=e.createNamespace();null!==e.nsUri?(t=n+1,this.addElement(r)):t=0,r.nsId=e.nsId=t}},getExtension:function(e){for(var t=this._extensions,n=0,r=t.length;r>n;n++)if(t[n].nsUri===e)return t[n];return null},getExtensionById:function(e){for(var t=this._extensions,n=0,r=t.length;r>n;n++)if(t[n].nsId===e)return t[n];return null},getDatasByType:function(e,t,n){var r,i;if(void 0===t&&(t=null),void 0===n&&(n=[]),e instanceof Array)for(r=0,i=e.length;i>r;r++)this.getDatasByType(e[r],t,n);else for(r=0,i=this._elements.length;i>r;r++)this._elements[r].type===e&&this._elements[r].nsUri===t&&n.push(this._elements[r]);return n},getAssetByID:function(e,t){var n=[],r=0,i=this._elementsById;if(e>0&&i[e])for(;r<t.length;){if(0!=(i[e].model&t[r]))return n.push(!0),n.push(i[e]),n;if(t[r]===o.MODEL_GEOMETRY&&0!=(i[e].model&o.MODEL_MESH))return n.push(!0),n.push(i[e].geometry),n;r++}return n.push(!1),n.push(null),n},parseChunk:function(e){var t=new a;t.read(e);var n=this.structFactory(t),r=e.ptr;n.read(e),e.ptr-r!==t.size&&(console.log("Warn bad block parsing , byte delta : ",e.ptr-r-t.size),e.ptr=r+t.size),t.ns===o.DEFAULT_NS&&t.type===o.NAMESPACE&&this.registerNamespace(n),this.addElement(n)},structFactory:function(e){var t,n=this.getExtensionById(e.ns);return(t=n?n.create(e.type):new l)._setup(this,e),t},resolveNamespace:function(e){if(null==e.nsUri)return 0;var t=this.getExtension(e.nsUri);return t?t.nsId:(console.log("Missing extension "+e.nsUri),0)}},t.exports=c},{"./DefaultElement":3,"./bufferReader":6,"./chunk":8,"./consts":9,"./header":11,"./writer":23}],6:[function(e,t,n){!function(){var e=function(e,t,n){this.buffer=e,this.ptr=0,this.littleEndien=!0,t=t||0,n=n||e.byteLength,this.view=new DataView(e,t,n),this.length=this.view.byteLength};e.prototype={setPosition:function(e){this.ptr=e},setLittleEndian:function(e){this.littleEndien=e},bytesAvailable:function(){return this.length-this.ptr},I8:function(){return this.view.getInt8(this.ptr++)},U8:function(){return this.view.getUint8(this.ptr++)},I16:function(){var e=this.view.getInt16(this.ptr,this.littleEndien);return this.ptr+=2,e},U16:function(){var e=this.view.getUint16(this.ptr,this.littleEndien);return this.ptr+=2,e},I32:function(){var e=this.view.getInt32(this.ptr,this.littleEndien);return this.ptr+=4,e},U32:function(){var e=this.view.getUint32(this.ptr,this.littleEndien);return this.ptr+=4,e},F32:function(){var e=this.view.getFloat32(this.ptr,this.littleEndien);return this.ptr+=4,e},F64:function(){var e=this.view.getFloat64(this.ptr,this.littleEndien);return this.ptr+=8,e},readBytes:function(e,t){void 0===t&&(t=e.byteLength);var n=new Int8Array(e),r=new Int8Array(this.buffer,this.ptr,t);n.set(r),this.ptr+=t},subArray:function(e){var t=new Int8Array(this.buffer,this.ptr,e);return this.ptr+=e,t},readUTFBytes:function(e){for(var t,n,r,i=this.ptr+e,o=[],a=0;this.ptr<i;)0!==(t=this.U8())&&(128>t?o[a++]=String.fromCharCode(t):t>191&&224>t?(n=this.U8(),o[a++]=String.fromCharCode((31&t)<<6|63&n)):(n=this.U8(),r=this.U8(),o[a++]=String.fromCharCode((15&t)<<12|(63&n)<<6|63&r)));return o.join("")}},t.exports=e}()},{}],7:[function(e,t,n){t.exports={}},{"string.prototype.codepointat":1}],8:[function(e,t,n){!function(){var e=function(){this.id=0,this.ns=0,this.type=0,this.flags=0,this.size=0,this.data=null};e.prototype={read:function(e){this.id=e.U32(),this.ns=e.U8(),this.type=e.U8(),this.flags=e.U8(),this.size=e.U32()},write:void 0},t.exports=e}()},{}],9:[function(e,t,n){t.exports={UNCOMPRESSED:0,DEFLATE:1,LZMA:2,AWD_FIELD_INT8:1,AWD_FIELD_INT16:2,AWD_FIELD_INT32:3,AWD_FIELD_UINT8:4,AWD_FIELD_UINT16:5,AWD_FIELD_UINT32:6,AWD_FIELD_FLOAT32:7,AWD_FIELD_FLOAT64:8,AWD_FIELD_BOOL:21,AWD_FIELD_COLOR:22,AWD_FIELD_BADDR:23,AWD_FIELD_STRING:31,AWD_FIELD_BYTEARRAY:32,AWD_FIELD_VECTOR2x1:41,AWD_FIELD_VECTOR3x1:42,AWD_FIELD_VECTOR4x1:43,AWD_FIELD_MTX3x2:44,AWD_FIELD_MTX3x3:45,AWD_FIELD_MTX4x3:46,AWD_FIELD_MTX4x4:47,INT8:1,INT16:2,INT32:3,UINT8:4,UINT16:5,UINT32:6,FLOAT32:7,FLOAT64:8,AWDSTRING:31,AWDBYTEARRAY:32,MAGIC:4282180,GENERIC:0,GEOMETRY:1,PRIMITIVE:11,CONTAINER:22,MESH:23,MATERIAL:81,TEXTURE:82,NAMESPACE:254,METADATA:255,MODEL_ENTITY:2,MODEL_SKYBOX:4,MODEL_CAMERA:8,MODEL_SEGMENT_SET:16,MODEL_MESH:32,MODEL_GEOMETRY:64,MODEL_SKELETON:128,MODEL_SKELETON_POSE:256,MODEL_CONTAINER:512,MODEL_TEXTURE:1024,MODEL_TEXTURE_PROJECTOR:2048,MODEL_MATERIAL:4096,MODEL_ANIMATION_SET:8192,MODEL_ANIMATION_STATE:16384,MODEL_ANIMATION_NODE:32768,MODEL_ANIMATOR:65536,MODEL_STATE_TRANSITION:1<<17,MODEL_LIGHT:1<<18,MODEL_LIGHT_PICKER:1<<19,MODEL_SHADOW_MAP_METHOD:1<<20,MODEL_EFFECTS_METHOD:1<<21,MODEL_GENERIC:-1,POSITION:1,INDEX:2,UVS:3,NORMAL:4,TANGENT:5,JOIN_IDX:6,JOIN_WGT:7,SUVS:8,COLOR:11,BINORMAL:12,DEFAULT_NS:0}},{}],10:[function(e,t,n){var r=e("./DefaultElement"),i=e("./Namespace"),o=function(e){this.nsUri=e,this.structs=[],this.nsId=0};o.prototype={addStruct:function(e){this.structs.push(e)},addStructs:function(e){for(var t=0,n=e.length;n>t;t++)this.addStruct(e[t])},create:function(e){for(var t,n=this.structs,i=0,o=n.length;o>i;i++)if((t=n[i]).TYPE===e)return new t;return new r},createNamespace:function(){var e=new i;return e.uri=this.nsUri,e}},t.exports=o},{"./DefaultElement":3,"./Namespace":4}],11:[function(e,t,n){!function(){var n=e("./consts"),r=function(){this.size=12,this.version={major:0,minor:0},this.streaming=!1,this.accuracyMatrix=!1,this.accuracyGeo=!1,this.accuracyProps=!1,this.geoNrType=n.FLOAT32,this.matrixNrType=n.FLOAT32,this.propsNrType=n.FLOAT32,this.optimized_for_accuracy=!1,this.compression=!1,this.bodylen=0};r.prototype={read:function(e){var t=e.U8()<<16|e.U8()<<8|e.U8();if(t!==n.MAGIC)throw new Error("AWD parse error - bad magic "+t.toString(16));var r=this.version;r.major=e.U8(),r.minor=e.U8();var i=e.U16();this.streaming=1==(1&i),this.optimized_for_accuracy=2==(2&i),2===r.major&&1===r.minor&&(this.accuracyMatrix=2==(2&i),this.accuracyGeo=4==(4&i),this.accuracyProps=8==(8&i)),this.geoNrType=this.accuracyGeo?n.FLOAT64:n.FLOAT32,this.matrixNrType=this.accuracyMatrix?n.FLOAT64:n.FLOAT32,this.propsNrType=this.accuracyProps?n.FLOAT64:n.FLOAT32,this.compression=e.U8(),this.bodylen=e.U32()},write:void 0},t.exports=r}()},{"./consts":9}],12:[function(e,t,n){!function(){var e={}.hasOwnProperty,t=Object.defineProperty}()},{}],13:[function(e,t,n){var r=e("../consts");t.exports=function(e){var t,n,i=e.getDatasByType(r.GEOMETRY);for(t=0,n=i.length;n>t;t++){var o,a,s=i[t];for(o=0,a=s.subGeoms.length;a>o;o++){var l=s.subGeoms[o],c=l.getBuffersByType([r.POSITION])[0];if(3!==c.components)throw new Error("invalid number of components, should be 3, is "+c.components);var u,d,h,f,p,m,v,g,y=c.data;for(h=m=y[0],f=v=y[1],p=g=y[2],u=3,d=y.length;d>u;u+=3)h=Math.min(h,y[u]),m=Math.max(m,y[u]),f=Math.min(f,y[u+1]),v=Math.max(v,y[u+1]),p=Math.min(p,y[u+2]),g=Math.max(g,y[u+2]);var _=e.header.geoNrType,b=l.props;b.expected[10]=b.expected[11]=b.expected[12]=b.expected[13]=b.expected[14]=b.expected[15]=_,b.set(10,h),b.set(11,f),b.set(12,p),b.set(13,m),b.set(14,v),b.set(15,g)}}}},{"../consts":9}],14:[function(e,t,n){var r=e("../consts");t.exports=function(e){var t,n,i=e.getDatasByType(r.GEOMETRY);for(t=0,n=i.length;n>t;t++){var o,a,s=i[t];for(o=0,a=s.subGeoms.length;a>o;o++){var l,c,u=s.subGeoms[o].getBuffersByType(r.INDEX);for(l=0,c=u.length;c>l;l++){var d,h,f,p=u[l].data;for(d=1,h=p.length;h>d;d+=3)f=p[d],p[d]=p[d+1],p[d+1]=f}}}}},{"../consts":9}],15:[function(e,t,n){var r=e("../consts");t.exports=function(e){var t,n,i=e.getDatasByType(r.GEOMETRY);for(t=0,n=i.length;n>t;t++){var o,a,s=i[t];for(o=0,a=s.subGeoms.length;a>o;o++){var l,c,u=s.subGeoms[o].getBuffersByType(r.UVS);for(l=0,c=u.length;c>l;l++){var d=u[l];if(2!==d.components)throw new Error("invalid number of components, should be 3, is "+d.components);var h,f,p=d.data;for(h=1,f=p.length;f>h;h+=2)p[h]=1-p[h]}}}}},{"../consts":9}],16:[function(e,t,n){var r=e("../consts");t.exports=function(e){var t,n,i=e.getDatasByType(r.GEOMETRY);for(console.log(i.length),t=0,n=i.length;n>t;t++){var o,a,s=i[t];for(o=0,a=s.subGeoms.length;a>o;o++){var l,c,u=s.subGeoms[o].getBuffersByType([r.POSITION,r.NORMAL,r.TANGENT]);for(l=0,c=u.length;c>l;l++){var d=u[l];if(3!==d.components)throw new Error("invalid number of components, should be 3, is "+d.components);var h,f,p=d.data;for(h=0,f=p.length;f>h;h+=3)p[h]=-p[h]}}}}},{"../consts":9}],17:[function(e,t,n){var r=e("../consts"),i=[null,function(e,t){var n,r;for(n=1,r=e.length;r>n;n++)e[n]=t[0]*e[n]+t[5]},function(e,t){var n,r;for(n=1,r=e.length;r>n;n+=2){var i=e[n],o=e[n+1];e[n+0]=t[0]*i+t[2]*o+t[5],e[n+1]=t[6]*i+t[7]*o+t[10]}},function(e,t){var n,r;for(n=1,r=e.length;r>n;n+=3){var i=e[n],o=e[n+1],a=e[n+2];e[n+0]=t[0]*i+t[2]*o+t[3]*a+t[5],e[n+1]=t[6]*i+t[7]*o+t[8]*a+t[10],e[n+2]=t[11]*i+t[12]*o+t[13]*a+t[15]}},function(e,t){var n,r;for(n=1,r=e.length;r>n;n+=4){var i=e[n],o=e[n+1],a=e[n+2],s=e[n+3];e[n+0]=t[0]*i+t[2]*o+t[3]*a+t[4]*s+t[5],e[n+1]=t[6]*i+t[7]*o+t[8]*a+t[9]*s+t[10],e[n+2]=t[11]*i+t[12]*o+t[13]*a+t[14]*s+t[15],e[n+3]=t[16]*i+t[17]*o+t[18]*a+t[19]*s+t[20]}}];t.exports=function(e,t,n){var o,a,s,l,c,u,d=e.getDatasByType(r.GEOMETRY);for(o=0,a=d.length;a>o;o++){var h=d[o];for(s=0,l=h.subGeoms.length;l>s;s++){var f=h.subGeoms[s].getBuffersByType(n);for(c=0,u=f.length;u>c;c++){var p=f[c],m=p.components,v=p.data;if(1>m||m>4)throw new Error("invalid number of components, must be [1-4], is "+m);i[m](v,t)}}}}},{"../consts":9}],18:[function(e,t,n){t.exports={read:function(e){var t=e.U16();return e.readUTFBytes(t)},write:function(e,t){t.U16(e.length),t.writeUTFBytes(e)},getUTFBytesLength:function(e){for(var t=0,n=0,r=e.length;r>n;n++){var i,o=e[n].codePointAt(0);128>o?i=1:2048>o?i=2:65536>o?i=3:2097152>o&&(i=4),t+=i}return t}}},{}],19:[function(e,t,n){!function(){var e=function(){this.data=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]};e.prototype={read:function(e,t){this.parseMatrix43RawData(e,t,this.data)},write:void 0,parseMatrix43RawData:function(e,t,n){var r=n,i=e.header.accuracyMatrix?t.F64:t.F32;return r[0]=i.call(t),r[1]=i.call(t),r[2]=i.call(t),r[3]=0,r[4]=i.call(t),r[5]=i.call(t),r[6]=i.call(t),r[7]=0,r[8]=i.call(t),r[9]=i.call(t),r[10]=i.call(t),r[11]=0,r[12]=i.call(t),r[13]=i.call(t),r[14]=i.call(t),r[15]=1,isNaN(r[0])&&(r[0]=1,r[1]=0,r[2]=0,r[4]=0,r[5]=1,r[6]=0,r[8]=0,r[9]=0,r[10]=1,r[12]=0,r[13]=0,r[14]=0),r},writeMatrix43RawData:void 0},t.exports=e}()},{}],20:[function(e,t,n){!function(){var n=e("../consts"),r=(e("./awdString"),e("../bufferWriter")),i=e("../bufferReader"),o=function(e){this.expected=e,this.vars={}};o.prototype={clone:function(){var e=new r(64);this.write(e);var t=new o(this.expected);return t.read(new i(e.buffer)),t},read:function(e){var t=this.expected,n=e.U32(),r=e.ptr+n;if(t)for(;e.ptr<r;){var i,o=e.U16(),a=e.U32();this.expected.hasOwnProperty(o)?(i=t[o],this.set(o,this.parseAttrValue(i,a,e))):e.ptr+=a}e.ptr!==r&&(console.log("Warn Properties don't read entire data ",e.ptr,r,n),e.ptr=r)},write:void 0,set:function(e,t){this.vars[e]=t},get:function(e,t){return this.vars.hasOwnProperty(e)?this.vars[e]:t},writeAttrValue:void 0,parseAttrValue:function(e,t,r){var i,o;switch(e){case n.AWD_FIELD_INT8:i=1,o=r.I8;break;case n.AWD_FIELD_INT16:i=2,o=r.I16;break;case n.AWD_FIELD_INT32:i=4,o=r.I32;break;case n.AWD_FIELD_BOOL:case n.AWD_FIELD_UINT8:i=1,o=r.U8;break;case n.AWD_FIELD_UINT16:i=2,o=r.U16;break;case n.AWD_FIELD_UINT32:case n.AWD_FIELD_BADDR:i=4,o=r.U32;break;case n.AWD_FIELD_FLOAT32:i=4,o=r.F32;break;case n.AWD_FIELD_FLOAT64:i=8,o=r.F64;break;case n.AWD_FIELD_STRING:return r.U16()===t&&console.log("WARN may be Prefab bug / String property bug!!"),r.ptr-=2,r.readUTFBytes(t);case n.AWD_FIELD_VECTOR2x1:case n.AWD_FIELD_VECTOR3x1:case n.AWD_FIELD_VECTOR4x1:case n.AWD_FIELD_MTX3x2:case n.AWD_FIELD_MTX3x3:case n.AWD_FIELD_MTX4x3:case n.AWD_FIELD_MTX4x4:i=8,o=r.F64}if(t>i){var a,s,l;for(a=[],s=0,l=t/i;l>s;)a.push(o.call(r)),s++;return a}return o.call(r)}},t.exports=o}()},{"../bufferReader":6,"../bufferWriter":7,"../consts":9,"./awdString":18}],21:[function(e,t,n){!function(){var n=e("../consts"),r=e("./awdString"),i=e("../bufferWriter"),o=e("../bufferReader"),a=function(){this.attributes={},this._list=[]};a.prototype={clone:function(){var e=new i(64);this.write(e);var t=new a;return t.read(new o(e.buffer)),t},addAttribute:function(e,t,n,r){var i={name:e,value:t,type:n,ns:r};this.attributes[e]=i,this._list.push(i)},read:function(e){var t,i=e.U32();if(i>0){t={};for(var o=e.ptr+i;e.ptr<o;){var a,s=e.U8(),l=r.read(e),c=e.U8(),u=e.U32();switch(c){case n.AWDSTRING:a=e.readUTFBytes(u);break;case n.INT8:a=e.I8();break;case n.INT16:a=e.I16();break;case n.INT32:a=e.I32();break;case n.BOOL:case n.UINT8:a=e.U8();break;case n.UINT16:a=e.U16();break;case n.UINT32:case n.BADDR:a=e.U32();break;case n.FLOAT32:a=e.F32();break;case n.FLOAT64:a=e.F64();break;default:a="unimplemented attribute type "+c+"ns : "+s,e.ptr+=u}this.addAttribute(l,a,c,s),t[l]=a}}return t},write:void 0},t.exports=a}()},{"../bufferReader":6,"../bufferWriter":7,"../consts":9,"./awdString":18}],22:[function(e,t,n){!function(){var n=e("../consts"),r=e("./properties"),i=function(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0};i.prototype={parsePivot:function(e,t){var i=e.header.matrixNrType,o=new r({1:i,2:i,3:i,4:n.UINT8});o.read(t),this.x=o.get(1,0),this.y=o.get(2,0),this.z=o.get(3,0)},writePivot:void 0},t.exports=i}()},{"../consts":9,"./properties":20}],23:[function(e,t,n){!function(){var n=void e("./bufferWriter");t.exports=n}()},{"./bufferWriter":7}],awdlib:[function(e,t,n){var r={BaseElement:e("BaseElement"),DefaultElement:e("DefaultElement"),Namespace:e("Namespace"),awd:e("awd"),bufferReader:e("bufferReader"),bufferWriter:e("bufferWriter"),chunk:e("chunk"),consts:e("consts"),extension:e("extension"),header:e("header"),lang:e("lang"),computeBounds:e("tools/computeBounds"),flipFaces:e("tools/flipFaces"),flipUvsY:e("tools/flipUvsY"),flipX:e("tools/flipX"),transform:e("tools/transform"),awdString:e("types/awdString"),matrix:e("types/matrix"),properties:e("types/properties"),userAttr:e("types/userAttr"),vec3:e("types/vec3"),writer:e("writer")};t.exports=r},{BaseElement:2,DefaultElement:3,Namespace:4,awd:5,bufferReader:6,bufferWriter:7,chunk:8,consts:9,extension:10,header:11,lang:12,"tools/computeBounds":13,"tools/flipFaces":14,"tools/flipUvsY":15,"tools/flipX":16,"tools/transform":17,"types/awdString":18,"types/matrix":19,"types/properties":20,"types/userAttr":21,"types/vec3":22,writer:23}]},{},[])("awdlib")})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],39:[function(e,t,n){(function(r){!function(e){if("object"==typeof n&&void 0!==t)t.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:this).awdlib_std=e()}}(function(){return function t(n,r,i){function o(s,l){if(!r[s]){if(!n[s]){var c="function"==typeof e&&e;if(!l&&c)return c(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var d=r[s]={exports:{}};n[s][0].call(d.exports,function(e){var t=n[s][1][e];return o(t||e)},d,d.exports,t,n,r,i)}return r[s].exports}for(var a="function"==typeof e&&e,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,t,n){!function(){var n=e("../../src/types/userAttr"),r=e("../../src/types/awdString"),i=e("../../src/types/vec3"),o=e("../../src/types/matrix"),a=e("../../src/consts"),s=e("../../src/BaseElement").createStruct(a.CONTAINER,null,{init:function(){this.model=a.MODEL_CONTAINER,s.super(this)},read:function(e){var t=e.U32();this.matrix.read(this.awd,e),this.name=r.read(e),this.pivot.parsePivot(this.awd,e),this.extras.read(e);var n=this.awd.getAssetByID(t,[a.MODEL_CONTAINER,a.MODEL_MESH,a.MODEL_LIGHT,a.MODEL_ENTITY,a.MODEL_SEGMENT_SET]);if(n[0])void 0!==n[1].addChild&&n[1].addChild(this),this.parent=n[1];else if(t>0)throw new Error("Could not find a parent for this ObjectContainer3D id : "+t)},write:void 0,getDependencies:function(){var e=this.parent;return e?[e]:null},toString:function(){return"[Container "+this.name+"]"},addChild:function(e){-1===this.children.indexOf(e)&&(this.children.push(e),e.parent=this)},removeChild:function(e){var t=this.children.indexOf(e);t>-1&&(this.children.splice(t,1),e.parent=null)}});s.extend=function(e){e.addChild=s.prototype.addChild,e.removeChild=s.prototype.removeChild},s.super=function(e){e.parent=null,e.children=[],e.matrix=new o,e.name="",e.pivot=new i,e.extras=new n},t.exports=s}()},{"../../src/BaseElement":10,"../../src/consts":16,"../../src/types/awdString":18,"../../src/types/matrix":19,"../../src/types/userAttr":21,"../../src/types/vec3":22}],2:[function(e,t,n){!function(){"use strict";var n=e("consts"),r=e("types/awdString"),i=e("types/userAttr"),o=e("types/properties"),a=e("BaseElement").createStruct(n.GEOMETRY,null,{subGeomFactory:function(){var e=new s;return e.bufferFactory=this.bufferFactory,e},bufferFactory:function(){return new c},init:function(){this.model=n.MODEL_GEOMETRY,this.name="",this.extras=new i,this.props=new o({}),this.subGeoms=[]},read:function(e){this.name=r.read(e);var t=e.U16(),n=this.awd.header.geoNrType,i=this.props;i.expected[1]=n,i.expected[2]=n,i.read(e);var o=i.get(1,1),a=i.get(2,1);1===o&&1===a||console.log("WARN defined scale UV in geometry");for(var s,l=this.subGeoms,c=0;t>c;c++)(s=this.subGeomFactory()).read(this.awd,e),l.push(s);this.extras.read(e)},write:void 0,toString:function(){return"[Geometry "+this.name+"]"}}),s=function(){this.buffers=[],this.extras=new i,this.props=new o({})};s.prototype={getBuffersByType:function(e,t){var n,r;if(void 0===t&&(t=[]),e instanceof Array)for(n=0,r=e.length;r>n;n++)this.getBuffersByType(e[n],t);else for(n=0,r=this.buffers.length;r>n;n++)this.buffers[n].type===e&&t.push(this.buffers[n]);return t},read:function(e,t){var n=t.U32(),r=t.ptr+n,i=e.header.geoNrType,o=this.props;o.expected[1]=i,o.expected[2]=i,o.read(t);var a=o.get(1,1),s=o.get(2,1);1===a&&1===s||console.log("WARN defined scale UV in sub-geometry");for(var l,c=-1;t.ptr<r;)(l=this.bufferFactory()).read(t),!l.isIndex&&l.numVertices>-1&&(c>-1&&l.numVertices!==c&&console.log("Warn buffers in geom has differents num vertices",c,l.numVertices),c=l.numVertices),this.buffers.push(l);-1===c&&console.log("Error, Can't resolve geom buffers sizes");for(var u=0,d=this.buffers.length;d>u;u++)-1!==(l=this.buffers[u]).numVertices||l.isIndex||l.solveSize(c);this.extras.read(t)},write:function(e,t){var n=t.skipBlockSize();this.writeProps(e,t);for(var r=0,i=this.buffers.length;i>r;r++){this.buffers[r].write(t)}t.writeBlockSize(n),this.extras.write(t)},writeProps:function(e,t){var n=e.header.geoNrType,r=this.props;r.expected[1]=n,r.expected[2]=n,r.set(1,1),r.set(2,1),r.write(t)}};var l=function(e){return 2===e?n.AWD_FIELD_UINT16:4===e?n.AWD_FIELD_FLOAT32:e},c=function(){this.data=null,this.numVertices=-1,this.type=0,this.components=0,this.ftype=n.T_FLOAT,this.isIndex=!1};c.HEAD_SIZE=6,c.prototype={allocate:function(e,t){var n=f(t);void 0===n&&console.log(t),this.data=new n(e)},solveSize:function(e){this.numVertices=e,this.components=this.data.length/e},read:function(e){var t=e.U8(),r=e.U8(),i=e.U32(),o=e.ptr+i;(r=l(r))!==n.AWD_FIELD_UINT16&&r!==n.AWD_FIELD_FLOAT32&&r!==n.AWD_FIELD_FLOAT64&&console.log("WARN unexpected stream data type ",r,t,i);var a=p(t);this.isIndex=t===n.INDEX,this.type=t,this.components=a,this.ftype=r;var s=i/u(r);-1!==a&&(this.numVertices=s/a),this.allocate(s,r);for(var c=d(r,e),h=this.data,f=0;e.ptr<o;)h[f++]=c.call(e)},write:function(e){e.U8(this.type),e.U8(this.ftype);for(var t=e.skipBlockSize(),n=h(this.ftype,e),r=this.data,i=0,o=r.length;o>i;i++)n.call(e,r[i]);e.writeBlockSize(t)}};var u=function(e){switch(e){case n.AWD_FIELD_UINT16:return 2;case n.AWD_FIELD_FLOAT32:return 4;case n.AWD_FIELD_FLOAT64:return 8}throw new Error("WARN getTypeSize - unexpected stream data type "+e)},d=function(e,t){switch(e){case n.AWD_FIELD_UINT16:return t.U16;case n.AWD_FIELD_FLOAT32:return t.F32;case n.AWD_FIELD_FLOAT64:return t.F64}throw new Error("WARN getReadFunc - unexpected stream data type "+e)},h=function(e,t){switch(e){case n.AWD_FIELD_UINT16:return t.U16;case n.AWD_FIELD_FLOAT32:return t.F32;case n.AWD_FIELD_FLOAT64:return t.F64}throw new Error("WARN getWriteFunc - unexpected stream data type "+e)},f=function(e){switch(e){case n.AWD_FIELD_UINT16:return Uint16Array;case n.AWD_FIELD_FLOAT32:return Float32Array;case n.AWD_FIELD_FLOAT64:return Float64Array}throw new Error("WARN getArray - unexpected stream data type "+e)},p=function(e){switch(e){case n.POSITION:case n.INDEX:case n.NORMAL:case n.TANGENT:case n.BINORMAL:return 3;case n.UVS:return 2;case n.JOIN_WGT:case n.JOIN_IDX:default:return-1}};a.SubGeom=s,a.VertexBuffer=c,a.getTypeSize=u,a.getReadFunc=d,a.getWriteFunc=h,a.getArray=f,a.fixC4D_Type=l,t.exports=a}()},{BaseElement:10,consts:16,"types/awdString":18,"types/properties":20,"types/userAttr":21}],3:[function(e,t,n){!function(){var n=e("types/properties"),r=e("types/awdString"),i=e("consts"),o=e("types/userAttr"),a=e("BaseElement").createStruct(i.MATERIAL,null,{init:function(){this.name="",this.model=i.MODEL_MATERIAL,this.extras=new o},read:function(e){this.name=r.read(e),this.mattype=e.U8(),this.numMethods=e.U8();var t=this.awd.header.propsNrType;this.props=new n({1:i.AWD_FIELD_UINT32,2:i.AWD_FIELD_BADDR,3:i.AWD_FIELD_BADDR,4:i.AWD_FIELD_UINT8,5:i.AWD_FIELD_BOOL,6:i.AWD_FIELD_BOOL,7:i.AWD_FIELD_BOOL,8:i.AWD_FIELD_BOOL,9:i.AWD_FIELD_UINT8,10:t,11:i.AWD_FIELD_BOOL,12:t,13:i.AWD_FIELD_BOOL,15:t,16:i.AWD_FIELD_UINT32,17:i.AWD_FIELD_BADDR,18:t,19:t,20:i.AWD_FIELD_UINT32,21:i.AWD_FIELD_BADDR,22:i.AWD_FIELD_BADDR}),this.props.read(e),this.extras.read(e)},write:void 0,toString:function(){}});t.exports=a}()},{BaseElement:10,consts:16,"types/awdString":18,"types/properties":20,"types/userAttr":21}],4:[function(e,t,n){!function(){var n=e("types/awdString"),r=e("std/Container"),i=e("consts"),o=e("BaseElement").createStruct(i.MESH,null,{init:function(){this.model=i.MODEL_MESH,this.pData={},r.super(this),this.geometry=null,this.materials=[]},read:function(e){var t=e.U32();this.matrix.read(this.awd,e),this.name=n.read(e);for(var r=e.U32(),o=e.U16(),a=0;o>a;a++){var s=e.U32(),l=this.awd.getAssetByID(s,[i.MODEL_MATERIAL]);if(!l[0]&&s>0)throw new Error("Could not find Material Nr "+a+" (ID = "+s+" ) for this Mesh");s>0&&this.materials.push(l[1])}this.pivot.parsePivot(this.awd,e),this.extras.read(e);var c=this.awd.getAssetByID(r,[i.MODEL_GEOMETRY]);if(c[0]&&(this.geometry=c[1]),(c=this.awd.getAssetByID(t,[i.MODEL_CONTAINER,i.MODEL_MESH,i.MODEL_LIGHT,i.MODEL_ENTITY,i.MODEL_SEGMENT_SET]))[0])void 0!==c[1].addChild&&c[1].addChild(this),this.parent=c[1];else if(t>0)throw new Error("Could not find a parent for this Mesh "+t)},write:void 0,getDependencies:function(){for(var e=[],t=this.materials.length,n=0;t>n;n++){var r=this.materials[n];e.push(r)}return this.parent&&e.push(this.parent),this.geometry&&e.push(this.geometry),e},toString:function(){return"[Mesh "+this.pData.name+"]"}});r.extend(o.prototype),t.exports=o}()},{BaseElement:10,consts:16,"std/Container":1,"types/awdString":18}],5:[function(e,t,n){!function(){var n=e("consts"),r=e("types/properties"),i="unknown",o=e("BaseElement").createStruct(n.METADATA,null,{init:function(){this.timeStamp=0,this.encoderName=i,this.encoderVersion=i,this.generatorName=i,this.generatorVersion=i},read:function(e){var t=new r({1:n.AWD_FIELD_UINT32,2:n.AWD_FIELD_STRING,3:n.AWD_FIELD_STRING,4:n.AWD_FIELD_STRING,5:n.AWD_FIELD_STRING});t.read(e),this.timeStamp=t.get(1,0),this.encoderName=t.get(2,i),this.encoderVersion=t.get(3,i),this.generatorName=t.get(4,i),this.generatorVersion=t.get(5,i)},write:void 0,toString:function(){return"Metadata : TimeStamp         = "+this.timeStamp+" EncoderName       = "+this.encoderName+" EncoderVersion    = "+this.encoderVersion+" GeneratorName     = "+this.generatorName+" GeneratorVersion  = "+this.generatorVersion}});t.exports=o}()},{BaseElement:10,consts:16,"types/properties":20}],6:[function(e,t,n){!function(){var n=e("types/properties"),r=e("types/awdString"),i=e("consts"),o=e("BaseElement").createStruct(i.PRIMITIVE,null,{init:function(){this.name="",this.model=i.MODEL_GEOMETRY},read:function(e){this.name=r.read(e),this.type=e.U8();var t,n=this._createProps();switch(n.read(e),this.type){case 1:t=this.makePlane(n);break;case 2:t=this.makeCube(n);break;case 3:t=this.makeSphere(n);break;case 4:t=this.makeCylinder(n);break;case 5:t=this.makeCone(n);break;case 6:t=this.makeCapsule(n);break;case 7:t=this.makeTorus(n);break;default:throw new Error("unknown primitive type "+this.type)}this.geom=t},write:void 0,_createProps:function(){var e=this.awd.header.geoNrType;return new n({101:e,102:e,103:e,110:e,111:e,301:i.UINT16,302:i.UINT16,303:i.UINT16,701:i.BOOL,702:i.BOOL,703:i.BOOL,704:i.BOOL})},toString:function(){},makePlane:function(e){var t={_tId:1,type:"plane",width:100,height:100,segmentsW:1,segmentsH:1,yUp:!0,doubleSided:!1};return e&&this.setupPlane(t,e),t},makeCube:function(e){var t={_tId:2,type:"cube",width:100,height:100,depth:100,segmentsW:1,segmentsH:1,segmentsD:1,tile6:!0};return e&&this.setupCube(t,e),t},makeSphere:function(e){var t={_tId:3,type:"sphere",radius:100,segmentsW:16,segmentsH:12,yUp:!0};return e&&this.setupSphere(t,e),t},makeCylinder:function(e){var t={_tId:4,type:"cylinder",topRadius:50,bottomRadius:50,height:100,segmentsW:16,segmentsH:1,topClosed:!0,bottomClosed:!0,surfaceClosed:!0,yUp:!0};return e&&this.setupCylinder(t,e),t},makeCone:function(e){var t={_tId:5,type:"cone",radius:50,height:100,segmentsW:16,segmentsH:1,closed:!0,yUp:!0};return e&&this.setupCone(t,e),t},makeCapsule:function(e){var t={_tId:6,type:"capsule",radius:50,height:100,segmentsW:16,segmentsH:15,yUp:!0};return e&&this.setupCapsule(t,e),t},makeTorus:function(e){var t={_tId:7,type:"torus",radius:50,tubeRadius:50,segmentsR:16,segmentsT:8,yUp:!0};return e&&this.setupTorus(t,e),t},setupPlane:function(e,t){e.width=t.get(101,100),e.height=t.get(102,100),e.segmentsW=t.get(301,1),e.segmentsH=t.get(302,1),e.yUp=t.get(701,!0),e.doubleSided=t.get(702,!1)},setupCube:function(e,t){e.width=t.get(101,100),e.height=t.get(102,100),e.depth=t.get(103,100),e.segmentsW=t.get(301,1),e.segmentsH=t.get(302,1),e.segmentsD=t.get(303,1),e.tile6=t.get(701,!0)},setupSphere:function(e,t){e.radius=t.get(101,100),e.segmentsW=t.get(301,16),e.segmentsH=t.get(302,12),e.yUp=t.get(701,!0)},setupCylinder:function(e,t){e.topRadius=t.get(101,50),e.bottomRadius=t.get(102,50),e.height=t.get(103,100),e.segmentsW=t.get(301,16),e.segmentsH=t.get(302,1),e.topClosed=t.get(701,!0),e.bottomClosed=t.get(702,!0),e.yUp=t.get(703,!0)},setupCone:function(e,t){e.radius=t.get(101,50),e.height=t.get(102,100),e.segmentsW=t.get(301,16),e.segmentsH=t.get(302,1),e.closed=t.get(701,!0),e.yUp=t.get(702,!0)},setupCapsule:function(e,t){e.radius=t.get(101,50),e.height=t.get(102,100),e.segmentsW=t.get(301,16),e.segmentsH=t.get(302,15),e.yUp=t.get(701,!0)},setupTorus:function(e,t){e.radius=t.get(101,50),e.tubeRadius=t.get(102,50),e.segmentsR=t.get(301,16),e.segmentsT=t.get(302,8),e.yUp=t.get(701,!0)},setupPropsPlane:function(e,t){t.set(101,e.width),t.set(102,e.height),t.set(301,e.segmentsW),t.set(302,e.segmentsH),t.set(701,e.yUp),t.set(702,e.doubleSided)},setupPropsCube:function(e,t){t.set(101,e.width),t.set(102,e.height),t.set(103,e.depth),t.set(301,e.segmentsW),t.set(302,e.segmentsH),t.set(303,e.segmentsD),t.set(701,e.tile6)},setupPropsSphere:function(e,t){t.set(101,e.radius),t.set(301,e.segmentsW),t.set(302,e.segmentsH),t.set(701,e.yUp)},setupPropsCylinder:function(e,t){t.set(101,e.topRadius),t.set(102,e.bottomRadius),t.set(103,e.height),t.set(301,e.segmentsW),t.set(302,e.segmentsH),t.set(701,e.topClosed),t.set(702,e.bottomClosed),t.set(703,e.yUp)},setupPropsCone:function(e,t){t.set(101,e.radius),t.set(102,e.height),t.set(301,e.segmentsW),t.set(302,e.segmentsH),t.set(701,e.closed),t.set(702,e.yUp)},setupPropsCapsule:function(e,t){t.set(101,e.radius),t.set(102,e.height),t.set(301,e.segmentsW),t.set(302,e.segmentsH),t.set(701,e.yUp)},setupPropsTorus:function(e,t){t.set(101,e.radius),t.set(102,e.tubeRadius),t.set(301,e.segmentsR),t.set(302,e.segmentsT),t.set(701,e.yUp)}});t.exports=o}()},{BaseElement:10,consts:16,"types/awdString":18,"types/properties":20}],7:[function(e,t,n){!function(){var n=e("types/properties"),r=e("types/awdString"),i=e("consts"),o=e("types/userAttr"),a=e("BaseElement").createStruct(i.TEXTURE,null,{init:function(){this.name="",this.textype=0,this.url=null,this.data=null,this.extras=new o,this.model=i.MODEL_TEXTURE},read:function(e){this.name=r.read(e),this.textype=e.U8();var t=e.U32();0===this.textype?(this.url=e.readUTFBytes(t),console.log(this.url)):(this.data=new ArrayBuffer(t),e.readBytes(this.data,t)),(new n).read(e),this.extras.read(e)},write:void 0,toString:function(){}});t.exports=a}()},{BaseElement:10,consts:16,"types/awdString":18,"types/properties":20,"types/userAttr":21}],8:[function(e,t,n){var r=e("../../src/extension"),i=[e("../../src/DefaultElement"),e("./Metadata"),e("./Container"),e("./Mesh"),e("./Texture"),e("./Material"),e("./Geometry")],o={getExtension:function(){var e=new r(null);return e.addStructs(i),e}};t.exports=o},{"../../src/DefaultElement":11,"../../src/extension":17,"./Container":1,"./Geometry":2,"./Material":3,"./Mesh":4,"./Metadata":5,"./Texture":7}],9:[function(e,t,n){String.prototype.codePointAt||function(){"use strict";var e=function(){try{var e={},t=Object.defineProperty,n=t(e,e,e)&&t}catch(e){}return n}(),t=function(e){if(null==this)throw TypeError();var t=String(this),n=t.length,r=e?Number(e):0;if(r!=r&&(r=0),!(0>r||r>=n)){var i,o=t.charCodeAt(r);return o>=55296&&56319>=o&&n>r+1&&((i=t.charCodeAt(r+1))>=56320&&57343>=i)?1024*(o-55296)+i-56320+65536:o}};e?e(String.prototype,"codePointAt",{value:t,configurable:!0,writable:!0}):String.prototype.codePointAt=t}()},{}],10:[function(e,t,n){!function(){var n=e("./consts"),r=e("./chunk"),i={_setup:function(e,t){this.awd=e,this.chunk=t,this.id=t.id},init:function(){this.injectDeps=!1,this.model=n.MODEL_GENERIC},getDependencies:function(){return this.deps?this.deps:null},prepareAndAdd:void 0,prepareChunk:function(){null===this.chunk&&(this.chunk=new r),this.chunk.type=this.type,this.chunk.ns=this.ns}},o={createStruct:function(e,t,n){var r,o=function(){this.type=e,this.nsUri=t,this.ns=0,this.injectDeps=!0,this.init(),this.chunk=null,this.id=-1};for(r in o.TYPE=e,i)o.prototype[r]=i[r];for(r in n)o.prototype[r]=n[r];return o}};t.exports=o}()},{"./chunk":15,"./consts":16}],11:[function(e,t,n){var r=e("./consts"),i=e("./BaseElement").createStruct(r.GENERIC,-1,{read:function(e){this.buf=new ArrayBuffer(this.chunk.size),e.readBytes(this.buf,this.chunk.size),this.setDeps()},write:function(e){e.writeBytes(this.buf,this.chunk.size)},setDeps:function(){for(var e,t=this.awd._elements,n=[],r=0,i=t.length;i>r;r++)e=t[r],n.push(e);this.deps=n},prepareAndAdd:void 0,prepareChunk:function(){}});t.exports=i},{"./BaseElement":10,"./consts":16}],12:[function(e,t,n){!function(){var n=e("./types/awdString"),r=e("./consts"),i=e("./BaseElement").createStruct(r.NAMESPACE,null,{init:function(){this.uri="",this.nsId=0},read:function(e){this.nsId=e.U8(),this.uri=n.read(e)},write:void 0});t.exports=i}()},{"./BaseElement":10,"./consts":16,"./types/awdString":18}],13:[function(e,t,n){!function(){var e=function(e,t,n){this.buffer=e,this.ptr=0,this.littleEndien=!0,t=t||0,n=n||e.byteLength,this.view=new DataView(e,t,n),this.length=this.view.byteLength};e.prototype={setPosition:function(e){this.ptr=e},setLittleEndian:function(e){this.littleEndien=e},bytesAvailable:function(){return this.length-this.ptr},I8:function(){return this.view.getInt8(this.ptr++)},U8:function(){return this.view.getUint8(this.ptr++)},I16:function(){var e=this.view.getInt16(this.ptr,this.littleEndien);return this.ptr+=2,e},U16:function(){var e=this.view.getUint16(this.ptr,this.littleEndien);return this.ptr+=2,e},I32:function(){var e=this.view.getInt32(this.ptr,this.littleEndien);return this.ptr+=4,e},U32:function(){var e=this.view.getUint32(this.ptr,this.littleEndien);return this.ptr+=4,e},F32:function(){var e=this.view.getFloat32(this.ptr,this.littleEndien);return this.ptr+=4,e},F64:function(){var e=this.view.getFloat64(this.ptr,this.littleEndien);return this.ptr+=8,e},readBytes:function(e,t){void 0===t&&(t=e.byteLength);var n=new Int8Array(e),r=new Int8Array(this.buffer,this.ptr,t);n.set(r),this.ptr+=t},subArray:function(e){var t=new Int8Array(this.buffer,this.ptr,e);return this.ptr+=e,t},readUTFBytes:function(e){for(var t,n,r,i=this.ptr+e,o=[],a=0;this.ptr<i;)0!==(t=this.U8())&&(128>t?o[a++]=String.fromCharCode(t):t>191&&224>t?(n=this.U8(),o[a++]=String.fromCharCode((31&t)<<6|63&n)):(n=this.U8(),r=this.U8(),o[a++]=String.fromCharCode((15&t)<<12|(63&n)<<6|63&r)));return o.join("")}},t.exports=e}()},{}],14:[function(e,t,n){t.exports={}},{"string.prototype.codepointat":9}],15:[function(e,t,n){!function(){var e=function(){this.id=0,this.ns=0,this.type=0,this.flags=0,this.size=0,this.data=null};e.prototype={read:function(e){this.id=e.U32(),this.ns=e.U8(),this.type=e.U8(),this.flags=e.U8(),this.size=e.U32()},write:void 0},t.exports=e}()},{}],16:[function(e,t,n){t.exports={UNCOMPRESSED:0,DEFLATE:1,LZMA:2,AWD_FIELD_INT8:1,AWD_FIELD_INT16:2,AWD_FIELD_INT32:3,AWD_FIELD_UINT8:4,AWD_FIELD_UINT16:5,AWD_FIELD_UINT32:6,AWD_FIELD_FLOAT32:7,AWD_FIELD_FLOAT64:8,AWD_FIELD_BOOL:21,AWD_FIELD_COLOR:22,AWD_FIELD_BADDR:23,AWD_FIELD_STRING:31,AWD_FIELD_BYTEARRAY:32,AWD_FIELD_VECTOR2x1:41,AWD_FIELD_VECTOR3x1:42,AWD_FIELD_VECTOR4x1:43,AWD_FIELD_MTX3x2:44,AWD_FIELD_MTX3x3:45,AWD_FIELD_MTX4x3:46,AWD_FIELD_MTX4x4:47,INT8:1,INT16:2,INT32:3,UINT8:4,UINT16:5,UINT32:6,FLOAT32:7,FLOAT64:8,AWDSTRING:31,AWDBYTEARRAY:32,MAGIC:4282180,GENERIC:0,GEOMETRY:1,PRIMITIVE:11,CONTAINER:22,MESH:23,MATERIAL:81,TEXTURE:82,NAMESPACE:254,METADATA:255,MODEL_ENTITY:2,MODEL_SKYBOX:4,MODEL_CAMERA:8,MODEL_SEGMENT_SET:16,MODEL_MESH:32,MODEL_GEOMETRY:64,MODEL_SKELETON:128,MODEL_SKELETON_POSE:256,MODEL_CONTAINER:512,MODEL_TEXTURE:1024,MODEL_TEXTURE_PROJECTOR:2048,MODEL_MATERIAL:4096,MODEL_ANIMATION_SET:8192,MODEL_ANIMATION_STATE:16384,MODEL_ANIMATION_NODE:32768,MODEL_ANIMATOR:65536,MODEL_STATE_TRANSITION:1<<17,MODEL_LIGHT:1<<18,MODEL_LIGHT_PICKER:1<<19,MODEL_SHADOW_MAP_METHOD:1<<20,MODEL_EFFECTS_METHOD:1<<21,MODEL_GENERIC:-1,POSITION:1,INDEX:2,UVS:3,NORMAL:4,TANGENT:5,JOIN_IDX:6,JOIN_WGT:7,SUVS:8,COLOR:11,BINORMAL:12,DEFAULT_NS:0}},{}],17:[function(e,t,n){var r=e("./DefaultElement"),i=e("./Namespace"),o=function(e){this.nsUri=e,this.structs=[],this.nsId=0};o.prototype={addStruct:function(e){this.structs.push(e)},addStructs:function(e){for(var t=0,n=e.length;n>t;t++)this.addStruct(e[t])},create:function(e){for(var t,n=this.structs,i=0,o=n.length;o>i;i++)if((t=n[i]).TYPE===e)return new t;return new r},createNamespace:function(){var e=new i;return e.uri=this.nsUri,e}},t.exports=o},{"./DefaultElement":11,"./Namespace":12}],18:[function(e,t,n){t.exports={read:function(e){var t=e.U16();return e.readUTFBytes(t)},write:function(e,t){t.U16(e.length),t.writeUTFBytes(e)},getUTFBytesLength:function(e){for(var t=0,n=0,r=e.length;r>n;n++){var i,o=e[n].codePointAt(0);128>o?i=1:2048>o?i=2:65536>o?i=3:2097152>o&&(i=4),t+=i}return t}}},{}],19:[function(e,t,n){!function(){var e=function(){this.data=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]};e.prototype={read:function(e,t){this.parseMatrix43RawData(e,t,this.data)},write:void 0,parseMatrix43RawData:function(e,t,n){var r=n,i=e.header.accuracyMatrix?t.F64:t.F32;return r[0]=i.call(t),r[1]=i.call(t),r[2]=i.call(t),r[3]=0,r[4]=i.call(t),r[5]=i.call(t),r[6]=i.call(t),r[7]=0,r[8]=i.call(t),r[9]=i.call(t),r[10]=i.call(t),r[11]=0,r[12]=i.call(t),r[13]=i.call(t),r[14]=i.call(t),r[15]=1,isNaN(r[0])&&(r[0]=1,r[1]=0,r[2]=0,r[4]=0,r[5]=1,r[6]=0,r[8]=0,r[9]=0,r[10]=1,r[12]=0,r[13]=0,r[14]=0),r},writeMatrix43RawData:void 0},t.exports=e}()},{}],20:[function(e,t,n){!function(){var n=e("../consts"),r=(e("./awdString"),e("../bufferWriter")),i=e("../bufferReader"),o=function(e){this.expected=e,this.vars={}};o.prototype={clone:function(){var e=new r(64);this.write(e);var t=new o(this.expected);return t.read(new i(e.buffer)),t},read:function(e){var t=this.expected,n=e.U32(),r=e.ptr+n;if(t)for(;e.ptr<r;){var i,o=e.U16(),a=e.U32();this.expected.hasOwnProperty(o)?(i=t[o],this.set(o,this.parseAttrValue(i,a,e))):e.ptr+=a}e.ptr!==r&&(console.log("Warn Properties don't read entire data ",e.ptr,r,n),e.ptr=r)},write:void 0,set:function(e,t){this.vars[e]=t},get:function(e,t){return this.vars.hasOwnProperty(e)?this.vars[e]:t},writeAttrValue:void 0,parseAttrValue:function(e,t,r){var i,o;switch(e){case n.AWD_FIELD_INT8:i=1,o=r.I8;break;case n.AWD_FIELD_INT16:i=2,o=r.I16;break;case n.AWD_FIELD_INT32:i=4,o=r.I32;break;case n.AWD_FIELD_BOOL:case n.AWD_FIELD_UINT8:i=1,o=r.U8;break;case n.AWD_FIELD_UINT16:i=2,o=r.U16;break;case n.AWD_FIELD_UINT32:case n.AWD_FIELD_BADDR:i=4,o=r.U32;break;case n.AWD_FIELD_FLOAT32:i=4,o=r.F32;break;case n.AWD_FIELD_FLOAT64:i=8,o=r.F64;break;case n.AWD_FIELD_STRING:return r.U16()===t&&console.log("WARN may be Prefab bug / String property bug!!"),r.ptr-=2,r.readUTFBytes(t);case n.AWD_FIELD_VECTOR2x1:case n.AWD_FIELD_VECTOR3x1:case n.AWD_FIELD_VECTOR4x1:case n.AWD_FIELD_MTX3x2:case n.AWD_FIELD_MTX3x3:case n.AWD_FIELD_MTX4x3:case n.AWD_FIELD_MTX4x4:i=8,o=r.F64}if(t>i){var a,s,l;for(a=[],s=0,l=t/i;l>s;)a.push(o.call(r)),s++;return a}return o.call(r)}},t.exports=o}()},{"../bufferReader":13,"../bufferWriter":14,"../consts":16,"./awdString":18}],21:[function(e,t,n){!function(){var n=e("../consts"),r=e("./awdString"),i=e("../bufferWriter"),o=e("../bufferReader"),a=function(){this.attributes={},this._list=[]};a.prototype={clone:function(){var e=new i(64);this.write(e);var t=new a;return t.read(new o(e.buffer)),t},addAttribute:function(e,t,n,r){var i={name:e,value:t,type:n,ns:r};this.attributes[e]=i,this._list.push(i)},read:function(e){var t,i=e.U32();if(i>0){t={};for(var o=e.ptr+i;e.ptr<o;){var a,s=e.U8(),l=r.read(e),c=e.U8(),u=e.U32();switch(c){case n.AWDSTRING:a=e.readUTFBytes(u);break;case n.INT8:a=e.I8();break;case n.INT16:a=e.I16();break;case n.INT32:a=e.I32();break;case n.BOOL:case n.UINT8:a=e.U8();break;case n.UINT16:a=e.U16();break;case n.UINT32:case n.BADDR:a=e.U32();break;case n.FLOAT32:a=e.F32();break;case n.FLOAT64:a=e.F64();break;default:a="unimplemented attribute type "+c+"ns : "+s,e.ptr+=u}this.addAttribute(l,a,c,s),t[l]=a}}return t},write:void 0},t.exports=a}()},{"../bufferReader":13,"../bufferWriter":14,"../consts":16,"./awdString":18}],22:[function(e,t,n){!function(){var n=e("../consts"),r=e("./properties"),i=function(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0};i.prototype={parsePivot:function(e,t){var i=e.header.matrixNrType,o=new r({1:i,2:i,3:i,4:n.UINT8});o.read(t),this.x=o.get(1,0),this.y=o.get(2,0),this.z=o.get(3,0)},writePivot:void 0},t.exports=i}()},{"../consts":16,"./properties":20}],awdlib_std:[function(e,t,n){t.exports={Container:e("./Container"),Geometry:e("./Geometry"),Material:e("./Material"),Mesh:e("./Mesh"),Metadata:e("./Metadata"),Primitive:e("./Primitive"),Texture:e("./Texture"),ext:e("./ext")}},{"./Container":1,"./Geometry":2,"./Material":3,"./Mesh":4,"./Metadata":5,"./Primitive":6,"./Texture":7,"./ext":8}]},{},[])("awdlib_std")})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],40:[function(e,t,n){"use strict";var r=e("es5-ext/object/assign"),i=e("es5-ext/object/normalize-options"),o=e("es5-ext/object/is-callable"),a=e("es5-ext/string/#/contains");(t.exports=function(e,t){var n,o,s,l,c;return arguments.length<2||"string"!=typeof e?(l=t,t=e,e=null):l=arguments[2],null==e?(n=s=!0,o=!1):(n=a.call(e,"c"),o=a.call(e,"e"),s=a.call(e,"w")),c={value:t,configurable:n,enumerable:o,writable:s},l?r(i(l),c):c}).gs=function(e,t,n){var s,l,c,u;return"string"!=typeof e?(c=n,n=t,t=e,e=null):c=arguments[3],null==t?t=void 0:o(t)?null==n?n=void 0:o(n)||(c=n,n=void 0):(c=t,t=n=void 0),null==e?(s=!0,l=!1):(s=a.call(e,"c"),l=a.call(e,"e")),u={get:t,set:n,configurable:s,enumerable:l},c?r(i(c),u):u}},{"es5-ext/object/assign":41,"es5-ext/object/is-callable":44,"es5-ext/object/normalize-options":48,"es5-ext/string/#/contains":51}],41:[function(e,t,n){"use strict";t.exports=e("./is-implemented")()?Object.assign:e("./shim")},{"./is-implemented":42,"./shim":43}],42:[function(e,t,n){"use strict";t.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},{}],43:[function(e,t,n){"use strict";var r=e("../keys"),i=e("../valid-value"),o=Math.max;t.exports=function(e,t){var n,a,s,l=o(arguments.length,2);for(e=Object(i(e)),s=function(r){try{e[r]=t[r]}catch(e){n||(n=e)}},a=1;a<l;++a)t=arguments[a],r(t).forEach(s);if(void 0!==n)throw n;return e}},{"../keys":45,"../valid-value":50}],44:[function(e,t,n){"use strict";t.exports=function(e){return"function"==typeof e}},{}],45:[function(e,t,n){"use strict";t.exports=e("./is-implemented")()?Object.keys:e("./shim")},{"./is-implemented":46,"./shim":47}],46:[function(e,t,n){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},{}],47:[function(e,t,n){"use strict";var r=Object.keys;t.exports=function(e){return r(null==e?e:Object(e))}},{}],48:[function(e,t,n){"use strict";var r=Array.prototype.forEach,i=Object.create;t.exports=function(e){var t=i(null);return r.call(arguments,function(e){null!=e&&function(e,t){var n;for(n in e)t[n]=e[n]}(Object(e),t)}),t}},{}],49:[function(e,t,n){"use strict";t.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},{}],50:[function(e,t,n){"use strict";t.exports=function(e){if(null==e)throw new TypeError("Cannot use null or undefined");return e}},{}],51:[function(e,t,n){"use strict";t.exports=e("./is-implemented")()?String.prototype.contains:e("./shim")},{"./is-implemented":52,"./shim":53}],52:[function(e,t,n){"use strict";var r="razdwatrzy";t.exports=function(){return"function"==typeof r.contains&&!0===r.contains("dwa")&&!1===r.contains("foo")}},{}],53:[function(e,t,n){"use strict";var r=String.prototype.indexOf;t.exports=function(e){return r.call(this,e,arguments[1])>-1}},{}],54:[function(e,t,n){"use strict";var r,i,o,a,s,l,c,u=e("d"),d=e("es5-ext/object/valid-callable"),h=Function.prototype.apply,f=Function.prototype.call,p=Object.create,m=Object.defineProperty,v=Object.defineProperties,g=Object.prototype.hasOwnProperty,y={configurable:!0,enumerable:!1,writable:!0};i=function(e,t){var n,i;return d(t),i=this,r.call(this,e,n=function(){o.call(i,e,n),h.call(t,this,arguments)}),n.__eeOnceListener__=t,this},o=function(e,t){var n,r,i,o;if(d(t),!g.call(this,"__ee__"))return this;if(!(n=this.__ee__)[e])return this;if("object"==typeof(r=n[e]))for(o=0;i=r[o];++o)i!==t&&i.__eeOnceListener__!==t||(2===r.length?n[e]=r[o?0:1]:r.splice(o,1));else r!==t&&r.__eeOnceListener__!==t||delete n[e];return this},a=function(e){var t,n,r,i,o;if(g.call(this,"__ee__")&&(i=this.__ee__[e]))if("object"==typeof i){for(n=arguments.length,o=new Array(n-1),t=1;t<n;++t)o[t-1]=arguments[t];for(i=i.slice(),t=0;r=i[t];++t)h.call(r,this,o)}else switch(arguments.length){case 1:f.call(i,this);break;case 2:f.call(i,this,arguments[1]);break;case 3:f.call(i,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,o=new Array(n-1),t=1;t<n;++t)o[t-1]=arguments[t];h.call(i,this,o)}},s={on:r=function(e,t){var n;return d(t),g.call(this,"__ee__")?n=this.__ee__:(n=y.value=p(null),m(this,"__ee__",y),y.value=null),n[e]?"object"==typeof n[e]?n[e].push(t):n[e]=[n[e],t]:n[e]=t,this},once:i,off:o,emit:a},l={on:u(r),once:u(i),off:u(o),emit:u(a)},c=v({},l),t.exports=n=function(e){return null==e?p(c):v(Object(e),l)},n.methods=s},{d:40,"es5-ext/object/valid-callable":49}],55:[function(e,t,n){n.glMatrix=e("./gl-matrix/common.js"),n.mat2=e("./gl-matrix/mat2.js"),n.mat2d=e("./gl-matrix/mat2d.js"),n.mat3=e("./gl-matrix/mat3.js"),n.mat4=e("./gl-matrix/mat4.js"),n.quat=e("./gl-matrix/quat.js"),n.vec2=e("./gl-matrix/vec2.js"),n.vec3=e("./gl-matrix/vec3.js"),n.vec4=e("./gl-matrix/vec4.js")},{"./gl-matrix/common.js":56,"./gl-matrix/mat2.js":57,"./gl-matrix/mat2d.js":58,"./gl-matrix/mat3.js":59,"./gl-matrix/mat4.js":60,"./gl-matrix/quat.js":61,"./gl-matrix/vec2.js":62,"./gl-matrix/vec3.js":63,"./gl-matrix/vec4.js":64}],56:[function(e,t,n){var r={EPSILON:1e-6};r.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,r.RANDOM=Math.random,r.setMatrixArrayType=function(e){GLMAT_ARRAY_TYPE=e};var i=Math.PI/180;r.toRadian=function(e){return e*i},t.exports=r},{}],57:[function(e,t,n){var r=e("./common.js"),i={create:function(){var e=new r.ARRAY_TYPE(4);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},clone:function(e){var t=new r.ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},transpose:function(e,t){if(e===t){var n=t[1];e[1]=t[2],e[2]=n}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e},invert:function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*o-i*r;return a?(a=1/a,e[0]=o*a,e[1]=-r*a,e[2]=-i*a,e[3]=n*a,e):null},adjoint:function(e,t){var n=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=n,e},determinant:function(e){return e[0]*e[3]-e[2]*e[1]},multiply:function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=n[0],l=n[1],c=n[2],u=n[3];return e[0]=r*s+o*l,e[1]=i*s+a*l,e[2]=r*c+o*u,e[3]=i*c+a*u,e}};i.mul=i.multiply,i.rotate=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=r*l+o*s,e[1]=i*l+a*s,e[2]=r*-s+o*l,e[3]=i*-s+a*l,e},i.scale=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=n[0],l=n[1];return e[0]=r*s,e[1]=i*s,e[2]=o*l,e[3]=a*l,e},i.fromRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=-n,e[3]=r,e},i.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e},i.str=function(e){return"mat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},i.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2))},i.LDU=function(e,t,n,r){return e[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-e[2]*n[1],[e,t,n]},t.exports=i},{"./common.js":56}],58:[function(e,t,n){var r=e("./common.js"),i={create:function(){var e=new r.ARRAY_TYPE(6);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},clone:function(e){var t=new r.ARRAY_TYPE(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},invert:function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=n*o-r*i;return l?(l=1/l,e[0]=o*l,e[1]=-r*l,e[2]=-i*l,e[3]=n*l,e[4]=(i*s-o*a)*l,e[5]=(r*a-n*s)*l,e):null},determinant:function(e){return e[0]*e[3]-e[1]*e[2]},multiply:function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=n[0],u=n[1],d=n[2],h=n[3],f=n[4],p=n[5];return e[0]=r*c+o*u,e[1]=i*c+a*u,e[2]=r*d+o*h,e[3]=i*d+a*h,e[4]=r*f+o*p+s,e[5]=i*f+a*p+l,e}};i.mul=i.multiply,i.rotate=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=Math.sin(n),u=Math.cos(n);return e[0]=r*u+o*c,e[1]=i*u+a*c,e[2]=r*-c+o*u,e[3]=i*-c+a*u,e[4]=s,e[5]=l,e},i.scale=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=n[0],u=n[1];return e[0]=r*c,e[1]=i*c,e[2]=o*u,e[3]=a*u,e[4]=s,e[5]=l,e},i.translate=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=n[0],u=n[1];return e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=r*c+o*u+s,e[5]=i*c+a*u+l,e},i.fromRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=-n,e[3]=r,e[4]=0,e[5]=0,e},i.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e},i.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e},i.str=function(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"},i.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+1)},t.exports=i},{"./common.js":56}],59:[function(e,t,n){var r=e("./common.js"),i={create:function(){var e=new r.ARRAY_TYPE(9);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},fromMat4:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e},clone:function(e){var t=new r.ARRAY_TYPE(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},transpose:function(e,t){if(e===t){var n=t[1],r=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e},invert:function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8],d=u*a-s*c,h=-u*o+s*l,f=c*o-a*l,p=n*d+r*h+i*f;return p?(p=1/p,e[0]=d*p,e[1]=(-u*r+i*c)*p,e[2]=(s*r-i*a)*p,e[3]=h*p,e[4]=(u*n-i*l)*p,e[5]=(-s*n+i*o)*p,e[6]=f*p,e[7]=(-c*n+r*l)*p,e[8]=(a*n-r*o)*p,e):null},adjoint:function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8];return e[0]=a*u-s*c,e[1]=i*c-r*u,e[2]=r*s-i*a,e[3]=s*l-o*u,e[4]=n*u-i*l,e[5]=i*o-n*s,e[6]=o*c-a*l,e[7]=r*l-n*c,e[8]=n*a-r*o,e},determinant:function(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],c=e[8];return t*(c*o-a*l)+n*(-c*i+a*s)+r*(l*i-o*s)},multiply:function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],d=t[8],h=n[0],f=n[1],p=n[2],m=n[3],v=n[4],g=n[5],y=n[6],_=n[7],b=n[8];return e[0]=h*r+f*a+p*c,e[1]=h*i+f*s+p*u,e[2]=h*o+f*l+p*d,e[3]=m*r+v*a+g*c,e[4]=m*i+v*s+g*u,e[5]=m*o+v*l+g*d,e[6]=y*r+_*a+b*c,e[7]=y*i+_*s+b*u,e[8]=y*o+_*l+b*d,e}};i.mul=i.multiply,i.translate=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],d=t[8],h=n[0],f=n[1];return e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=l,e[6]=h*r+f*a+c,e[7]=h*i+f*s+u,e[8]=h*o+f*l+d,e},i.rotate=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],d=t[8],h=Math.sin(n),f=Math.cos(n);return e[0]=f*r+h*a,e[1]=f*i+h*s,e[2]=f*o+h*l,e[3]=f*a-h*r,e[4]=f*s-h*i,e[5]=f*l-h*o,e[6]=c,e[7]=u,e[8]=d,e},i.scale=function(e,t,n){var r=n[0],i=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},i.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e},i.fromRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},i.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},i.fromMat2d=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e},i.fromQuat=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n+n,s=r+r,l=i+i,c=n*a,u=r*a,d=r*s,h=i*a,f=i*s,p=i*l,m=o*a,v=o*s,g=o*l;return e[0]=1-d-p,e[3]=u-g,e[6]=h+v,e[1]=u+g,e[4]=1-c-p,e[7]=f-m,e[2]=h-v,e[5]=f+m,e[8]=1-c-d,e},i.normalFromMat4=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8],d=t[9],h=t[10],f=t[11],p=t[12],m=t[13],v=t[14],g=t[15],y=n*s-r*a,_=n*l-i*a,b=n*c-o*a,w=r*l-i*s,x=r*c-o*s,S=i*c-o*l,T=u*m-d*p,E=u*v-h*p,A=u*g-f*p,M=d*v-h*m,L=d*g-f*m,C=h*g-f*v,k=y*C-_*L+b*M+w*A-x*E+S*T;return k?(k=1/k,e[0]=(s*C-l*L+c*M)*k,e[1]=(l*A-a*C-c*E)*k,e[2]=(a*L-s*A+c*T)*k,e[3]=(i*L-r*C-o*M)*k,e[4]=(n*C-i*A+o*E)*k,e[5]=(r*A-n*L-o*T)*k,e[6]=(m*S-v*x+g*w)*k,e[7]=(v*b-p*S-g*_)*k,e[8]=(p*x-m*b+g*y)*k,e):null},i.str=function(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"},i.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2))},t.exports=i},{"./common.js":56}],60:[function(e,t,n){var r=e("./common.js"),i={create:function(){var e=new r.ARRAY_TYPE(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},clone:function(e){var t=new r.ARRAY_TYPE(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},transpose:function(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],o=t[6],a=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=o,e[11]=t[14],e[12]=i,e[13]=a,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e},invert:function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8],d=t[9],h=t[10],f=t[11],p=t[12],m=t[13],v=t[14],g=t[15],y=n*s-r*a,_=n*l-i*a,b=n*c-o*a,w=r*l-i*s,x=r*c-o*s,S=i*c-o*l,T=u*m-d*p,E=u*v-h*p,A=u*g-f*p,M=d*v-h*m,L=d*g-f*m,C=h*g-f*v,k=y*C-_*L+b*M+w*A-x*E+S*T;return k?(k=1/k,e[0]=(s*C-l*L+c*M)*k,e[1]=(i*L-r*C-o*M)*k,e[2]=(m*S-v*x+g*w)*k,e[3]=(h*x-d*S-f*w)*k,e[4]=(l*A-a*C-c*E)*k,e[5]=(n*C-i*A+o*E)*k,e[6]=(v*b-p*S-g*_)*k,e[7]=(u*S-h*b+f*_)*k,e[8]=(a*L-s*A+c*T)*k,e[9]=(r*A-n*L-o*T)*k,e[10]=(p*x-m*b+g*y)*k,e[11]=(d*b-u*x-f*y)*k,e[12]=(s*E-a*M-l*T)*k,e[13]=(n*M-r*E+i*T)*k,e[14]=(m*_-p*w-v*y)*k,e[15]=(u*w-d*_+h*y)*k,e):null},adjoint:function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8],d=t[9],h=t[10],f=t[11],p=t[12],m=t[13],v=t[14],g=t[15];return e[0]=s*(h*g-f*v)-d*(l*g-c*v)+m*(l*f-c*h),e[1]=-(r*(h*g-f*v)-d*(i*g-o*v)+m*(i*f-o*h)),e[2]=r*(l*g-c*v)-s*(i*g-o*v)+m*(i*c-o*l),e[3]=-(r*(l*f-c*h)-s*(i*f-o*h)+d*(i*c-o*l)),e[4]=-(a*(h*g-f*v)-u*(l*g-c*v)+p*(l*f-c*h)),e[5]=n*(h*g-f*v)-u*(i*g-o*v)+p*(i*f-o*h),e[6]=-(n*(l*g-c*v)-a*(i*g-o*v)+p*(i*c-o*l)),e[7]=n*(l*f-c*h)-a*(i*f-o*h)+u*(i*c-o*l),e[8]=a*(d*g-f*m)-u*(s*g-c*m)+p*(s*f-c*d),e[9]=-(n*(d*g-f*m)-u*(r*g-o*m)+p*(r*f-o*d)),e[10]=n*(s*g-c*m)-a*(r*g-o*m)+p*(r*c-o*s),e[11]=-(n*(s*f-c*d)-a*(r*f-o*d)+u*(r*c-o*s)),e[12]=-(a*(d*v-h*m)-u*(s*v-l*m)+p*(s*h-l*d)),e[13]=n*(d*v-h*m)-u*(r*v-i*m)+p*(r*h-i*d),e[14]=-(n*(s*v-l*m)-a*(r*v-i*m)+p*(r*l-i*s)),e[15]=n*(s*h-l*d)-a*(r*h-i*d)+u*(r*l-i*s),e},determinant:function(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],c=e[8],u=e[9],d=e[10],h=e[11],f=e[12],p=e[13],m=e[14],v=e[15];return(t*a-n*o)*(d*v-h*m)-(t*s-r*o)*(u*v-h*p)+(t*l-i*o)*(u*m-d*p)+(n*s-r*a)*(c*v-h*f)-(n*l-i*a)*(c*m-d*f)+(r*l-i*s)*(c*p-u*f)},multiply:function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],d=t[8],h=t[9],f=t[10],p=t[11],m=t[12],v=t[13],g=t[14],y=t[15],_=n[0],b=n[1],w=n[2],x=n[3];return e[0]=_*r+b*s+w*d+x*m,e[1]=_*i+b*l+w*h+x*v,e[2]=_*o+b*c+w*f+x*g,e[3]=_*a+b*u+w*p+x*y,_=n[4],b=n[5],w=n[6],x=n[7],e[4]=_*r+b*s+w*d+x*m,e[5]=_*i+b*l+w*h+x*v,e[6]=_*o+b*c+w*f+x*g,e[7]=_*a+b*u+w*p+x*y,_=n[8],b=n[9],w=n[10],x=n[11],e[8]=_*r+b*s+w*d+x*m,e[9]=_*i+b*l+w*h+x*v,e[10]=_*o+b*c+w*f+x*g,e[11]=_*a+b*u+w*p+x*y,_=n[12],b=n[13],w=n[14],x=n[15],e[12]=_*r+b*s+w*d+x*m,e[13]=_*i+b*l+w*h+x*v,e[14]=_*o+b*c+w*f+x*g,e[15]=_*a+b*u+w*p+x*y,e}};i.mul=i.multiply,i.translate=function(e,t,n){var r,i,o,a,s,l,c,u,d,h,f,p,m=n[0],v=n[1],g=n[2];return t===e?(e[12]=t[0]*m+t[4]*v+t[8]*g+t[12],e[13]=t[1]*m+t[5]*v+t[9]*g+t[13],e[14]=t[2]*m+t[6]*v+t[10]*g+t[14],e[15]=t[3]*m+t[7]*v+t[11]*g+t[15]):(r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],d=t[8],h=t[9],f=t[10],p=t[11],e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=l,e[6]=c,e[7]=u,e[8]=d,e[9]=h,e[10]=f,e[11]=p,e[12]=r*m+s*v+d*g+t[12],e[13]=i*m+l*v+h*g+t[13],e[14]=o*m+c*v+f*g+t[14],e[15]=a*m+u*v+p*g+t[15]),e},i.scale=function(e,t,n){var r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},i.rotate=function(e,t,n,i){var o,a,s,l,c,u,d,h,f,p,m,v,g,y,_,b,w,x,S,T,E,A,M,L,C=i[0],k=i[1],D=i[2],I=Math.sqrt(C*C+k*k+D*D);return Math.abs(I)<r.EPSILON?null:(C*=I=1/I,k*=I,D*=I,o=Math.sin(n),s=1-(a=Math.cos(n)),l=t[0],c=t[1],u=t[2],d=t[3],h=t[4],f=t[5],p=t[6],m=t[7],v=t[8],g=t[9],y=t[10],_=t[11],b=C*C*s+a,w=k*C*s+D*o,x=D*C*s-k*o,S=C*k*s-D*o,T=k*k*s+a,E=D*k*s+C*o,A=C*D*s+k*o,M=k*D*s-C*o,L=D*D*s+a,e[0]=l*b+h*w+v*x,e[1]=c*b+f*w+g*x,e[2]=u*b+p*w+y*x,e[3]=d*b+m*w+_*x,e[4]=l*S+h*T+v*E,e[5]=c*S+f*T+g*E,e[6]=u*S+p*T+y*E,e[7]=d*S+m*T+_*E,e[8]=l*A+h*M+v*L,e[9]=c*A+f*M+g*L,e[10]=u*A+p*M+y*L,e[11]=d*A+m*M+_*L,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)},i.rotateX=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[4],a=t[5],s=t[6],l=t[7],c=t[8],u=t[9],d=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+c*r,e[5]=a*i+u*r,e[6]=s*i+d*r,e[7]=l*i+h*r,e[8]=c*i-o*r,e[9]=u*i-a*r,e[10]=d*i-s*r,e[11]=h*i-l*r,e},i.rotateY=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],l=t[3],c=t[8],u=t[9],d=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-c*r,e[1]=a*i-u*r,e[2]=s*i-d*r,e[3]=l*i-h*r,e[8]=o*r+c*i,e[9]=a*r+u*i,e[10]=s*r+d*i,e[11]=l*r+h*i,e},i.rotateZ=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],l=t[3],c=t[4],u=t[5],d=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+c*r,e[1]=a*i+u*r,e[2]=s*i+d*r,e[3]=l*i+h*r,e[4]=c*i-o*r,e[5]=u*i-a*r,e[6]=d*i-s*r,e[7]=h*i-l*r,e},i.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e},i.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},i.fromRotation=function(e,t,n){var i,o,a,s=n[0],l=n[1],c=n[2],u=Math.sqrt(s*s+l*l+c*c);return Math.abs(u)<r.EPSILON?null:(s*=u=1/u,l*=u,c*=u,i=Math.sin(t),a=1-(o=Math.cos(t)),e[0]=s*s*a+o,e[1]=l*s*a+c*i,e[2]=c*s*a-l*i,e[3]=0,e[4]=s*l*a-c*i,e[5]=l*l*a+o,e[6]=c*l*a+s*i,e[7]=0,e[8]=s*c*a+l*i,e[9]=l*c*a-s*i,e[10]=c*c*a+o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)},i.fromXRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},i.fromYRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},i.fromZRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},i.fromRotationTranslation=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=r+r,l=i+i,c=o+o,u=r*s,d=r*l,h=r*c,f=i*l,p=i*c,m=o*c,v=a*s,g=a*l,y=a*c;return e[0]=1-(f+m),e[1]=d+y,e[2]=h-g,e[3]=0,e[4]=d-y,e[5]=1-(u+m),e[6]=p+v,e[7]=0,e[8]=h+g,e[9]=p-v,e[10]=1-(u+f),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e},i.fromRotationTranslationScale=function(e,t,n,r){var i=t[0],o=t[1],a=t[2],s=t[3],l=i+i,c=o+o,u=a+a,d=i*l,h=i*c,f=i*u,p=o*c,m=o*u,v=a*u,g=s*l,y=s*c,_=s*u,b=r[0],w=r[1],x=r[2];return e[0]=(1-(p+v))*b,e[1]=(h+_)*b,e[2]=(f-y)*b,e[3]=0,e[4]=(h-_)*w,e[5]=(1-(d+v))*w,e[6]=(m+g)*w,e[7]=0,e[8]=(f+y)*x,e[9]=(m-g)*x,e[10]=(1-(d+p))*x,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e},i.fromRotationTranslationScaleOrigin=function(e,t,n,r,i){var o=t[0],a=t[1],s=t[2],l=t[3],c=o+o,u=a+a,d=s+s,h=o*c,f=o*u,p=o*d,m=a*u,v=a*d,g=s*d,y=l*c,_=l*u,b=l*d,w=r[0],x=r[1],S=r[2],T=i[0],E=i[1],A=i[2];return e[0]=(1-(m+g))*w,e[1]=(f+b)*w,e[2]=(p-_)*w,e[3]=0,e[4]=(f-b)*x,e[5]=(1-(h+g))*x,e[6]=(v+y)*x,e[7]=0,e[8]=(p+_)*S,e[9]=(v-y)*S,e[10]=(1-(h+m))*S,e[11]=0,e[12]=n[0]+T-(e[0]*T+e[4]*E+e[8]*A),e[13]=n[1]+E-(e[1]*T+e[5]*E+e[9]*A),e[14]=n[2]+A-(e[2]*T+e[6]*E+e[10]*A),e[15]=1,e},i.fromQuat=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n+n,s=r+r,l=i+i,c=n*a,u=r*a,d=r*s,h=i*a,f=i*s,p=i*l,m=o*a,v=o*s,g=o*l;return e[0]=1-d-p,e[1]=u+g,e[2]=h-v,e[3]=0,e[4]=u-g,e[5]=1-c-p,e[6]=f+m,e[7]=0,e[8]=h+v,e[9]=f-m,e[10]=1-c-d,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},i.frustum=function(e,t,n,r,i,o,a){var s=1/(n-t),l=1/(i-r),c=1/(o-a);return e[0]=2*o*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*l,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(i+r)*l,e[10]=(a+o)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*o*2*c,e[15]=0,e},i.perspective=function(e,t,n,r,i){var o=1/Math.tan(t/2),a=1/(r-i);return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(i+r)*a,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*i*r*a,e[15]=0,e},i.perspectiveFromFieldOfView=function(e,t,n,r){var i=Math.tan(t.upDegrees*Math.PI/180),o=Math.tan(t.downDegrees*Math.PI/180),a=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),l=2/(a+s),c=2/(i+o);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-(a-s)*l*.5,e[9]=(i-o)*c*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e},i.ortho=function(e,t,n,r,i,o,a){var s=1/(t-n),l=1/(r-i),c=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*l,e[14]=(a+o)*c,e[15]=1,e},i.lookAt=function(e,t,n,o){var a,s,l,c,u,d,h,f,p,m,v=t[0],g=t[1],y=t[2],_=o[0],b=o[1],w=o[2],x=n[0],S=n[1],T=n[2];return Math.abs(v-x)<r.EPSILON&&Math.abs(g-S)<r.EPSILON&&Math.abs(y-T)<r.EPSILON?i.identity(e):(h=v-x,f=g-S,p=y-T,a=b*(p*=m=1/Math.sqrt(h*h+f*f+p*p))-w*(f*=m),s=w*(h*=m)-_*p,l=_*f-b*h,(m=Math.sqrt(a*a+s*s+l*l))?(a*=m=1/m,s*=m,l*=m):(a=0,s=0,l=0),c=f*l-p*s,u=p*a-h*l,d=h*s-f*a,(m=Math.sqrt(c*c+u*u+d*d))?(c*=m=1/m,u*=m,d*=m):(c=0,u=0,d=0),e[0]=a,e[1]=c,e[2]=h,e[3]=0,e[4]=s,e[5]=u,e[6]=f,e[7]=0,e[8]=l,e[9]=d,e[10]=p,e[11]=0,e[12]=-(a*v+s*g+l*y),e[13]=-(c*v+u*g+d*y),e[14]=-(h*v+f*g+p*y),e[15]=1,e)},i.str=function(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"},i.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2)+Math.pow(e[9],2)+Math.pow(e[10],2)+Math.pow(e[11],2)+Math.pow(e[12],2)+Math.pow(e[13],2)+Math.pow(e[14],2)+Math.pow(e[15],2))},t.exports=i},{"./common.js":56}],61:[function(e,t,n){var r=e("./common.js"),i=e("./mat3.js"),o=e("./vec3.js"),a=e("./vec4.js"),s={create:function(){var e=new r.ARRAY_TYPE(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}};s.rotationTo=function(){var e=o.create(),t=o.fromValues(1,0,0),n=o.fromValues(0,1,0);return function(r,i,a){var l=o.dot(i,a);return l<-.999999?(o.cross(e,t,i),o.length(e)<1e-6&&o.cross(e,n,i),o.normalize(e,e),s.setAxisAngle(r,e,Math.PI),r):l>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(o.cross(e,i,a),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=1+l,s.normalize(r,r))}}(),s.setAxes=function(){var e=i.create();return function(t,n,r,i){return e[0]=r[0],e[3]=r[1],e[6]=r[2],e[1]=i[0],e[4]=i[1],e[7]=i[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],s.normalize(t,s.fromMat3(t,e))}}(),s.clone=a.clone,s.fromValues=a.fromValues,s.copy=a.copy,s.set=a.set,s.identity=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},s.setAxisAngle=function(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e},s.add=a.add,s.multiply=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=n[0],l=n[1],c=n[2],u=n[3];return e[0]=r*u+a*s+i*c-o*l,e[1]=i*u+a*l+o*s-r*c,e[2]=o*u+a*c+r*l-i*s,e[3]=a*u-r*s-i*l-o*c,e},s.mul=s.multiply,s.scale=a.scale,s.rotateX=function(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=r*l+a*s,e[1]=i*l+o*s,e[2]=o*l-i*s,e[3]=a*l-r*s,e},s.rotateY=function(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=r*l-o*s,e[1]=i*l+a*s,e[2]=o*l+r*s,e[3]=a*l-i*s,e},s.rotateZ=function(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=r*l+i*s,e[1]=i*l-r*s,e[2]=o*l+a*s,e[3]=a*l-o*s,e},s.calculateW=function(e,t){var n=t[0],r=t[1],i=t[2];return e[0]=n,e[1]=r,e[2]=i,e[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),e},s.dot=a.dot,s.lerp=a.lerp,s.slerp=function(e,t,n,r){var i,o,a,s,l,c=t[0],u=t[1],d=t[2],h=t[3],f=n[0],p=n[1],m=n[2],v=n[3];return(o=c*f+u*p+d*m+h*v)<0&&(o=-o,f=-f,p=-p,m=-m,v=-v),1-o>1e-6?(i=Math.acos(o),a=Math.sin(i),s=Math.sin((1-r)*i)/a,l=Math.sin(r*i)/a):(s=1-r,l=r),e[0]=s*c+l*f,e[1]=s*u+l*p,e[2]=s*d+l*m,e[3]=s*h+l*v,e},s.sqlerp=function(){var e=s.create(),t=s.create();return function(n,r,i,o,a,l){return s.slerp(e,r,a,l),s.slerp(t,i,o,l),s.slerp(n,e,t,2*l*(1-l)),n}}(),s.invert=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;return e[0]=-n*s,e[1]=-r*s,e[2]=-i*s,e[3]=o*s,e},s.conjugate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e},s.length=a.length,s.len=s.length,s.squaredLength=a.squaredLength,s.sqrLen=s.squaredLength,s.normalize=a.normalize,s.fromMat3=function(e,t){var n,r=t[0]+t[4]+t[8];if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;n=Math.sqrt(t[3*i+i]-t[3*o+o]-t[3*a+a]+1),e[i]=.5*n,n=.5/n,e[3]=(t[3*o+a]-t[3*a+o])*n,e[o]=(t[3*o+i]+t[3*i+o])*n,e[a]=(t[3*a+i]+t[3*i+a])*n}return e},s.str=function(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},t.exports=s},{"./common.js":56,"./mat3.js":59,"./vec3.js":63,"./vec4.js":64}],62:[function(e,t,n){var r=e("./common.js"),i={create:function(){var e=new r.ARRAY_TYPE(2);return e[0]=0,e[1]=0,e},clone:function(e){var t=new r.ARRAY_TYPE(2);return t[0]=e[0],t[1]=e[1],t},fromValues:function(e,t){var n=new r.ARRAY_TYPE(2);return n[0]=e,n[1]=t,n},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e},set:function(e,t,n){return e[0]=t,e[1]=n,e},add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e},subtract:function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}};i.sub=i.subtract,i.multiply=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e},i.mul=i.multiply,i.divide=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e},i.div=i.divide,i.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e},i.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e},i.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e},i.scaleAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e},i.distance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)},i.dist=i.distance,i.squaredDistance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r},i.sqrDist=i.squaredDistance,i.length=function(e){var t=e[0],n=e[1];return Math.sqrt(t*t+n*n)},i.len=i.length,i.squaredLength=function(e){var t=e[0],n=e[1];return t*t+n*n},i.sqrLen=i.squaredLength,i.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e},i.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e},i.normalize=function(e,t){var n=t[0],r=t[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i),e},i.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]},i.cross=function(e,t,n){var r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e},i.lerp=function(e,t,n,r){var i=t[0],o=t[1];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e},i.random=function(e,t){t=t||1;var n=2*r.RANDOM()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e},i.transformMat2=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i,e[1]=n[1]*r+n[3]*i,e},i.transformMat2d=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e},i.transformMat3=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[3]*i+n[6],e[1]=n[1]*r+n[4]*i+n[7],e},i.transformMat4=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e},i.forEach=function(){var e=i.create();return function(t,n,r,i,o,a){var s,l;for(n||(n=2),r||(r=0),l=i?Math.min(i*n+r,t.length):t.length,s=r;s<l;s+=n)e[0]=t[s],e[1]=t[s+1],o(e,e,a),t[s]=e[0],t[s+1]=e[1];return t}}(),i.str=function(e){return"vec2("+e[0]+", "+e[1]+")"},t.exports=i},{"./common.js":56}],63:[function(e,t,n){var r=e("./common.js"),i={create:function(){var e=new r.ARRAY_TYPE(3);return e[0]=0,e[1]=0,e[2]=0,e},clone:function(e){var t=new r.ARRAY_TYPE(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},fromValues:function(e,t,n){var i=new r.ARRAY_TYPE(3);return i[0]=e,i[1]=t,i[2]=n,i},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},set:function(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e},add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e},subtract:function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}};i.sub=i.subtract,i.multiply=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e},i.mul=i.multiply,i.divide=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e},i.div=i.divide,i.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e},i.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e},i.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e},i.scaleAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e},i.distance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(n*n+r*r+i*i)},i.dist=i.distance,i.squaredDistance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return n*n+r*r+i*i},i.sqrDist=i.squaredDistance,i.length=function(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)},i.len=i.length,i.squaredLength=function(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r},i.sqrLen=i.squaredLength,i.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e},i.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e},i.normalize=function(e,t){var n=t[0],r=t[1],i=t[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o),e},i.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},i.cross=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],l=n[2];return e[0]=i*l-o*s,e[1]=o*a-r*l,e[2]=r*s-i*a,e},i.lerp=function(e,t,n,r){var i=t[0],o=t[1],a=t[2];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e[2]=a+r*(n[2]-a),e},i.hermite=function(e,t,n,r,i,o){var a=o*o,s=a*(2*o-3)+1,l=a*(o-2)+o,c=a*(o-1),u=a*(3-2*o);return e[0]=t[0]*s+n[0]*l+r[0]*c+i[0]*u,e[1]=t[1]*s+n[1]*l+r[1]*c+i[1]*u,e[2]=t[2]*s+n[2]*l+r[2]*c+i[2]*u,e},i.bezier=function(e,t,n,r,i,o){var a=1-o,s=a*a,l=o*o,c=s*a,u=3*o*s,d=3*l*a,h=l*o;return e[0]=t[0]*c+n[0]*u+r[0]*d+i[0]*h,e[1]=t[1]*c+n[1]*u+r[1]*d+i[1]*h,e[2]=t[2]*c+n[2]*u+r[2]*d+i[2]*h,e},i.random=function(e,t){t=t||1;var n=2*r.RANDOM()*Math.PI,i=2*r.RANDOM()-1,o=Math.sqrt(1-i*i)*t;return e[0]=Math.cos(n)*o,e[1]=Math.sin(n)*o,e[2]=i*t,e},i.transformMat4=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,e[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,e[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,e[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,e},i.transformMat3=function(e,t,n){var r=t[0],i=t[1],o=t[2];return e[0]=r*n[0]+i*n[3]+o*n[6],e[1]=r*n[1]+i*n[4]+o*n[7],e[2]=r*n[2]+i*n[5]+o*n[8],e},i.transformQuat=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],l=n[2],c=n[3],u=c*r+s*o-l*i,d=c*i+l*r-a*o,h=c*o+a*i-s*r,f=-a*r-s*i-l*o;return e[0]=u*c+f*-a+d*-l-h*-s,e[1]=d*c+f*-s+h*-a-u*-l,e[2]=h*c+f*-l+u*-s-d*-a,e},i.rotateX=function(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e},i.rotateY=function(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e},i.rotateZ=function(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e},i.forEach=function(){var e=i.create();return function(t,n,r,i,o,a){var s,l;for(n||(n=3),r||(r=0),l=i?Math.min(i*n+r,t.length):t.length,s=r;s<l;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],o(e,e,a),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2];return t}}(),i.angle=function(e,t){var n=i.fromValues(e[0],e[1],e[2]),r=i.fromValues(t[0],t[1],t[2]);i.normalize(n,n),i.normalize(r,r);var o=i.dot(n,r);return o>1?0:Math.acos(o)},i.str=function(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"},t.exports=i},{"./common.js":56}],64:[function(e,t,n){var r=e("./common.js"),i={create:function(){var e=new r.ARRAY_TYPE(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e},clone:function(e){var t=new r.ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},fromValues:function(e,t,n,i){var o=new r.ARRAY_TYPE(4);return o[0]=e,o[1]=t,o[2]=n,o[3]=i,o},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},set:function(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e},add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e},subtract:function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}};i.sub=i.subtract,i.multiply=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e},i.mul=i.multiply,i.divide=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e},i.div=i.divide,i.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e},i.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e},i.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e},i.scaleAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e},i.distance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return Math.sqrt(n*n+r*r+i*i+o*o)},i.dist=i.distance,i.squaredDistance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return n*n+r*r+i*i+o*o},i.sqrDist=i.squaredDistance,i.length=function(e){var t=e[0],n=e[1],r=e[2],i=e[3];return Math.sqrt(t*t+n*n+r*r+i*i)},i.len=i.length,i.squaredLength=function(e){var t=e[0],n=e[1],r=e[2],i=e[3];return t*t+n*n+r*r+i*i},i.sqrLen=i.squaredLength,i.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},i.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},i.normalize=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a),e[0]=n*a,e[1]=r*a,e[2]=i*a,e[3]=o*a),e},i.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},i.lerp=function(e,t,n,r){var i=t[0],o=t[1],a=t[2],s=t[3];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e[2]=a+r*(n[2]-a),e[3]=s+r*(n[3]-s),e},i.random=function(e,t){return t=t||1,e[0]=r.RANDOM(),e[1]=r.RANDOM(),e[2]=r.RANDOM(),e[3]=r.RANDOM(),i.normalize(e,e),i.scale(e,e,t),e},i.transformMat4=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e},i.transformQuat=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],l=n[2],c=n[3],u=c*r+s*o-l*i,d=c*i+l*r-a*o,h=c*o+a*i-s*r,f=-a*r-s*i-l*o;return e[0]=u*c+f*-a+d*-l-h*-s,e[1]=d*c+f*-s+h*-a-u*-l,e[2]=h*c+f*-l+u*-s-d*-a,e[3]=t[3],e},i.forEach=function(){var e=i.create();return function(t,n,r,i,o,a){var s,l;for(n||(n=4),r||(r=0),l=i?Math.min(i*n+r,t.length):t.length,s=r;s<l;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],e[3]=t[s+3],o(e,e,a),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2],t[s+3]=e[3];return t}}(),i.str=function(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},t.exports=i},{"./common.js":56}],65:[function(e,t,n){(function(e){!function(e,n){"use strict";var r={},i=e.document,o=e.GreenSockGlobals=e.GreenSockGlobals||e;if(!o.TweenLite){var a,s,l,c,u,d=function(e){var t,n=e.split("."),r=o;for(t=0;t<n.length;t++)r[n[t]]=r=r[n[t]]||{};return r},h=d("com.greensock"),f=1e-10,p=function(e){var t,n=[],r=e.length;for(t=0;t!==r;n.push(e[t++]));return n},m=function(){},v=function(){var e=Object.prototype.toString,t=e.call([]);return function(n){return null!=n&&(n instanceof Array||"object"==typeof n&&!!n.push&&e.call(n)===t)}}(),g={},y=function(i,a,s,l){this.sc=g[i]?g[i].sc:[],g[i]=this,this.gsClass=null,this.func=s;var c=[];this.check=function(u){for(var h,f,p,m,v,_=a.length,b=_;--_>-1;)(h=g[a[_]]||new y(a[_],[])).gsClass?(c[_]=h.gsClass,b--):u&&h.sc.push(this);if(0===b&&s){if(p=(f=("com.greensock."+i).split(".")).pop(),m=d(f.join("."))[p]=this.gsClass=s.apply(s,c),l)if(o[p]=r[p]=m,!(v=void 0!==t&&t.exports)&&"function"==typeof define&&define.amd)define((e.GreenSockAMDPath?e.GreenSockAMDPath+"/":"")+i.split(".").pop(),[],function(){return m});else if(v)if(i===n)for(_ in t.exports=r[n]=m,r)m[_]=r[_];else r[n]&&(r[n][p]=m);for(_=0;_<this.sc.length;_++)this.sc[_].check()}},this.check(!0)},_=e._gsDefine=function(e,t,n,r){return new y(e,t,n,r)},b=h._class=function(e,t,n){return t=t||function(){},_(e,[],function(){return t},n),t};_.globals=o;var w=[0,0,1,1],x=b("easing.Ease",function(e,t,n,r){this._func=e,this._type=n||0,this._power=r||0,this._params=t?w.concat(t):w},!0),S=x.map={},T=x.register=function(e,t,n,r){for(var i,o,a,s,l=t.split(","),c=l.length,u=(n||"easeIn,easeOut,easeInOut").split(",");--c>-1;)for(o=l[c],i=r?b("easing."+o,null,!0):h.easing[o]||{},a=u.length;--a>-1;)s=u[a],S[o+"."+s]=S[s+o]=i[s]=e.getRatio?e:e[s]||new e};for((l=x.prototype)._calcEnd=!1,l.getRatio=function(e){if(this._func)return this._params[0]=e,this._func.apply(null,this._params);var t=this._type,n=this._power,r=1===t?1-e:2===t?e:e<.5?2*e:2*(1-e);return 1===n?r*=r:2===n?r*=r*r:3===n?r*=r*r*r:4===n&&(r*=r*r*r*r),1===t?1-r:2===t?r:e<.5?r/2:1-r/2},s=(a=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;--s>-1;)l=a[s]+",Power"+s,T(new x(null,null,1,s),l,"easeOut",!0),T(new x(null,null,2,s),l,"easeIn"+(0===s?",easeNone":"")),T(new x(null,null,3,s),l,"easeInOut");S.linear=h.easing.Linear.easeIn,S.swing=h.easing.Quad.easeInOut;var E=b("events.EventDispatcher",function(e){this._listeners={},this._eventTarget=e||this});(l=E.prototype).addEventListener=function(e,t,n,r,i){i=i||0;var o,a,s=this._listeners[e],l=0;for(this!==c||u||c.wake(),null==s&&(this._listeners[e]=s=[]),a=s.length;--a>-1;)(o=s[a]).c===t&&o.s===n?s.splice(a,1):0===l&&o.pr<i&&(l=a+1);s.splice(l,0,{c:t,s:n,up:r,pr:i})},l.removeEventListener=function(e,t){var n,r=this._listeners[e];if(r)for(n=r.length;--n>-1;)if(r[n].c===t)return void r.splice(n,1)},l.dispatchEvent=function(e){var t,n,r,i=this._listeners[e];if(i)for((t=i.length)>1&&(i=i.slice(0)),n=this._eventTarget;--t>-1;)(r=i[t])&&(r.up?r.c.call(r.s||n,{type:e,target:n}):r.c.call(r.s||n))};var A=e.requestAnimationFrame,M=e.cancelAnimationFrame,L=Date.now||function(){return(new Date).getTime()},C=L();for(s=(a=["ms","moz","webkit","o"]).length;--s>-1&&!A;)A=e[a[s]+"RequestAnimationFrame"],M=e[a[s]+"CancelAnimationFrame"]||e[a[s]+"CancelRequestAnimationFrame"];b("Ticker",function(e,t){var n,r,o,a,s,l=this,d=L(),h=!(!1===t||!A)&&"auto",p=500,v=33,g=function(e){var t,i,c=L()-C;c>p&&(d+=c-v),C+=c,l.time=(C-d)/1e3,t=l.time-s,(!n||t>0||!0===e)&&(l.frame++,s+=t+(t>=a?.004:a-t),i=!0),!0!==e&&(o=r(g)),i&&l.dispatchEvent("tick")};E.call(l),l.time=l.frame=0,l.tick=function(){g(!0)},l.lagSmoothing=function(e,t){p=e||1/f,v=Math.min(t,p,0)},l.sleep=function(){null!=o&&(h&&M?M(o):clearTimeout(o),r=m,o=null,l===c&&(u=!1))},l.wake=function(e){null!==o?l.sleep():e?d+=-C+(C=L()):l.frame>10&&(C=L()-p+5),r=0===n?m:h&&A?A:function(e){return setTimeout(e,1e3*(s-l.time)+1|0)},l===c&&(u=!0),g(2)},l.fps=function(e){return arguments.length?(a=1/((n=e)||60),s=this.time+a,void l.wake()):n},l.useRAF=function(e){return arguments.length?(l.sleep(),h=e,void l.fps(n)):h},l.fps(e),setTimeout(function(){"auto"===h&&l.frame<5&&"hidden"!==i.visibilityState&&l.useRAF(!1)},1500)}),(l=h.Ticker.prototype=new h.events.EventDispatcher).constructor=h.Ticker;var k=b("core.Animation",function(e,t){if(this.vars=t=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(t.delay)||0,this._timeScale=1,this._active=!0===t.immediateRender,this.data=t.data,this._reversed=!0===t.reversed,X){u||c.wake();var n=this.vars.useFrames?V:X;n.add(this,n._time),this.vars.paused&&this.paused(!0)}});c=k.ticker=new h.Ticker,(l=k.prototype)._dirty=l._gc=l._initted=l._paused=!1,l._totalTime=l._time=0,l._rawPrevTime=-1,l._next=l._last=l._onUpdate=l._timeline=l.timeline=null,l._paused=!1;var D=function(){u&&L()-C>2e3&&c.wake(),setTimeout(D,2e3)};D(),l.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},l.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},l.resume=function(e,t){return null!=e&&this.seek(e,t),this.paused(!1)},l.seek=function(e,t){return this.totalTime(Number(e),!1!==t)},l.restart=function(e,t){return this.reversed(!1).paused(!1).totalTime(e?-this._delay:0,!1!==t,!0)},l.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},l.render=function(e,t,n){},l.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},l.isActive=function(){var e,t=this._timeline,n=this._startTime;return!t||!this._gc&&!this._paused&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<n+this.totalDuration()/this._timeScale},l._enabled=function(e,t){return u||c.wake(),this._gc=!e,this._active=this.isActive(),!0!==t&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},l._kill=function(e,t){return this._enabled(!1,!1)},l.kill=function(e,t){return this._kill(e,t),this},l._uncache=function(e){for(var t=e?this:this.timeline;t;)t._dirty=!0,t=t.timeline;return this},l._swapSelfInParams=function(e){for(var t=e.length,n=e.concat();--t>-1;)"{self}"===e[t]&&(n[t]=this);return n},l._callback=function(e){var t=this.vars,n=t[e],r=t[e+"Params"],i=t[e+"Scope"]||t.callbackScope||this;switch(r?r.length:0){case 0:n.call(i);break;case 1:n.call(i,r[0]);break;case 2:n.call(i,r[0],r[1]);break;default:n.apply(i,r)}},l.eventCallback=function(e,t,n,r){if("on"===(e||"").substr(0,2)){var i=this.vars;if(1===arguments.length)return i[e];null==t?delete i[e]:(i[e]=t,i[e+"Params"]=v(n)&&-1!==n.join("").indexOf("{self}")?this._swapSelfInParams(n):n,i[e+"Scope"]=r),"onUpdate"===e&&(this._onUpdate=t)}return this},l.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},l.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==e&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},l.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},l.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(e>this._duration?this._duration:e,t)):this._time},l.totalTime=function(e,t,n){if(u||c.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(e<0&&!n&&(e+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var r=this._totalDuration,i=this._timeline;if(e>r&&!n&&(e=r),this._startTime=(this._paused?this._pauseTime:i._time)-(this._reversed?r-e:e)/this._timeScale,i._dirty||this._uncache(!1),i._timeline)for(;i._timeline;)i._timeline._time!==(i._startTime+i._totalTime)/i._timeScale&&i.totalTime(i._totalTime,!0),i=i._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===e&&0!==this._duration||(N.length&&Z(),this.render(e,t,!1),N.length&&Z())}return this},l.progress=l.totalProgress=function(e,t){var n=this.duration();return arguments.length?this.totalTime(n*e,t):n?this._time/n:this.ratio},l.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},l.endTime=function(e){return this._startTime+(0!=e?this.totalDuration():this.duration())/this._timeScale},l.timeScale=function(e){if(!arguments.length)return this._timeScale;if(e=e||f,this._timeline&&this._timeline.smoothChildTiming){var t=this._pauseTime,n=t||0===t?t:this._timeline.totalTime();this._startTime=n-(n-this._startTime)*this._timeScale/e}return this._timeScale=e,this._uncache(!1)},l.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},l.paused=function(e){if(!arguments.length)return this._paused;var t,n,r=this._timeline;return e!=this._paused&&r&&(u||e||c.wake(),n=(t=r.rawTime())-this._pauseTime,!e&&r.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=e?t:null,this._paused=e,this._active=this.isActive(),!e&&0!==n&&this._initted&&this.duration()&&(t=r.smoothChildTiming?this._totalTime:(t-this._startTime)/this._timeScale,this.render(t,t===this._totalTime,!0))),this._gc&&!e&&this._enabled(!0,!1),this};var I=b("core.SimpleTimeline",function(e){k.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0});(l=I.prototype=new k).constructor=I,l.kill()._gc=!1,l._first=l._last=l._recent=null,l._sortChildren=!1,l.add=l.insert=function(e,t,n,r){var i,o;if(e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=e._startTime+(this.rawTime()-e._startTime)/e._timeScale),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),i=this._last,this._sortChildren)for(o=e._startTime;i&&i._startTime>o;)i=i._prev;return i?(e._next=i._next,i._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=i,this._recent=e,this._timeline&&this._uncache(!0),this},l._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),e._next=e._prev=e.timeline=null,e===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},l.render=function(e,t,n){var r,i=this._first;for(this._totalTime=this._time=this._rawPrevTime=e;i;)r=i._next,(i._active||e>=i._startTime&&!i._paused)&&(i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(e-i._startTime)*i._timeScale,t,n):i.render((e-i._startTime)*i._timeScale,t,n)),i=r},l.rawTime=function(){return u||c.wake(),this._totalTime};var O=b("TweenLite",function(t,n,r){if(k.call(this,n,r),this.render=O.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:O.selector(t)||t;var i,o,a,s=t.jquery||t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?G[O.defaultOverwrite]:"number"==typeof l?l>>0:G[l],(s||t instanceof Array||t.push&&v(t))&&"number"!=typeof t[0])for(this._targets=a=p(t),this._propLookup=[],this._siblings=[],i=0;i<a.length;i++)(o=a[i])?"string"!=typeof o?o.length&&o!==e&&o[0]&&(o[0]===e||o[0].nodeType&&o[0].style&&!o.nodeType)?(a.splice(i--,1),this._targets=a=a.concat(p(o))):(this._siblings[i]=$(o,this,!1),1===l&&this._siblings[i].length>1&&Q(o,this,null,1,this._siblings[i])):"string"==typeof(o=a[i--]=O.selector(o))&&a.splice(i+1,1):a.splice(i--,1);else this._propLookup={},this._siblings=$(t,this,!1),1===l&&this._siblings.length>1&&Q(t,this,null,1,this._siblings);(this.vars.immediateRender||0===n&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-f,this.render(Math.min(0,-this._delay)))},!0),P=function(t){return t&&t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType)};(l=O.prototype=new k).constructor=O,l.kill()._gc=!1,l.ratio=0,l._firstPT=l._targets=l._overwrittenProps=l._startAt=null,l._notifyPluginsOfEnabled=l._lazy=!1,O.version="1.19.1",O.defaultEase=l._ease=new x(null,null,1,1),O.defaultOverwrite="auto",O.ticker=c,O.autoSleep=120,O.lagSmoothing=function(e,t){c.lagSmoothing(e,t)},O.selector=e.$||e.jQuery||function(t){var n=e.$||e.jQuery;return n?(O.selector=n,n(t)):void 0===i?t:i.querySelectorAll?i.querySelectorAll(t):i.getElementById("#"===t.charAt(0)?t.substr(1):t)};var N=[],R={},q=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,z=function(e){for(var t,n=this._firstPT;n;)t=n.blob?1===e?this.end:e?this.join(""):this.start:n.c*e+n.s,n.m?t=n.m(t,this._target||n.t):t<1e-6&&t>-1e-6&&!n.blob&&(t=0),n.f?n.fp?n.t[n.p](n.fp,t):n.t[n.p](t):n.t[n.p]=t,n=n._next},F=function(e,t,n,r){var i,o,a,s,l,c,u,d=[],h=0,f="",p=0;for(d.start=e,d.end=t,e=d[0]=e+"",t=d[1]=t+"",n&&(n(d),e=d[0],t=d[1]),d.length=0,i=e.match(q)||[],o=t.match(q)||[],r&&(r._next=null,r.blob=1,d._firstPT=d._applyPT=r),l=o.length,s=0;s<l;s++)u=o[s],f+=(c=t.substr(h,t.indexOf(u,h)-h))||!s?c:",",h+=c.length,p?p=(p+1)%5:"rgba("===c.substr(-5)&&(p=1),u===i[s]||i.length<=s?f+=u:(f&&(d.push(f),f=""),a=parseFloat(i[s]),d.push(a),d._firstPT={_next:d._firstPT,t:d,p:d.length-1,s:a,c:("="===u.charAt(1)?parseInt(u.charAt(0)+"1",10)*parseFloat(u.substr(2)):parseFloat(u)-a)||0,f:0,m:p&&p<4?Math.round:0}),h+=u.length;return(f+=t.substr(h))&&d.push(f),d.setRatio=z,d},j=function(e,t,n,r,i,o,a,s,l){"function"==typeof r&&(r=r(l||0,e));var c=typeof e[t],u="function"!==c?"":t.indexOf("set")||"function"!=typeof e["get"+t.substr(3)]?t:"get"+t.substr(3),d="get"!==n?n:u?a?e[u](a):e[u]():e[t],h="string"==typeof r&&"="===r.charAt(1),f={t:e,p:t,s:d,f:"function"===c,pg:0,n:i||t,m:o?"function"==typeof o?o:Math.round:0,pr:0,c:h?parseInt(r.charAt(0)+"1",10)*parseFloat(r.substr(2)):parseFloat(r)-d||0};if(("number"!=typeof d||"number"!=typeof r&&!h)&&(a||isNaN(d)||!h&&isNaN(r)||"boolean"==typeof d||"boolean"==typeof r?(f.fp=a,f={t:F(d,h?f.s+f.c:r,s||O.defaultStringFilter,f),p:"setRatio",s:0,c:1,f:2,pg:0,n:i||t,pr:0,m:0}):(f.s=parseFloat(d),h||(f.c=parseFloat(r)-f.s||0))),f.c)return(f._next=this._firstPT)&&(f._next._prev=f),this._firstPT=f,f},B=O._internals={isArray:v,isSelector:P,lazyTweens:N,blobDif:F},W=O._plugins={},U=B.tweenLookup={},H=0,Y=B.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1},G={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},V=k._rootFramesTimeline=new I,X=k._rootTimeline=new I,K=30,Z=B.lazyRender=function(){var e,t=N.length;for(R={};--t>-1;)(e=N[t])&&!1!==e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0),e._lazy=!1);N.length=0};X._startTime=c.time,V._startTime=c.frame,X._active=V._active=!0,setTimeout(Z,1),k._updateRoot=O.render=function(){var e,t,n;if(N.length&&Z(),X.render((c.time-X._startTime)*X._timeScale,!1,!1),V.render((c.frame-V._startTime)*V._timeScale,!1,!1),N.length&&Z(),c.frame>=K){for(n in K=c.frame+(parseInt(O.autoSleep,10)||120),U){for(e=(t=U[n].tweens).length;--e>-1;)t[e]._gc&&t.splice(e,1);0===t.length&&delete U[n]}if((!(n=X._first)||n._paused)&&O.autoSleep&&!V._first&&1===c._listeners.tick.length){for(;n&&n._paused;)n=n._next;n||c.sleep()}}},c.addEventListener("tick",k._updateRoot);var $=function(e,t,n){var r,i,o=e._gsTweenID;if(U[o||(e._gsTweenID=o="t"+H++)]||(U[o]={target:e,tweens:[]}),t&&((r=U[o].tweens)[i=r.length]=t,n))for(;--i>-1;)r[i]===t&&r.splice(i,1);return U[o].tweens},J=function(e,t,n,r){var i,o,a=e.vars.onOverwrite;return a&&(i=a(e,t,n,r)),(a=O.onOverwrite)&&(o=a(e,t,n,r)),!1!==i&&!1!==o},Q=function(e,t,n,r,i){var o,a,s,l;if(1===r||r>=4){for(l=i.length,o=0;o<l;o++)if((s=i[o])!==t)s._gc||s._kill(null,e,t)&&(a=!0);else if(5===r)break;return a}var c,u=t._startTime+f,d=[],h=0,p=0===t._duration;for(o=i.length;--o>-1;)(s=i[o])===t||s._gc||s._paused||(s._timeline!==t._timeline?(c=c||ee(t,0,p),0===ee(s,c,p)&&(d[h++]=s)):s._startTime<=u&&s._startTime+s.totalDuration()/s._timeScale>u&&((p||!s._initted)&&u-s._startTime<=2e-10||(d[h++]=s)));for(o=h;--o>-1;)if(s=d[o],2===r&&s._kill(n,e,t)&&(a=!0),2!==r||!s._firstPT&&s._initted){if(2!==r&&!J(s,t))continue;s._enabled(!1,!1)&&(a=!0)}return a},ee=function(e,t,n){for(var r=e._timeline,i=r._timeScale,o=e._startTime;r._timeline;){if(o+=r._startTime,i*=r._timeScale,r._paused)return-100;r=r._timeline}return(o/=i)>t?o-t:n&&o===t||!e._initted&&o-t<2*f?f:(o+=e.totalDuration()/e._timeScale/i)>t+f?0:o-t-f};l._init=function(){var e,t,n,r,i,o,a=this.vars,s=this._overwrittenProps,l=this._duration,c=!!a.immediateRender,u=a.ease;if(a.startAt){for(r in this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),i={},a.startAt)i[r]=a.startAt[r];if(i.overwrite=!1,i.immediateRender=!0,i.lazy=c&&!1!==a.lazy,i.startAt=i.delay=null,this._startAt=O.to(this.target,0,i),c)if(this._time>0)this._startAt=null;else if(0!==l)return}else if(a.runBackwards&&0!==l)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{for(r in 0!==this._time&&(c=!1),n={},a)Y[r]&&"autoCSS"!==r||(n[r]=a[r]);if(n.overwrite=0,n.data="isFromStart",n.lazy=c&&!1!==a.lazy,n.immediateRender=c,this._startAt=O.to(this.target,0,n),c){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=u=u?u instanceof x?u:"function"==typeof u?new x(u,a.easeParams):S[u]||O.defaultEase:O.defaultEase,a.easeParams instanceof Array&&u.config&&(this._ease=u.config.apply(u,a.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(o=this._targets.length,e=0;e<o;e++)this._initProps(this._targets[e],this._propLookup[e]={},this._siblings[e],s?s[e]:null,e)&&(t=!0);else t=this._initProps(this.target,this._propLookup,this._siblings,s,0);if(t&&O._onPluginEvent("_onInitAllProps",this),s&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),a.runBackwards)for(n=this._firstPT;n;)n.s+=n.c,n.c=-n.c,n=n._next;this._onUpdate=a.onUpdate,this._initted=!0},l._initProps=function(t,n,r,i,o){var a,s,l,c,u,d;if(null==t)return!1;for(a in R[t._gsTweenID]&&Z(),this.vars.css||t.style&&t!==e&&t.nodeType&&W.css&&!1!==this.vars.autoCSS&&function(e,t){var n,r={};for(n in e)Y[n]||n in t&&"transform"!==n&&"x"!==n&&"y"!==n&&"width"!==n&&"height"!==n&&"className"!==n&&"border"!==n||!(!W[n]||W[n]&&W[n]._autoCSS)||(r[n]=e[n],delete e[n]);e.css=r}(this.vars,t),this.vars)if(d=this.vars[a],Y[a])d&&(d instanceof Array||d.push&&v(d))&&-1!==d.join("").indexOf("{self}")&&(this.vars[a]=d=this._swapSelfInParams(d,this));else if(W[a]&&(c=new W[a])._onInitTween(t,this.vars[a],this,o)){for(this._firstPT=u={_next:this._firstPT,t:c,p:"setRatio",s:0,c:1,f:1,n:a,pg:1,pr:c._priority,m:0},s=c._overwriteProps.length;--s>-1;)n[c._overwriteProps[s]]=this._firstPT;(c._priority||c._onInitAllProps)&&(l=!0),(c._onDisable||c._onEnable)&&(this._notifyPluginsOfEnabled=!0),u._next&&(u._next._prev=u)}else n[a]=j.call(this,t,a,"get",d,a,0,null,this.vars.stringFilter,o);return i&&this._kill(i,t)?this._initProps(t,n,r,i,o):this._overwrite>1&&this._firstPT&&r.length>1&&Q(t,this,n,this._overwrite,r)?(this._kill(n,t),this._initProps(t,n,r,i,o)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(R[t._gsTweenID]=!0),l)},l.render=function(e,t,n){var r,i,o,a,s=this._time,l=this._duration,c=this._rawPrevTime;if(e>=l-1e-7&&e>=0)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(r=!0,i="onComplete",n=n||this._timeline.autoRemoveChildren),0===l&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(e=0),(c<0||e<=0&&e>=-1e-7||c===f&&"isPause"!==this.data)&&c!==e&&(n=!0,c>f&&(i="onReverseComplete")),this._rawPrevTime=a=!t||e||c===e?e:f);else if(e<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==s||0===l&&c>0)&&(i="onReverseComplete",r=this._reversed),e<0&&(this._active=!1,0===l&&(this._initted||!this.vars.lazy||n)&&(c>=0&&(c!==f||"isPause"!==this.data)&&(n=!0),this._rawPrevTime=a=!t||e||c===e?e:f)),this._initted||(n=!0);else if(this._totalTime=this._time=e,this._easeType){var u=e/l,d=this._easeType,h=this._easePower;(1===d||3===d&&u>=.5)&&(u=1-u),3===d&&(u*=2),1===h?u*=u:2===h?u*=u*u:3===h?u*=u*u*u:4===h&&(u*=u*u*u*u),this.ratio=1===d?1-u:2===d?u:e/l<.5?u/2:1-u/2}else this.ratio=this._ease.getRatio(e/l);if(this._time!==s||n){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=s,this._rawPrevTime=c,N.push(this),void(this._lazy=[e,t]);this._time&&!r?this.ratio=this._ease.getRatio(this._time/l):r&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==s&&e>=0&&(this._active=!0),0===s&&(this._startAt&&(e>=0?this._startAt.render(e,t,n):i||(i="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==l||t||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(e<0&&this._startAt&&-1e-4!==e&&this._startAt.render(e,t,n),t||(this._time!==s||r||n)&&this._callback("onUpdate")),i&&(this._gc&&!n||(e<0&&this._startAt&&!this._onUpdate&&-1e-4!==e&&this._startAt.render(e,t,n),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[i]&&this._callback(i),0===l&&this._rawPrevTime===f&&a!==f&&(this._rawPrevTime=0)))}},l._kill=function(e,t,n){if("all"===e&&(e=null),null==e&&(null==t||t===this.target))return this._lazy=!1,this._enabled(!1,!1);t="string"!=typeof t?t||this._targets||this.target:O.selector(t)||t;var r,i,o,a,s,l,c,u,d,h=n&&this._time&&n._startTime===this._startTime&&this._timeline===n._timeline;if((v(t)||P(t))&&"number"!=typeof t[0])for(r=t.length;--r>-1;)this._kill(e,t[r],n)&&(l=!0);else{if(this._targets){for(r=this._targets.length;--r>-1;)if(t===this._targets[r]){s=this._propLookup[r]||{},this._overwrittenProps=this._overwrittenProps||[],i=this._overwrittenProps[r]=e?this._overwrittenProps[r]||{}:"all";break}}else{if(t!==this.target)return!1;s=this._propLookup,i=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(s){if(c=e||s,u=e!==i&&"all"!==i&&e!==s&&("object"!=typeof e||!e._tempKill),n&&(O.onOverwrite||this.vars.onOverwrite)){for(o in c)s[o]&&(d||(d=[]),d.push(o));if((d||!e)&&!J(this,n,t,d))return!1}for(o in c)(a=s[o])&&(h&&(a.f?a.t[a.p](a.s):a.t[a.p]=a.s,l=!0),a.pg&&a.t._kill(c)&&(l=!0),a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null),delete s[o]),u&&(i[o]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return l},l.invalidate=function(){return this._notifyPluginsOfEnabled&&O._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],k.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-f,this.render(Math.min(0,-this._delay))),this},l._enabled=function(e,t){if(u||c.wake(),e&&this._gc){var n,r=this._targets;if(r)for(n=r.length;--n>-1;)this._siblings[n]=$(r[n],this,!0);else this._siblings=$(this.target,this,!0)}return k.prototype._enabled.call(this,e,t),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&O._onPluginEvent(e?"_onEnable":"_onDisable",this)},O.to=function(e,t,n){return new O(e,t,n)},O.from=function(e,t,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new O(e,t,n)},O.fromTo=function(e,t,n,r){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,new O(e,t,r)},O.delayedCall=function(e,t,n,r,i){return new O(t,0,{delay:e,onComplete:t,onCompleteParams:n,callbackScope:r,onReverseComplete:t,onReverseCompleteParams:n,immediateRender:!1,lazy:!1,useFrames:i,overwrite:0})},O.set=function(e,t){return new O(e,0,t)},O.getTweensOf=function(e,t){if(null==e)return[];var n,r,i,o;if(e="string"!=typeof e?e:O.selector(e)||e,(v(e)||P(e))&&"number"!=typeof e[0]){for(n=e.length,r=[];--n>-1;)r=r.concat(O.getTweensOf(e[n],t));for(n=r.length;--n>-1;)for(o=r[n],i=n;--i>-1;)o===r[i]&&r.splice(n,1)}else for(n=(r=$(e).concat()).length;--n>-1;)(r[n]._gc||t&&!r[n].isActive())&&r.splice(n,1);return r},O.killTweensOf=O.killDelayedCallsTo=function(e,t,n){"object"==typeof t&&(n=t,t=!1);for(var r=O.getTweensOf(e,t),i=r.length;--i>-1;)r[i]._kill(n,e)};var te=b("plugins.TweenPlugin",function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0,this._super=te.prototype},!0);if(l=te.prototype,te.version="1.19.0",te.API=2,l._firstPT=null,l._addTween=j,l.setRatio=z,l._kill=function(e){var t,n=this._overwriteProps,r=this._firstPT;if(null!=e[this._propName])this._overwriteProps=[];else for(t=n.length;--t>-1;)null!=e[n[t]]&&n.splice(t,1);for(;r;)null!=e[r.n]&&(r._next&&(r._next._prev=r._prev),r._prev?(r._prev._next=r._next,r._prev=null):this._firstPT===r&&(this._firstPT=r._next)),r=r._next;return!1},l._mod=l._roundProps=function(e){for(var t,n=this._firstPT;n;)(t=e[this._propName]||null!=n.n&&e[n.n.split(this._propName+"_").join("")])&&"function"==typeof t&&(2===n.f?n.t._applyPT.m=t:n.m=t),n=n._next},O._onPluginEvent=function(e,t){var n,r,i,o,a,s=t._firstPT;if("_onInitAllProps"===e){for(;s;){for(a=s._next,r=i;r&&r.pr>s.pr;)r=r._next;(s._prev=r?r._prev:o)?s._prev._next=s:i=s,(s._next=r)?r._prev=s:o=s,s=a}s=t._firstPT=i}for(;s;)s.pg&&"function"==typeof s.t[e]&&s.t[e]()&&(n=!0),s=s._next;return n},te.activate=function(e){for(var t=e.length;--t>-1;)e[t].API===te.API&&(W[(new e[t])._propName]=e[t]);return!0},_.plugin=function(e){if(!(e&&e.propName&&e.init&&e.API))throw"illegal plugin definition.";var t,n=e.propName,r=e.priority||0,i=e.overwriteProps,o={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},a=b("plugins."+n.charAt(0).toUpperCase()+n.substr(1)+"Plugin",function(){te.call(this,n,r),this._overwriteProps=i||[]},!0===e.global),s=a.prototype=new te(n);for(t in s.constructor=a,a.API=e.API,o)"function"==typeof e[t]&&(s[o[t]]=e[t]);return a.version=e.version,te.activate([a]),a},a=e._gsQueue){for(s=0;s<a.length;s++)a[s]();for(l in g)g[l].func||e.console.log("GSAP encountered missing dependency: "+l)}u=!1}}(void 0!==t&&t.exports&&void 0!==e?e:this||window,"TweenLite")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],66:[function(e,t,n){function r(e){i.call(this),this.lens=e,this._view=o.create(),this._viewProj=o.create()}var i=e("nanogl-node"),o=e("gl-matrix/src/gl-matrix/mat4"),a=e("./perspective-lens"),s=e("./ortho-lens"),l=o.create(),c=Object.create(i.prototype);c.modelViewMatrix=function(e,t){o.multiply(e,t,this._view)},c.modelViewProjectionMatrix=function(e,t){o.multiply(e,this._viewProj,t)},c.unproject=function(e,t){o.invert(l,this._proj),vec3.transformMat4(e,t,l)},c.updateViewProjectionMatrix=function(e,t){this.lens.aspect=e/t,o.multiply(this._viewProj,this.lens.getProjection(),this._view)},c._computeWorldMatrix=function(e){i.prototype._computeWorldMatrix.call(this,e),o.invert(this._view,this._wmatrix)},r.makePerspectiveCamera=function(){return new r(new a)},r.makeOrthoCamera=function(){return new r(new s)},c.constructor=r,r.prototype=c,t.exports=r},{"./ortho-lens":67,"./perspective-lens":68,"gl-matrix/src/gl-matrix/mat4":60,"nanogl-node":70}],67:[function(e,t,n){function r(){this._near=.01,this._far=10,this._xMin=-1,this._xMax=1,this._yMin=-1,this._yMax=1,this._proj=i.create(),this._valid=!1}var i=e("gl-matrix/src/gl-matrix/mat4");r.prototype={getProjection:function(){return this._valid||this._updateProjection(),this._proj},setBound:function(e,t,n,r){this._xMin=e,this._xMax=t,this._yMin=n,this._yMax=r,this._invalidate()},set near(e){this._near!==e&&(this._near=e,this._invalidate())},get near(){return this._near},set far(e){this._far!==e&&(this._far=e,this._invalidate())},get far(){return this._far},set aspect(e){this._aspect!==e&&(this._aspect=e)},get aspect(){return this._aspect},_updateProjection:function(){i.ortho(this._proj,this._xMin,this._xMax,this._yMin,this._yMax,this._near,this._far),this._valid=!0},_invalidate:function(){this._valid=!1}},t.exports=r},{"gl-matrix/src/gl-matrix/mat4":60}],68:[function(e,t,n){function r(){this._near=.01,this._far=10,this._fov=Math.PI/3,this._vfov=0,this._hfov=0,this._aspect=1,this._fovMode=0,this._proj=i.create(),this._valid=!1}var i=e("gl-matrix/src/gl-matrix/mat4");r.prototype={getProjection:function(){return this._valid||this._updateProjection(),this._proj},set fov(e){this.setVerticalFov(e)},get fov(){return this._fov},set near(e){this._near!==e&&(this._near=e,this._invalidate())},get near(){return this._near},set far(e){this._far!==e&&(this._far=e,this._invalidate())},get far(){return this._far},set aspect(e){this._aspect!==e&&(this._aspect=e,this._invalidate())},get aspect(){return this._aspect},setHorizontalFov:function(e){this._fov=e,this._fovMode=2,this._invalidate()},setVerticalFov:function(e){this._fov=e,this._fovMode=1,this._invalidate()},getHorizontalFov:function(){return this.getProjection(),this._hfov},getVerticalFov:function(){return this.getProjection(),this._vfov},setAutoFov:function(e){this._fov=e,this._fovMode=3,this._invalidate()},_updateProjection:function(){var e=this._fovMode,t=this._aspect;1===e||3===e&&t>1?(this._vfov=this._fov,this._hfov=2*Math.atan(Math.tan(this._fov/2)*t)):(this._hfov=this._fov,this._vfov=2*Math.atan(Math.tan(this._fov/2)/t)),i.perspective(this._proj,this._vfov,t,this._near,this._far),this._valid=!0},_invalidate:function(){this._valid=!1}},t.exports=r},{"gl-matrix/src/gl-matrix/mat4":60}],69:[function(e,t,n){var r=e("gl-matrix/src/gl-matrix/mat3"),i=e("gl-matrix/src/gl-matrix/quat"),o=r.create();t.exports={decomposeMat4:function(e,t,n,r){t[0]=e[12],t[1]=e[13],t[2]=e[14],r[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]),r[1]=Math.sqrt(e[4]*e[4]+e[5]*e[5]+e[6]*e[6]),r[2]=Math.sqrt(e[8]*e[8]+e[9]*e[9]+e[10]*e[10]),o[0]=e[0]/r[0],o[1]=e[1]/r[0],o[2]=e[2]/r[0],o[3]=e[4]/r[1],o[4]=e[5]/r[1],o[5]=e[6]/r[1],o[6]=e[8]/r[2],o[7]=e[9]/r[2],o[8]=e[10]/r[2],i.fromMat3(n,o)}}},{"gl-matrix/src/gl-matrix/mat3":59,"gl-matrix/src/gl-matrix/quat":61}],70:[function(e,t,n){function r(){this.position=s.create(),this.rotation=l.create(),this.scale=s.fromValues(1,1,1),this._matrix=o.create(),this._wmatrix=o.create(),this._wposition=new Float32Array(this._wmatrix.buffer,48,3),this._parent=null,this._children=[],this._invalidM=!0,this._invalidW=!0}var i=e("./math"),o=e("gl-matrix/src/gl-matrix/mat4"),a=e("gl-matrix/src/gl-matrix/mat3"),s=e("gl-matrix/src/gl-matrix/vec3"),l=e("gl-matrix/src/gl-matrix/quat"),c=a.create(),u=new Float32Array(c.buffer,0,3),d=new Float32Array(c.buffer,12,3),h=new Float32Array(c.buffer,24,3);VUP=s.fromValues(0,1,0),r.prototype={rotateX:function(e){l.rotateX(this.rotation,this.rotation,e),this.invalidate()},rotateY:function(e){l.rotateY(this.rotation,this.rotation,e),this.invalidate()},rotateZ:function(e){l.rotateZ(this.rotation,this.rotation,e),this.invalidate()},set x(e){this.position[0]=e,this.invalidate()},set y(e){this.position[1]=e,this.invalidate()},set z(e){this.position[2]=e,this.invalidate()},get x(){return this.position[0]},get y(){return this.position[1]},get z(){return this.position[2]},setScale:function(e){this.scale[0]=this.scale[1]=this.scale[2]=e,this.invalidate()},lookAt:function(e){s.subtract(h,this.position,e),s.normalize(h,h),s.cross(u,VUP,h),s.normalize(u,u),s.cross(d,h,u),l.fromMat3(this.rotation,c),this.invalidate()},setMatrix:function(e){o.copy(this._matrix,e),i.decomposeMat4(e,this.position,this.rotation,this.scale),this._invalidM=!1,this._invalidW=!0},add:function(e){-1===this._children.indexOf(e)&&(null!==e._parent&&e._parent.remove(e),this._children.push(e),e._parent=this)},remove:function(e){var t=this._children.indexOf(e);t>-1&&(this._children.splice(t,1),e._parent=null)},invalidate:function(){this._invalidM=!0,this._invalidW=!0},updateMatrix:function(){this._invalidM&&(o.fromRotationTranslationScale(this._matrix,this.rotation,this.position,this.scale),this._invalidM=!1)},updateWorldMatrix:function(e){e=!!e,this.updateMatrix();var t=this._hasInvalidWorldMatrix(e);t&&this._computeWorldMatrix(e);for(var n=0;n<this._children.length;n++){var r=this._children[n];r._invalidW=r._invalidW||t,r.updateWorldMatrix(!0)}},_computeWorldMatrix:function(e){var t=this._parent;null!==t?(!e&&t._hasInvalidWorldMatrix(!1)&&(t.updateMatrix(),t._computeWorldMatrix(!1)),o.multiply(this._wmatrix,t._wmatrix,this._matrix)):o.copy(this._wmatrix,this._matrix),this._invalidW=!1},_hasInvalidWorldMatrix:function(e){return this._invalidW||!e&&null!==this._parent&&this._parent._hasInvalidWorldMatrix(!1)}},t.exports=r},{"./math":69,"gl-matrix/src/gl-matrix/mat3":59,"gl-matrix/src/gl-matrix/mat4":60,"gl-matrix/src/gl-matrix/quat":61,"gl-matrix/src/gl-matrix/vec3":63}],71:[function(e,t,n){function r(){this.min=new Float32Array(3),this.max=new Float32Array(3),this.center=new Float32Array(3),this.radius=new Float32Array(3)}r.prototype={fromMinMax:function(e,t){this.min.set(e),this.max.set(t),this._updateSphere()},addMinMax:function(e,t){for(var n=0;n<3;n++)this.min[n]=Math.min(e[n],e[n]),this.max[n]=Math.max(t[n],t[n]);this._updateSphere()},addBounds:function(e){this.addMinMax(e.min,e.max)},_updateSphere:function(){this.center[0]=.5*(this.min[0]+this.max[0]),this.center[1]=.5*(this.min[1]+this.max[1]),this.center[2]=.5*(this.min[2]+this.max[2]),this.radius[0]=this.max[0]-this.center[0],this.radius[1]=this.max[1]-this.center[1],this.radius[2]=this.max[2]-this.center[2]}},t.exports=r},{}],72:[function(e,t,n){function r(e,t){this.list=null,this.children=[],this.parent=null,this._hasCode=!!e,this._hasSetup=!!t,this._invalid=!0,this._proxies=[]}function i(e){r.call(this,e._hasCode,e._hasSetup),this._ref=e}r.prototype={genCode:function(e){return""},getHash:function(){return""},setup:function(e){},add:function(e){if(!(this.children.indexOf(e)>-1)){this.children.push(e),e.setList(this.list),e.parent=this;for(var t=0;t<this._proxies.length;t++)this._proxies[t].add(e.createProxy());return this.invalidate(),e}},remove:function(e){var t=this.children.indexOf(e);t>-1&&(this.children.splice(t,1),e.parent=null,e.removeProxies()),this.invalidate()},setList:function(e){this.list=e,this.invalidate();for(var t=0;t<this.children.length;t++)this.children[t].setList(e)},traverse:function(e,t,n){if(-1===n.indexOf(this)){for(var r=0;r<this.children.length;r++)this.children[r].traverse(e,t,n);this._hasSetup&&e.push(this),this._hasCode&&t.push(this),n.push(this)}},invalidate:function(){this.list&&(this.list._isDirty=!0);for(var e=0;e<this._proxies.length;e++)this._proxies[e].invalidate()},createProxy:function(){var e=new i(this);return this._proxies.push(e),e},releaseProxy:function(e){var t=this._proxies.indexOf(e);t>-1&&this._proxies.splice(t,1)},removeProxies:function(){for(var e=0;e<this._proxies.length;e++){var t=this._proxies[e];null!==t.parent&&t.parent.remove(t)}}},i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.genCode=function(e){this._ref.genCode(e)},i.prototype.getHash=function(){return this._ref.getHash()},i.prototype.setup=function(e){this._ref.setup(e)},i.prototype.release=function(){this._ref.releaseProxy(this),this._ref=null},r.Proxy=i,t.exports=r},{}],73:[function(e,t,n){function r(){this.slots=[],this.slotsMap={}}function i(e){this.material=e,this._setups=[],this._codes=[],this._flat=[],this._root=new o,this._root.list=this,this._isDirty=!0}var o=e("./chunk");r.prototype={getSlot:function(e){var t=this.slotsMap[e];return void 0===t&&(t={key:e,code:""},this.slotsMap[e]=t,this.slots.push(t)),t},add:function(e,t){this.getSlot(e).code+=t+"\n"}},i.prototype={add:function(e){return this._root.add(e)},remove:function(e){return this._root.remove(e)},addChunks:function(e){for(var t=0;t<e.length;t++)this._root.add(e[t])},compile:function(){this._flatten()},_flatten:function(){var e=this._setups,t=this._codes,n=this._flat;e.length=0,t.length=0,n.length=0,this._root.traverse(e,t,n),this._isDirty=!1},getHash:function(){for(var e=this._codes,t="",n=0;n<e.length;n++)t+=e[n].getHash();return t},getCode:function(){for(var e=this._codes,t=new r,n=0;n<e.length;n++)e[n].genCode(t);return t}},t.exports=i},{"./chunk":72}],74:[function(e,t,n){function r(e,t){i.call(this,!0,!1),this.name=e,this._val=!!t}var i=e("./chunk");r.prototype=Object.create(i.prototype),r.prototype.constructor=r,r.prototype.enable=function(){this.set(!0)},r.prototype.disable=function(){this.set(!1)},r.prototype.set=function(e){e=!!e,this._val!==e&&(this._val=e,this.invalidate())},r.prototype.genCode=function(e){var t;t="#define "+this.name+" "+~~this._val+"\n",e.add("pf",t),e.add("pv",t)},r.prototype.getHash=function(){return this.name+"-"+~~this._val},t.exports=r},{"./chunk":72}],75:[function(e,t,n){function r(e,t){var n=e.length;if(n===t)return e;if(n>t)return e.substr(0,t);for(var r=e[n-1];e.length<t;)e+=r;return e}function i(e){return e.toPrecision(8)}function o(e,t,n){0!=(t&f)&&e.add("pf",n),0!=(t&p)&&e.add("pv",n)}function a(e,t,n){d.call(this,!0,!1),this.name=e,this.size=t,this.param=null,this.comps=r("rgba",t),this.shader=n||f}function s(e,t){d.call(this,!0,!0),this._input=null,this.name=e,this.texCoords=t,this._tex=null,this.size=4,this._linkAttrib=t instanceof c,this._linkAttrib?(this.add(t),this.uvsToken=this.texCoords.token):this.uvsToken=this.texCoords,this.token="VAL_"+this.name+this.uvsToken}function l(e,t){d.call(this,!0,!0),this._input=null,this.name=e,this.size=t,this._value=new Float32Array(t),this.token=this.name}function c(e,t){d.call(this,!0,!1),this._input=null,this.name=e,this.size=t,this.token="v_"+this.name}function u(e){d.call(this,!0,!1),this._input=null,this.name="CONST_"+(0|2147483647*Math.random()).toString(16),Array.isArray(e)?this.size=e.length:this.size=1,this.value=e,this.token="VAR_"+this.name}var d=e("./chunk"),h=[null,"float","vec2","vec3","vec4"],f=1,p=2;a.prototype=Object.create(d.prototype),a.prototype.constructor=a,a.prototype.attach=function(e,t){this.param&&this.remove(this.param),e._input=this,this.param=e,this.add(e),void 0===t&&(t="rgba"),this.comps=r(t,this.size)},a.prototype.detach=function(){this.param&&(this.param._input=null,this.remove(this.param)),this.param=null},a.prototype.attachSampler=function(e,t,n){var r=new s(e,t);return this.attach(r,n),r},a.prototype.attachUniform=function(e,t,n){var r=new l(e,t||this.size);return this.attach(r,n),r},a.prototype.attachAttribute=function(e,t,n){var r=new c(e,t||this.size);return this.attach(r,n),r},a.prototype.attachConstant=function(e,t){var n=new u(e);return this.attach(n,t),n},a.prototype.getHash=function(){return this.size+"-"+this.comps+"-"+this.name},a.prototype.genCode=function(e){if(this.genAvailable(e),null!==this.param){var t="#define "+this.name+"(k) "+this.param.token;this.param.size>1&&(t+="."+this.comps),o(e,this.shader,t)}},a.prototype.genAvailable=function(e){var t=null===this.param?"0":"1",n="#define HAS_"+this.name+" "+t+"\n";e.add("pv",n),e.add("pf",n)},s.prototype=Object.create(d.prototype),s.prototype.constructor=s,s.prototype.set=function(e){this._tex=e},s.prototype.genCode=function(e){var t,n=this.name;t="uniform sampler2D "+n+";\n",o(e,this._input.shader,t),t="vec4 "+this.token+" = texture2D( "+n+", "+this.uvsToken+");\n",function(e,t,n){0!=(t&f)&&e.add("f",n),0!=(t&p)&&e.add("v",n)}(e,this._input.shader,t)},s.prototype.setup=function(e){e[this.name]||console.warn(this.name),e[this.name](this._tex)},s.prototype.getHash=function(){return(this._linkAttrib?"":this.texCoords)+"-"+this.name},l.prototype=Object.create(d.prototype),l.prototype.constructor=l,l.prototype.set=function(){for(var e=0;e<arguments.length;e++)this._value[e]=arguments[e];this._invalid=!0},l.prototype.genCode=function(e){var t;t="uniform "+h[this.size]+" "+this.token+";\n",o(e,this._input.shader,t)},l.prototype.setup=function(e){e[this.name]||console.warn(this.name),e[this.name](this._value),this._invalid=!1},l.prototype.getHash=function(){return this.size+"-"+this.name},c.prototype=Object.create(d.prototype),c.prototype.constructor=c,c.prototype.genCode=function(e){var t;t="varying "+h[this.size]+" "+this.token+";\n",e.add("pf",t),t="attribute "+h[this.size]+" "+this.name+";\n",t+="varying   "+h[this.size]+" "+this.token+";\n",e.add("pv",t),t=this.token+" = "+this.name+";\n",e.add("v",t)},c.prototype.getHash=function(){return this.size+"-"+this.name},u.prototype=Object.create(d.prototype),u.prototype.constructor=u,u.prototype.genCode=function(e){var t;t="#define "+this.token+" "+h[this.size]+"("+this._stringifyValue()+")\n",o(e,this._input.shader,t)},u.prototype._stringifyValue=function(){return 1===this.size?this.value.toString():this.value.map(i).join(",")},u.prototype.getHash=function(){return this._stringifyValue()+"-"+this.size+"-"},a.Sampler=s,a.Uniform=l,a.Attribute=c,a.Constant=u,a.FRAGMENT=f,a.VERTEX=p,a.ALL=p|f,t.exports=a},{"./chunk":72}],76:[function(e,t,n){function r(e){this.gl=e,this._cache={}}var i=e("./program"),o=/^\s*#pragma SLOT\s\w+\s*$/gm;r.prototype={compile:function(e){var t=e.inputs;t.compile(),hash=t.getHash(),hash+=e._uid+e._precision;var n=this._cache[hash];if(void 0!==n)return n.usage++,n;var r=t.getCode(),o=this.processSlots(e._vertSrc,r),a=this.processSlots(e._fragSrc,r),s="precision "+e._precision+" float;\n",l=new i(this.gl,o,a,s);return l._usage++,this._cache[hash]=l,l},release:function(e){},_addProgram:function(e,t){this._cache[t]=e},processSlots:function(e,t){for(var n=0;n<t.slots.length;n++){var r=t.slots[n].code,i=t.slots[n].key;e=e.replace("#pragma SLOT "+i,r)}return o.lastIndex=0,e.replace(o,"")}},r.getCache=function(e){return void 0===e._prgcache&&(e._prgcache=new r(e)),e._prgcache},t.exports=r},{"./program":77}],77:[function(e,t,n){function r(e,t,n,r){i.call(this,e,t,n,r),this._usage=0,this._currentMaterial=null}var i=e("nanogl/program");r.prototype=Object.create(i.prototype),r.prototype.constructor=r,r.prototype.setupInputs=function(e){for(var t=e.inputs._setups,n=0;n<t.length;n++)t[n]._invalid,t[n].setup(this);this._currentMaterial=e},t.exports=r},{"nanogl/program":78}],78:[function(e,t,n){function r(e,t,n,r){this.gl=e,this.program=e.createProgram(),this.vShader=e.createShader(e.VERTEX_SHADER),this.fShader=e.createShader(e.FRAGMENT_SHADER),this.dyns=[],this.ready=!1,e.attachShader(this.program,this.vShader),e.attachShader(this.program,this.fShader),this._uid=0|u++,this._cuid=0|u++,void 0!==t&&void 0!==n&&this.compile(t,n,r)}function i(e){console.warn(e)}function o(e,t){return d[String(t+1).length]+(t+1)+": "+e}function a(e,t,n){return e.shaderSource(t,n),e.compileShader(t),!(r.debug&&!e.getShaderParameter(t,e.COMPILE_STATUS)&&(i(e.getShaderInfoLog(t)),i(function(e){return e.split("\n").map(o).join("\n")}(n)),1))}function s(e){return e=String(e),"uniform"+h[e]}function l(e,t,n,r){switch(e){case n.FLOAT_MAT2:case n.FLOAT_MAT3:case n.FLOAT_MAT4:return function(e,t,n,r){var i=s(e);return function(){if(arguments.length>0&&void 0!==arguments[0].length){var e=arguments.length>1&&!!arguments[1];n[i+"v"](t,e,arguments[0])}return t}}(e,t,n);case n.SAMPLER_2D:case n.SAMPLER_CUBE:return function(e,t,n,r){var i=r.texIndex++;return function(){return 1===arguments.length&&(void 0!==arguments[0].bind?(arguments[0].bind(i),n.uniform1i(t,i)):n.uniform1i(t,arguments[0])),t}}(0,t,n,r);default:return function(e,t,n,r){var i=s(e);return function(){return 1===arguments.length&&void 0!==arguments[0].length?n[i+"v"](t,arguments[0]):arguments.length>0&&n[i].apply(n,Array.prototype.concat.apply(t,arguments)),t}}(e,t,n)}}function c(e){return function(){return e}}var u=0;r.debug=!0,r.prototype={use:function(){this.ready||this._grabParameters(),this.gl.useProgram(this.program)},compile:function(e,t,n){this.ready=!1,n=(n||"")+"\n";var o=this.gl;if(!a(o,this.fShader,n+t)||!a(o,this.vShader,n+e))return!1;if(o.linkProgram(this.program),r.debug&&!o.getProgramParameter(this.program,o.LINK_STATUS))return i(o.getProgramInfoLog(this.program)),!1;for(;this.dyns.length>0;)delete this[this.dyns.pop()];return this._cuid=0|u++,!0},dispose:function(){null!==this.gl&&(this.gl.deleteProgram(this.program),this.gl.deleteShader(this.fShader),this.gl.deleteShader(this.vShader),this.gl=null)},_grabParameters:function(){for(var e=this.gl,t=this.program,n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),r={texIndex:0},i=0;i<n;++i){var o=e.getActiveUniform(t,i);if(null!==o){var a=o.name,s=a.indexOf("[");s>=0&&(a=a.substring(0,s));var u=e.getUniformLocation(t,o.name);this[a]=l(o.type,u,e,r),this.dyns.push(a)}else e.getError()}for(var d=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),h=0;h<d;++h){var f=e.getActiveAttrib(t,h).name,p=e.getAttribLocation(t,f);this[f]=c(p),this.dyns.push(f)}this.ready=!0}},r.prototype.bind=r.prototype.use;var d=["","   ","  "," ",""],h={5126:"1f",35664:"2f",35665:"3f",35666:"4f"};h[35670]=h[5124]=h[35678]=h[35680]="1i",h[35671]=h[35667]="2i",h[35672]=h[35668]="3i",h[35673]=h[35669]="4i",h[35674]="Matrix2f",h[35675]="Matrix3f",h[35676]="Matrix4f",t.exports=r},{}],79:[function(e,t,n){var r=e("raf"),i=e("right-now"),o=function(){};t.exports=function(e){var t=void 0!==e.pixelRatio?e.pixelRatio:0,n=void 0===e.hdpi||e.hdpi,a=function(e){var r=this.getContextOptions();this.gl=e.getContext("webgl",r)||e.getContext("experimental-webgl",r)||e.getContext("webgl"),this.canvas=e,this.width=0,this.height=0,this.canvasWidth=0,this.canvasHeight=0,this.pixelRatio=t,this.hdpi=n,this.frame=this._frame.bind(this),this.previousTime=i(),this._rafId=0,this._playing=!1,this.init()},s=a.prototype;return s.getContextOptions=e.getContextOptions||function(){},s.render=e.render||o,s.resize=e.resize||o,s.init=e.init||o,s.dispose=function(){this.stop()},s.play=function(){this._playing||(this._playing=!0,this.frame(),this.previousTime=i(),this._requestFrame())},s.stop=function(){r.cancel(this._rafId),this._playing=!1,this._rafId=0},s.updateSize=function(){var e=1;this.pixelRatio>0?e=this.pixelRatio:this.hdpi&&(e=window.devicePixelRatio),this.canvas.width=e*this.canvasWidth,this.canvas.height=e*this.canvasHeight,this.width=this.gl.drawingBufferWidth,this.height=this.gl.drawingBufferHeight,this.resize()},s._checkSize=function(){var e=getComputedStyle(this.canvas),t=parseInt(e.getPropertyValue("width")),n=parseInt(e.getPropertyValue("height"));return!isNaN(t)&&!isNaN(n)&&0!==t&&0!==n&&(t===this.canvasWidth&&n===this.canvasHeight||(this.canvasWidth=t,this.canvasHeight=n,this.updateSize()),!0)},s._requestFrame=function(){r.cancel(this._rafId),this._rafId=r(this.frame)},s._frame=function(){if(this._playing){var e=i(),t=(e-this.previousTime)/1e3;this.previousTime=e,(t>.2||t<1/180)&&(t=1/60),this._checkSize()&&this.render(t),this._playing&&this._requestFrame()}},a}},{raf:97,"right-now":98}],80:[function(e,t,n){!function(){function e(e){return 0|Math.round(65535*e)}function n(e){return e/65535}function r(e){var t=(31744&e)>>10,n=1023&e;return(e>>15?-1:1)*(t?31===t?n?NaN:1/0:Math.pow(2,t-15)*(1+n/1024):n/1024*6103515625e-14)}function i(e){a[0]=e;var t=s[0],n=t>>31<<5,r=t>>23&255;return(n=(n|(r=r-112&112-r>>4>>27))<<10)|t>>13&1023}function o(){this._dat=new Uint16Array(51),this._set=0}var a=new Float32Array(1),s=new Uint32Array(a.buffer),l=[1,512,1024,1024,2048,4096,4096,4,8192,2,16384,32768,256,65536,65536,65536,262144,131072,131072,131072,524288,524288,524288,2097152,1048576,1048576,1048576,128,4194304,4194304,4194304,4194304,8,16,8388608,8388608,32,64,16777216,33554432,67108864,67108864,67108864,67108864,134217728,134217728,134217728,134217728,268435456,268435456,536870912],c=new Uint16Array([0,32774,0,1,0,0,0,0,513,0,1029,2305,0,519,0,65535,65535,7680,7680,7680,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,15,1,0,0,0,0,0,0,0,0,e(0),e(1),i(1)]),u=function(e,t){return e.getParameter(t)};o.DAT_MASKS=l,o.encodeHalf=function(e){return i(e)},o.decodeHalf=function(e){return r(e)},o.prototype={toDefault:function(){this._dat.set(c),this._set=935847839},clone:function(){var e=new o;return e._dat.set(this._dat),e._set=this._set,e},patch:function(e,t){for(var n,r=this._dat,i=this._set,o=e._dat,a=e._set,s=t._dat,c=0,u=0;51>u;u++)0!=(i&(n=l[u]))&&((0==(a&n)||r[u]!==o[u])&&(c|=n),o[u]=r[u]);s.set(o),e._set|=i,t._set=function(e){return e|(4096&e)>>>2|(2048&e)>>>2|(524288&e)>>>3|(1048576&e)>>>3|(2097152&e)>>>3}(c)},setupGL:function(e){var t,i=this._set,o=this._dat;if(0!=(1&i)&&(o[0]?e.enable(3042):e.disable(3042)),0!==(t=2560&i)&&(2560===t?e.blendEquationSeparate(o[1],o[4]):e.blendEquation(o[1])),0!==(t=5120&i)&&(5120===t?e.blendFuncSeparate(o[3],o[2],o[6],o[5]):e.blendFunc(o[3],o[2])),0!=(4&i)&&(o[7]?e.enable(2929):e.disable(2929)),0!=(8192&i)&&e.depthFunc(o[8]),0!=(2&i)&&(o[9]?e.enable(2884):e.disable(2884)),0!=(16384&i)&&e.cullFace(o[10]),0!=(32768&i)&&e.frontFace(o[11]),0!=(536870912&i)&&e.lineWidth(r(o[50])),0!=(256&i)&&(o[12]?e.enable(2960):e.disable(2960)),0!==(t=589824&i)&&(589824===t?(e.stencilFuncSeparate(1028,o[13],o[14],o[15]),e.stencilFuncSeparate(1029,o[20],o[21],o[22])):e.stencilFunc(o[13],o[14],o[15])),0!==(t=1179648&i)&&(1179648===t?(e.stencilOpSeparate(1028,o[17],o[18],o[19]),e.stencilOpSeparate(1029,o[24],o[25],o[26])):e.stencilOp(o[17],o[18],o[19])),0!==(t=2359296&i)&&(2359296===t?(e.stencilMaskSeparate(1028,o[16]),e.stencilMaskSeparate(1029,o[23])):e.stencilMask(o[16])),0!=(16777216&i)){var a=o[38];e.colorMask(1==(1&a),2==(2&a),4==(4&a),8==(8&a))}0!=(33554432&i)&&e.depthMask(1===o[39]),0!=(67108864&i)&&e.blendColor(r(o[40]),r(o[41]),r(o[42]),r(o[43])),0!=(128&i)&&(o[27]?e.enable(3089):e.disable(3089)),0!=(4194304&i)&&e.scissor(o[28],o[29],o[30],o[31]),0!=(134217728&i)&&e.viewport(o[44],o[45],o[46],o[47]),0!=(16&i)&&(o[33]?e.enable(32823):e.disable(32823)),0!=(8388608&i)&&e.polygonOffset(r(o[34]),r(o[35])),0!=(268435456&i)&&e.depthRange(n(o[48]),n(o[49]))},fromGL:function(e){this._set=0;var t=u(e,3042),n=u(e,2884),r=u(e,2929),i=u(e,3024),o=u(e,32823),a=u(e,3089),s=u(e,2960),l=u(e,32969),c=u(e,32968),d=u(e,32971),h=u(e,32970),f=u(e,32777),p=u(e,34877),m=u(e,2962),v=u(e,2967),g=u(e,2963),y=u(e,2968),_=u(e,2964),b=u(e,2965),w=u(e,2966),x=u(e,34816),S=u(e,36003),T=u(e,36004),E=u(e,36005),A=u(e,34817),M=u(e,34818),L=u(e,34819),C=u(e,32824),k=u(e,10752),D=u(e,3088),I=u(e,3107),O=u(e,2930),P=u(e,32773),N=u(e,2978),R=u(e,2928),q=u(e,2849);this.enableBlend(t),l!==d||c!==h?this.blendFuncSeparate(l,c,d,h):this.blendFunc(l,c),f!==p?this.blendEquationSeparate(f,p):this.blendEquation(f),this.enableStencil(s),m!==x||v!==S||g!==T?this.stencilFuncSeparate(m,v,g,x,S,T):this.stencilFunc(m,v,g),_!==A||b!==M||w!==L?this.stencilOpSeparate(_,b,w,A,M,L):this.stencilOp(_,b,w),y!==E?this.stencilMaskSeparate(y,E):this.stencilMask(y),this.depthFunc(e.getParameter(2932)),this.enableDepthTest(r),this.cullFace(e.getParameter(2885)),this.enableCullface(n),this.frontFace(e.getParameter(2886)),this.enablePolygonOffset(o),this.polygonOffset(C,k),this.enableScissor(a),this.scissor(D[0],D[1],D[2],D[3]),this.enableDither(i),this.colorMask(I[0],I[1],I[2],I[3]),this.depthMask(O),this.blendColor(P[0],P[1],P[2],P[3]),this.viewport(N[0],N[1],N[2],N[3]),this.depthRange(R[0],R[1]),this.lineWidth(q)},enableBlend:function(e){return void 0===e&&(e=!0),this._dat[0]=0|e,this._set|=1,this},blendFunc:function(e,t){return this._dat[3]=e,this._dat[2]=t,this._set=-4097&this._set|1024,this},blendFuncSeparate:function(e,t,n,r){return this._dat[3]=e,this._dat[2]=t,this._dat[6]=n,this._dat[5]=r,this._set|=5120,this},blendEquation:function(e){return this._dat[1]=e,this._set=-2049&this._set|512,this},blendEquationSeparate:function(e,t){return this._dat[1]=e,this._dat[4]=t,this._set|=2560,this},blendColor:function(e,t,n,r){return this._dat[40]=i(e),this._dat[41]=i(t),this._dat[42]=i(n),this._dat[43]=i(r),this._set|=67108864,this},depthFunc:function(e){return this._dat[8]=e,this._set|=8192,this},enableDepthTest:function(e){return void 0===e&&(e=!0),this._dat[7]=0|e,this._set|=4,this},depthRange:function(t,n){return this._dat[48]=e(t),this._dat[49]=e(n),this._set|=268435456,this},lineWidth:function(e){return this._dat[50]=i(e),this._set|=536870912,this},cullFace:function(e){return this._dat[10]=e,this._set|=16384,this},enableCullface:function(e){return void 0===e&&(e=!0),this._dat[9]=0|e,this._set|=2,this},polygonOffset:function(e,t){return this._dat[34]=i(e),this._dat[35]=i(t),this._set|=8388608,this},enablePolygonOffset:function(e){return void 0===e&&(e=!0),this._dat[33]=0|e,this._set|=16,this},enableScissor:function(e){return void 0===e&&(e=!0),this._dat[27]=0|e,this._set|=128,this},scissor:function(e,t,n,r){return this._dat[28]=e,this._dat[29]=t,this._dat[30]=n,this._dat[31]=r,this._set|=4194304,this},viewport:function(e,t,n,r){return this._dat[44]=e,this._dat[45]=t,this._dat[46]=n,this._dat[47]=r,this._set|=134217728,this},enableDither:function(e){return void 0===e&&(e=!0),this._dat[32]=0|e,this._set|=8,this},depthMask:function(e){return this._dat[39]=0|e,this._set|=33554432,this},colorMask:function(e,t,n,r){var i=0|e|(0|t)<<1|(0|n)<<2|(0|r)<<3;return this._dat[38]=i,this._set|=16777216,this},frontFace:function(e){return this._dat[11]=e,this._set|=32768,this},enableStencil:function(e){return void 0===e&&(e=!0),this._dat[12]=0|e,this._set|=256,this},stencilFunc:function(e,t,n){return this._dat[13]=e,this._dat[14]=t,this._dat[15]=n,this._set=-524289&this._set|65536,this},stencilOp:function(e,t,n){return this._dat[17]=e,this._dat[18]=t,this._dat[19]=n,this._set=-1048577&this._set|131072,this},stencilMask:function(e){return this._dat[16]=e,this._set=-2097153&this._set|262144,this},stencilFuncSeparate:function(e,t,n,r,i,o){var a=this._dat;return a[13]=e,a[14]=t,a[15]=n,a[20]=r,a[21]=i,a[22]=o,this._set|=589824,this},stencilOpSeparate:function(e,t,n,r,i,o){var a=this._dat;return a[17]=e,a[18]=t,a[19]=n,a[24]=r,a[25]=i,a[26]=o,this._set|=1179648,this},stencilMaskSeparate:function(e,t){return this._dat[16]=e,this._dat[23]=t,this._set|=2359296,this}},t.exports=o}()},{}],81:[function(e,t,n){!function(){function n(){this._stack=new Uint32Array(816),this._sets=new Uint32Array(16),this._tmpDat=new Uint32Array(51),this._size=16,this._ptr=0,this._headPos=0,this._wcfg=new r}var r=e("./config"),i=r.DAT_MASKS;n.prototype={initFromGL:function(e){this._ptr=0,this._wcfg.fromGL(e),this._sets[0]=0,this._stack.set(this._wcfg._dat)},push:function(e){var t,n,r,o,a,s,l=this._ptr,c=this._sets[l++],u=e._set;for(l==this._size&&this._grow(),c|=u,this._sets[l]=c,this._ptr=l,t=51*l,n=this._stack,r=e._dat,o=this._tmpDat,a=0;51>a;a++)s=0!=(u&i[a])?r[a]:n[t+a-51],o[a]=s;n.set(o,t)},pop:function(){var e=--this._ptr;this._headPos>e&&(this._sets[e]|=this._sets[e+1],this._headPos=e)},flush:function(){for(;this._ptr>0;)this.pop()},commit:function(e){var t=this._ptr;this.copyConfig(t,e),this._headPos=t,this._sets[t-1]|=this._sets[t],this._sets[t]=0},patch:function(e,t){this.copyConfig(this._ptr,this._wcfg),this._wcfg.patch(e,t)},copyConfig:function(e,t){var n=new Uint32Array(this._stack.buffer,204*e,51);t._dat.set(n),t._set=this._sets[e]},_grow:function(){var e=this._size<<1,t=new Uint32Array(51*e),n=new Uint32Array(e);t.set(this._stack,0),n.set(this._sets,0),this._stack=t,this._sets=n,this._size=e}},t.exports=n}()},{"./config":80}],82:[function(e,t,n){function r(e){this.gl=e,this.cfgStack=new a,this.cfgStack.initFromGL(e),this._validCfg=!1}function i(e){o.call(this),this.state=e}var o=e("./config"),a=e("./stack"),s=new o;r.prototype={push:function(e){this.cfgStack.push(e),this._validCfg=!1},pop:function(){this.cfgStack.pop(),this._validCfg=!1},apply:function(){this._validCfg||(this.cfgStack.commit(s),s.setupGL(this.gl),this._validCfg=!0)},now:function(e){this.push(e),this.apply(),this.pop()},config:function(){return new i(this)}},i.prototype=Object.create(o.prototype),i.prototype.constructor=i,i.prototype.apply=function(){this.state.now(this)},r.config=function(){return new o},t.exports=r},{"./config":80,"./stack":81}],83:[function(e,t,n){(function(n){var r=e("../lib/decorators/unhandledRejection")(e("../lib/Promise"));t.exports=void 0!==n?n.Promise=r:"undefined"!=typeof self?self.Promise=r:r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/Promise":84,"../lib/decorators/unhandledRejection":86}],84:[function(e,t,n){!function(e){"use strict";e(function(e){return e("./makePromise")({scheduler:new(e("./Scheduler"))(e("./env").asap)})})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"./Scheduler":85,"./env":87,"./makePromise":89}],85:[function(e,t,n){!function(e){"use strict";e(function(){function e(e){this._async=e,this._running=!1,this._queue=this,this._queueLen=0,this._afterQueue={},this._afterQueueLen=0;var t=this;this.drain=function(){t._drain()}}return e.prototype.enqueue=function(e){this._queue[this._queueLen++]=e,this.run()},e.prototype.afterQueue=function(e){this._afterQueue[this._afterQueueLen++]=e,this.run()},e.prototype.run=function(){this._running||(this._running=!0,this._async(this.drain))},e.prototype._drain=function(){for(var e=0;e<this._queueLen;++e)this._queue[e].run(),this._queue[e]=void 0;for(this._queueLen=0,this._running=!1,e=0;e<this._afterQueueLen;++e)this._afterQueue[e].run(),this._afterQueue[e]=void 0;this._afterQueueLen=0},e})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],86:[function(e,t,n){!function(e){"use strict";e(function(e){function t(e){throw e}function n(){}var r=e("../env").setTimer,i=e("../format");return function(e){function o(e){e.handled||(f.push(e),u("Potentially unhandled rejection ["+e.id+"] "+i.formatError(e.value)))}function a(e){var t=f.indexOf(e);t>=0&&(f.splice(t,1),d("Handled previous rejection ["+e.id+"] "+i.formatObject(e.value)))}function s(e,t){h.push(e,t),null===p&&(p=r(l,0))}function l(){for(p=null;h.length>0;)h.shift()(h.shift())}var c,u=n,d=n;"undefined"!=typeof console&&(c=console,u=void 0!==c.error?function(e){c.error(e)}:function(e){c.log(e)},d=void 0!==c.info?function(e){c.info(e)}:function(e){c.log(e)}),e.onPotentiallyUnhandledRejection=function(e){s(o,e)},e.onPotentiallyUnhandledRejectionHandled=function(e){s(a,e)},e.onFatalRejection=function(e){s(t,e.value)};var h=[],f=[],p=null;return e}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"../env":87,"../format":88}],87:[function(e,t,n){(function(n){!function(e){"use strict";e(function(e){var t,r="undefined"!=typeof setTimeout&&setTimeout,i=function(e,t){return setTimeout(e,t)},o=function(e){return clearTimeout(e)},a=function(e){return r(e,0)};if(void 0!==n&&"[object process]"===Object.prototype.toString.call(n))a=function(e){return n.nextTick(e)};else if(t="undefined"!=typeof MutationObserver&&MutationObserver||"undefined"!=typeof WebKitMutationObserver&&WebKitMutationObserver)a=function(e){var t,n=document.createTextNode("");new e(function(){var e=t;t=void 0,e()}).observe(n,{characterData:!0});var r=0;return function(e){t=e,n.data=r^=1}}(t);else if(!r){var s=e("vertx");i=function(e,t){return s.setTimer(t,e)},o=s.cancelTimer,a=s.runOnLoop||s.runOnContext}return{setTimer:i,clearTimer:o,asap:a}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})}).call(this,e("_process"))},{_process:96}],88:[function(e,t,n){!function(e){"use strict";e(function(){function e(e){var n=String(e);return"[object Object]"===n&&"undefined"!=typeof JSON&&(n=t(e,n)),n}function t(e,t){try{return JSON.stringify(e)}catch(e){return t}}return{formatError:function(t){var n="object"==typeof t&&null!==t&&(t.stack||t.message)?t.stack||t.message:e(t);return t instanceof Error?n:n+" (WARNING: non-Error used)"},formatObject:e,tryStringify:t}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],89:[function(e,t,n){(function(e){!function(t){"use strict";t(function(){return function(t){function n(e,t){this._handler=e===h?t:function(e){function t(e){n.reject(e)}var n=new p;try{e(function(e){n.resolve(e)},t,function(e){n.notify(e)})}catch(e){t(e)}return n}(e)}function r(e){return E(e)?e:new n(h,new m(u(e)))}function i(e){return new n(h,new m(new y(e)))}function o(){return F}function a(e,t,r){function i(e,t,n){u[e]=t,0==--c&&n.become(new g(u))}for(var o,a="function"==typeof t?function(n,o,a){a.resolved||s(r,i,n,e(t,o,n),a)}:i,l=new p,c=r.length>>>0,u=new Array(c),d=0;d<r.length&&!l.resolved;++d)void 0!==(o=r[d])||d in r?s(r,a,d,o,l):--c;return 0===c&&l.become(new g(u)),new n(h,l)}function s(e,t,n,r,i){if(A(r)){var o=function(e){return E(e)?e._handler.join():d(e)}(r),a=o.state();0===a?o.fold(t,n,void 0,i):a>0?t(n,o.value,i):(i.become(o),l(e,n+1,o))}else t(n,r,i)}function l(e,t,n){for(var r=t;r<e.length;++r)c(u(e[r]),n)}function c(e,t){if(e!==t){var n=e.state();0===n?e.visit(e,void 0,e._unreport):n<0&&e._unreport()}}function u(e){return E(e)?e._handler.join():A(e)?d(e):new g(e)}function d(e){try{var t=e.then;return"function"==typeof t?new v(t,e):new g(e)}catch(e){return new y(e)}}function h(){}function f(){}function p(e,t){n.createContext(this,t),this.consumers=void 0,this.receiver=e,this.handler=void 0,this.resolved=!1}function m(e){this.handler=e}function v(e,t){p.call(this),P.enqueue(new S(e,t,this))}function g(e){n.createContext(this),this.value=e}function y(e){n.createContext(this),this.id=++z,this.value=e,this.handled=!1,this.reported=!1,this._report()}function _(e,t){this.rejection=e,this.context=t}function b(e){this.rejection=e}function w(e,t){this.continuation=e,this.handler=t}function x(e,t){this.handler=t,this.value=e}function S(e,t,n){this._then=e,this.thenable=t,this.resolver=n}function T(e,t,n,r){this.f=e,this.z=t,this.c=n,this.to=r,this.resolver=q,this.receiver=this}function E(e){return e instanceof n}function A(e){return("object"==typeof e||"function"==typeof e)&&null!==e}function M(e,t,r,i){return"function"!=typeof e?i.become(t):(n.enterContext(t),function(e,t,n,r){try{r.become(u(e.call(n,t)))}catch(e){r.become(new y(e))}}(e,t.value,r,i),void n.exitContext())}function L(e,t,r,i,o){return"function"!=typeof e?o.become(r):(n.enterContext(r),function(e,t,n,r,i){try{e.call(r,t,n,i)}catch(e){i.become(new y(e))}}(e,t,r.value,i,o),void n.exitContext())}function C(e,t,r,i,o){return"function"!=typeof e?o.notify(t):(n.enterContext(r),function(e,t,n,r){try{r.notify(e.call(n,t))}catch(e){r.notify(e)}}(e,t,i,o),void n.exitContext())}function k(e,t,n){try{return e(t,n)}catch(e){return i(e)}}function D(e,t){t.prototype=R(e.prototype),t.prototype.constructor=t}function I(e,t){return t}function O(){}var P=t.scheduler,N=void 0!==e&&null!==e&&"function"==typeof e.emit?function(t,n){return"unhandledRejection"===t?e.emit(t,n.value,n):e.emit(t,n)}:"undefined"!=typeof self&&function(){if("function"==typeof CustomEvent)try{return new CustomEvent("unhandledRejection")instanceof CustomEvent}catch(e){}return!1}()?function(e,t){return function(n,r){var i=new t(n,{detail:{reason:r.value,key:r},bubbles:!1,cancelable:!0});return!e.dispatchEvent(i)}}(self,CustomEvent):"undefined"!=typeof self&&function(){if("undefined"!=typeof document&&"function"==typeof document.createEvent)try{return document.createEvent("CustomEvent").initCustomEvent("eventType",!1,!0,{}),!0}catch(e){}return!1}()?function(e,t){return function(n,r){var i=t.createEvent("CustomEvent");return i.initCustomEvent(n,!1,!0,{reason:r.value,key:r}),!e.dispatchEvent(i)}}(self,document):O,R=Object.create||function(e){function t(){}return t.prototype=e,new t};n.resolve=r,n.reject=i,n.never=o,n._defer=function(){return new n(h,new p)},n._handler=u,n.prototype.then=function(e,t,n){var r=this._handler,i=r.join().state();if("function"!=typeof e&&i>0||"function"!=typeof t&&i<0)return new this.constructor(h,r);var o=this._beget(),a=o._handler;return r.chain(a,r.receiver,e,t,n),o},n.prototype.catch=function(e){return this.then(void 0,e)},n.prototype._beget=function(){return e=this._handler,new(0,this.constructor)(h,new p(e.receiver,e.join().context));var e},n.all=function(e){return a(I,null,e)},n.race=function(e){return"object"!=typeof e||null===e?i(new TypeError("non-iterable passed to race()")):0===e.length?o():1===e.length?r(e[0]):function(e){var t,r,i,o=new p;for(t=0;t<e.length;++t)if(void 0!==(r=e[t])||t in e){if(0!==(i=u(r)).state()){o.become(i),l(e,t+1,i);break}i.visit(o,o.resolve,o.reject)}return new n(h,o)}(e)},n._traverse=function(e,t){return a(k,e,t)},n._visitRemaining=l,h.prototype.when=h.prototype.become=h.prototype.notify=h.prototype.fail=h.prototype._unreport=h.prototype._report=O,h.prototype._state=0,h.prototype.state=function(){return this._state},h.prototype.join=function(){for(var e=this;void 0!==e.handler;)e=e.handler;return e},h.prototype.chain=function(e,t,n,r,i){this.when({resolver:e,receiver:t,fulfilled:n,rejected:r,progress:i})},h.prototype.visit=function(e,t,n,r){this.chain(q,e,t,n,r)},h.prototype.fold=function(e,t,n,r){this.when(new T(e,t,n,r))},D(h,f),f.prototype.become=function(e){e.fail()};var q=new f;D(h,p),p.prototype._state=0,p.prototype.resolve=function(e){this.become(u(e))},p.prototype.reject=function(e){this.resolved||this.become(new y(e))},p.prototype.join=function(){if(!this.resolved)return this;for(var e=this;void 0!==e.handler;)if((e=e.handler)===this)return this.handler=new y(new TypeError("Promise cycle"));return e},p.prototype.run=function(){var e=this.consumers,t=this.handler;this.handler=this.handler.join(),this.consumers=void 0;for(var n=0;n<e.length;++n)t.when(e[n])},p.prototype.become=function(e){this.resolved||(this.resolved=!0,this.handler=e,void 0!==this.consumers&&P.enqueue(this),void 0!==this.context&&e._report(this.context))},p.prototype.when=function(e){this.resolved?P.enqueue(new w(e,this.handler)):void 0===this.consumers?this.consumers=[e]:this.consumers.push(e)},p.prototype.notify=function(e){this.resolved||P.enqueue(new x(e,this))},p.prototype.fail=function(e){var t=void 0===e?this.context:e;this.resolved&&this.handler.join().fail(t)},p.prototype._report=function(e){this.resolved&&this.handler.join()._report(e)},p.prototype._unreport=function(){this.resolved&&this.handler.join()._unreport()},D(h,m),m.prototype.when=function(e){P.enqueue(new w(e,this))},m.prototype._report=function(e){this.join()._report(e)},m.prototype._unreport=function(){this.join()._unreport()},D(p,v),D(h,g),g.prototype._state=1,g.prototype.fold=function(e,t,n,r){L(e,t,this,n,r)},g.prototype.when=function(e){M(e.fulfilled,this,e.receiver,e.resolver)};var z=0;D(h,y),y.prototype._state=-1,y.prototype.fold=function(e,t,n,r){r.become(this)},y.prototype.when=function(e){"function"==typeof e.rejected&&this._unreport(),M(e.rejected,this,e.receiver,e.resolver)},y.prototype._report=function(e){P.afterQueue(new _(this,e))},y.prototype._unreport=function(){this.handled||(this.handled=!0,P.afterQueue(new b(this)))},y.prototype.fail=function(e){this.reported=!0,N("unhandledRejection",this),n.onFatalRejection(this,void 0===e?this.context:e)},_.prototype.run=function(){this.rejection.handled||this.rejection.reported||(this.rejection.reported=!0,N("unhandledRejection",this.rejection)||n.onPotentiallyUnhandledRejection(this.rejection,this.context))},b.prototype.run=function(){this.rejection.reported&&(N("rejectionHandled",this.rejection)||n.onPotentiallyUnhandledRejectionHandled(this.rejection))},n.createContext=n.enterContext=n.exitContext=n.onPotentiallyUnhandledRejection=n.onPotentiallyUnhandledRejectionHandled=n.onFatalRejection=O;var F=new n(h,new h);return w.prototype.run=function(){this.handler.join().when(this.continuation)},x.prototype.run=function(){var e=this.handler.consumers;if(void 0!==e)for(var t,n=0;n<e.length;++n)C((t=e[n]).progress,this.value,this.handler,t.receiver,t.resolver)},S.prototype.run=function(){var e=this.resolver;!function(e,t,n,r,i){try{e.call(t,n,r,i)}catch(e){r(e)}}(this._then,this.thenable,function(t){e.resolve(t)},function(t){e.reject(t)},function(t){e.notify(t)})},T.prototype.fulfilled=function(e){this.f.call(this.c,this.z,e,this.to)},T.prototype.rejected=function(e){this.to.reject(e)},T.prototype.progress=function(e){this.to.notify(e)},n}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})}).call(this,e("_process"))},{_process:96}],90:[function(e,t,n){function r(){if(void 0!==a&&a.defer)return a.defer();var e={resolve:null,reject:null};return e.promise=new a(function(t,n){e.resolve=t,e.reject=n}.bind(e)),Object.freeze(e),e}function i(e){var t=s[e._uid];t&&(t.img.onload=t.img.onerror=null,t.img.src="",t.defer.reject(e)),delete s[e._uid]}function o(e){return e.fromImage(s[e._uid].img),i(e),e}var a=e("when/es6-shim/Promise.browserify-es6"),s={},l={load:function(e,t){i(e);var n=r(),a=new Image;return a.onload=function(){n.resolve(e)},a.onerror=function(){n.reject(e),i(e)},a.crossOrigin="anonymous",a.src=t,s[e._uid]={texture:e,img:a,defer:n},n.promise.then(o),n.promise}};t.exports=l},{"when/es6-shim/Promise.browserify-es6":83}],91:[function(e,t,n){function r(e,t,n){this.gl=e,this.usage=n||e.STATIC_DRAW,this.buffer=e.createBuffer(),this.attribs=[],this.stride=0,this.byteLength=0,this.length=0,t&&this.data(t)}var i=e("./bufferutils"),o=34962;r.prototype={bind:function(){this.gl.bindBuffer(o,this.buffer)},attrib:function(e,t,n,r){return this.attribs.push({name:e,type:0|n,size:0|t,normalize:!!r,offset:this.stride}),this.stride+=i.getComponentSize(n)*t,this._computeLength(),this},data:function(e){var t=this.gl;t.bindBuffer(o,this.buffer),t.bufferData(o,e,this.usage),t.bindBuffer(o,null),this.byteLength=void 0===e.byteLength?e:e.byteLength,this._computeLength()},subData:function(e,t){var n=this.gl;n.bindBuffer(o,this.buffer),n.bufferSubData(o,t,e),n.bindBuffer(o,null)},attribPointer:function(e){var t=this.gl;t.bindBuffer(o,this.buffer);for(var n=0;n<this.attribs.length;n++){var r=this.attribs[n];if(void 0!==e[r.name]){var i=e[r.name]();t.enableVertexAttribArray(i),t.vertexAttribPointer(i,r.size,r.type,r.normalize,this.stride,r.offset)}}},draw:function(e,t,n){t=void 0===t?this.length:t,this.gl.drawArrays(e,n,0|t)},dispose:function(){this.gl.deleteBuffer(this.buffer),this.buffer=null,this.gl=null},_computeLength:function(){this.stride>0&&(this.length=this.byteLength/this.stride)}},i.Drawable(r.prototype),t.exports=r},{"./bufferutils":92}],92:[function(e,t,n){t.exports={getComponentSize:function(e){switch(e){case 5120:case 5121:return 1;case 5122:case 5123:return 2;case 5124:case 5125:case 5126:return 4;default:return 0}},Drawable:function(e){e.drawPoints=function(e,t){this.draw(0,e,t)},e.drawLines=function(e,t){this.draw(1,e,t)},e.drawLineLoop=function(e,t){this.draw(2,e,t)},e.drawLineStrip=function(e,t){this.draw(3,e,t)},e.drawTriangles=function(e,t){this.draw(4,e,t)},e.drawTriangleStrip=function(e,t){this.draw(5,e,t)},e.drawTriangleFan=function(e,t){this.draw(6,e,t)}}}},{}],93:[function(e,t,n){function r(e,t,n,r){this.gl=e,this.buffer=e.createBuffer(),this.usage=r||e.STATIC_DRAW,this.type=0,this.typeSize=0,this.size=0,this.setType(t||e.UNSIGNED_SHORT),n&&this.data(n)}var i=e("./bufferutils"),o=34963;r.prototype={bind:function(){this.gl.bindBuffer(o,this.buffer)},setType:function(e){this.type=e,this.typeSize=i.getComponentSize(e)},data:function(e){var t=this.gl;t.bindBuffer(o,this.buffer),t.bufferData(o,e,this.usage),t.bindBuffer(o,null),this.size=void 0===e.byteLength?e:e.byteLength},subData:function(e,t){var n=this.gl;n.bindBuffer(o,this.buffer),n.bufferSubData(o,t,e),n.bindBuffer(o,null)},dispose:function(){this.gl.deleteBuffer(this.buffer),this.buffer=null,this.gl=null},draw:function(e,t,n){t=void 0===t?this.size/this.typeSize:t,this.gl.drawElements(e,t,this.type,0|n)}},i.Drawable(r.prototype),t.exports=r},{"./bufferutils":92}],94:[function(e,t,n){function r(e,t,n){return 9728|+e|+t<<8|+(t&&n)<<1}function i(e,t){this._uid=o++,this.gl=e,this.id=this.gl.createTexture(),this.width=0,this.height=0,this.format=t||e.RGB,this.type=e.UNSIGNED_BYTE,e.bindTexture(a,this.id),this.setFilter(!0)}var o=0,a=3553;i.prototype={fromImage:function(e){var t=this.gl;this.width=e.width,this.height=e.height,t.bindTexture(a,this.id),t.texImage2D(a,0,this.format,this.format,this.type,e)},fromData:function(e,t,n,r){var i=this.gl;this.width=e,this.height=t,n=n||null,this.type=r||i.UNSIGNED_BYTE,i.bindTexture(a,this.id),i.texImage2D(a,0,this.format,e,t,0,this.format,this.type,n)},bind:function(e){var t=this.gl;void 0!==e&&t.activeTexture(t.TEXTURE0+(0|e)),t.bindTexture(a,this.id)},dispose:function(){this.gl.deleteTexture(this.id),this.id=null,this.gl=null},setFilter:function(e,t,n){var i=this.gl,o=r(!!e,!!t,!!n);i.texParameteri(a,i.TEXTURE_MAG_FILTER,r(!!e,!1,!1)),i.texParameteri(a,i.TEXTURE_MIN_FILTER,o)},repeat:function(){this.wrap(this.gl.REPEAT)},clamp:function(){this.wrap(this.gl.CLAMP_TO_EDGE)},mirror:function(){this.wrap(this.gl.MIRRORED_REPEAT)},wrap:function(e){var t=this.gl;t.texParameteri(a,t.TEXTURE_WRAP_S,e),t.texParameteri(a,t.TEXTURE_WRAP_T,e)}},t.exports=i},{}],95:[function(e,t,n){(function(e){(function(){var n,r,i;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:void 0!==e&&null!==e&&e.hrtime?(t.exports=function(){return(n()-i)/1e6},r=e.hrtime,i=(n=function(){var e;return 1e9*(e=r())[0]+e[1]})()):Date.now?(t.exports=function(){return Date.now()-i},i=Date.now()):(t.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(this,e("_process"))},{_process:96}],96:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(u===setTimeout)return setTimeout(e,0);if((u===r||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function a(){m&&f&&(m=!1,f.length?p=f.concat(p):v=-1,p.length&&s())}function s(){if(!m){var e=o(a);m=!0;for(var t=p.length;t;){for(f=p,p=[];++v<t;)f&&f[v].run();v=-1,t=p.length}f=null,m=!1,function(e){if(d===clearTimeout)return clearTimeout(e);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}(e)}}function l(e,t){this.fun=e,this.array=t}function c(){}var u,d,h=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:r}catch(e){u=r}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(e){d=i}}();var f,p=[],m=!1,v=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new l(e,t)),1!==p.length||m||o(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],97:[function(e,t,n){(function(n){for(var r=e("performance-now"),i="undefined"==typeof window?n:window,o=["moz","webkit"],a="AnimationFrame",s=i["request"+a],l=i["cancel"+a]||i["cancelRequest"+a],c=0;!s&&c<o.length;c++)s=i[o[c]+"Request"+a],l=i[o[c]+"Cancel"+a]||i[o[c]+"CancelRequest"+a];if(!s||!l){var u=0,d=0,h=[];s=function(e){if(0===h.length){var t=r(),n=Math.max(0,1e3/60-(t-u));u=n+t,setTimeout(function(){var e=h.slice(0);h.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(u)}catch(e){setTimeout(function(){throw e},0)}},Math.round(n))}return h.push({handle:++d,callback:e,cancelled:!1}),d},l=function(e){for(var t=0;t<h.length;t++)h[t].handle===e&&(h[t].cancelled=!0)}}t.exports=function(e){return s.call(i,e)},t.exports.cancel=function(){l.apply(i,arguments)},t.exports.polyfill=function(){i.requestAnimationFrame=s,i.cancelAnimationFrame=l}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"performance-now":95}],98:[function(e,t,n){(function(e){t.exports=e.performance&&e.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],99:[function(e,t,n){arguments[4][84][0].apply(n,arguments)},{"./Scheduler":100,"./env":112,"./makePromise":114,dup:84}],100:[function(e,t,n){arguments[4][85][0].apply(n,arguments)},{dup:85}],101:[function(e,t,n){!function(e){"use strict";e(function(){function e(t){Error.call(this),this.message=t,this.name=e.name,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],102:[function(e,t,n){!function(e){"use strict";e(function(){function e(e,n){function r(t,r){if(t.i<0)return n(t.f,t.thisArg,t.params,r);e._handler(t.args[t.i]).fold(i,t,void 0,r)}function i(e,t,n){e.params[e.i]=t,e.i-=1,r(e,n)}return arguments.length<2&&(n=t),function(t,i,o){var a=e._defer(),s=o.length;return r({f:t,thisArg:i,args:o,params:new Array(s),i:s-1,call:n},a._handler),a}}function t(e,t,n,r){try{r.resolve(e.apply(t,n))}catch(e){r.reject(e)}}return e.tryCatchResolve=t,e})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],103:[function(e,t,n){!function(e){"use strict";e(function(e){var t=e("../state"),n=e("../apply");return function(e){function r(t,n){for(var r=n.length,i=new Array(r),o=0,a=0;o<r;++o)n[o]&&(i[a++]=e._handler(t[o]).value);return i.length=a,i}function i(n){var r=e._handler(n);return 0===r.state()?s(n).then(t.fulfilled,t.rejected):(r._unreport(),t.inspect(r))}function o(e){return function(t,n,r){return a(e,void 0,[t,n,r])}}var a=n(e),s=e.resolve,l=e.all,c=Array.prototype.reduce,u=Array.prototype.reduceRight,d=Array.prototype.slice;return e.any=function(t){function n(e){u=null,this.resolve(e)}function r(e){this.resolved||(u.push(e),0==--c&&this.reject(u))}for(var i,o,a=e._defer(),s=a._handler,l=t.length>>>0,c=l,u=[],d=0;d<l;++d)if(void 0!==(o=t[d])||d in t){if((i=e._handler(o)).state()>0){s.become(i),e._visitRemaining(t,d,i);break}i.visit(s,n,r)}else--c;return 0===c&&s.reject(new RangeError("any(): array must not be empty")),a},e.some=function(t,n){function r(e){this.resolved||(u.push(e),0==--f&&(d=null,this.resolve(u)))}function i(e){this.resolved||(d.push(e),0==--o&&(u=null,this.reject(d)))}var o,a,s,l=e._defer(),c=l._handler,u=[],d=[],h=t.length>>>0,f=0;for(s=0;s<h;++s)(void 0!==(a=t[s])||s in t)&&++f;for(n=Math.max(n,0),o=f-n+1,n>(f=Math.min(n,f))?c.reject(new RangeError("some(): array must contain at least "+n+" item(s), but had "+f)):0===f&&c.resolve(u),s=0;s<h;++s)(void 0!==(a=t[s])||s in t)&&e._handler(a).visit(c,r,i,c.notify);return l},e.settle=function(e){return l(e.map(i))},e.map=function(t,n){return e._traverse(n,t)},e.filter=function(t,n){var i=d.call(t);return e._traverse(n,i).then(function(e){return r(i,e)})},e.reduce=function(e,t){return arguments.length>2?c.call(e,o(t),arguments[2]):c.call(e,o(t))},e.reduceRight=function(e,t){return arguments.length>2?u.call(e,o(t),arguments[2]):u.call(e,o(t))},e.prototype.spread=function(e){return this.then(l).then(function(t){return e.apply(this,t)})},e}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"../apply":102,"../state":115}],104:[function(e,t,n){!function(e){"use strict";e(function(){function e(){throw new TypeError("catch predicate must be a function")}function t(e,t){return function(e){return e===Error||null!=e&&e.prototype instanceof Error}(t)?e instanceof t:t(e)}function n(e){return e}return function(r){function i(e,n){return function(r){return t(r,n)?e.call(this,r):s(r)}}function o(e,t,n,r){var i=e.call(t);return function(e){return("object"==typeof e||"function"==typeof e)&&null!==e}(i)?function(e,t,n){return a(e).then(function(){return t(n)})}(i,n,r):n(r)}var a=r.resolve,s=r.reject,l=r.prototype.catch;return r.prototype.done=function(e,t){this._handler.visit(this._handler.receiver,e,t)},r.prototype.catch=r.prototype.otherwise=function(t){return arguments.length<2?l.call(this,t):"function"!=typeof t?this.ensure(e):l.call(this,i(arguments[1],t))},r.prototype.finally=r.prototype.ensure=function(e){return"function"!=typeof e?this:this.then(function(t){return o(e,this,n,t)},function(t){return o(e,this,s,t)})},r.prototype.else=r.prototype.orElse=function(e){return this.then(void 0,function(){return e})},r.prototype.yield=function(e){return this.then(function(){return e})},r.prototype.tap=function(e){return this.then(e).yield(this)},r}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],105:[function(e,t,n){!function(e){"use strict";e(function(){return function(e){return e.prototype.fold=function(t,n){var r=this._beget();return this._handler.fold(function(n,r,i){e._handler(n).fold(function(e,n,r){r.resolve(t.call(this,n,e))},r,this,i)},n,r._handler.receiver,r._handler),r},e}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],106:[function(e,t,n){!function(e){"use strict";e(function(e){var t=e("../state").inspect;return function(e){return e.prototype.inspect=function(){return t(e._handler(this))},e}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"../state":115}],107:[function(e,t,n){!function(e){"use strict";e(function(){return function(e){function t(e,r,i,o){function a(o,a){return n(i(o)).then(function(){return t(e,r,i,a)})}return n(o).then(function(t){return n(r(t)).then(function(r){return r?t:n(e(t)).spread(a)})})}var n=e.resolve;return e.iterate=function(e,n,r,i){return t(function(t){return[t,e(t)]},n,r,i)},e.unfold=t,e}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],108:[function(e,t,n){!function(e){"use strict";e(function(){return function(e){return e.prototype.progress=function(e){return this.then(void 0,void 0,e)},e}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],109:[function(e,t,n){!function(e){"use strict";e(function(e){function t(e,t,r,i){return n.setTimer(function(){e(r,i,t)},t)}var n=e("../env"),r=e("../TimeoutError");return function(e){function i(e,n,r){t(o,e,n,r)}function o(e,t){t.resolve(e)}function a(e,t,n){var i=void 0===e?new r("timed out after "+n+"ms"):e;t.reject(i)}return e.prototype.delay=function(e){var t=this._beget();return this._handler.fold(i,e,void 0,t._handler),t},e.prototype.timeout=function(e,r){var i=this._beget(),o=i._handler,s=t(a,e,r,i._handler);return this._handler.visit(o,function(e){n.clearTimer(s),this.resolve(e)},function(e){n.clearTimer(s),this.reject(e)},o.notify),i},e}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"../TimeoutError":101,"../env":112}],110:[function(e,t,n){arguments[4][86][0].apply(n,arguments)},{"../env":112,"../format":113,dup:86}],111:[function(e,t,n){!function(e){"use strict";e(function(){return function(e){return e.prototype.with=e.prototype.withThis=function(e){var t=this._beget(),n=t._handler;return n.receiver=e,this._handler.chain(n,e),t},e}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],112:[function(e,t,n){(function(n){!function(e){"use strict";e(function(e){var t,r="undefined"!=typeof setTimeout&&setTimeout,i=function(e,t){return setTimeout(e,t)},o=function(e){return clearTimeout(e)},a=function(e){return r(e,0)};if(void 0!==n&&"[object process]"===Object.prototype.toString.call(n))a=function(e){return n.nextTick(e)};else if(t="function"==typeof MutationObserver&&MutationObserver||"function"==typeof WebKitMutationObserver&&WebKitMutationObserver)a=function(e){var t,n=document.createTextNode("");new e(function(){var e=t;t=void 0,e()}).observe(n,{characterData:!0});var r=0;return function(e){t=e,n.data=r^=1}}(t);else if(!r){var s=e("vertx");i=function(e,t){return s.setTimer(t,e)},o=s.cancelTimer,a=s.runOnLoop||s.runOnContext}return{setTimer:i,clearTimer:o,asap:a}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})}).call(this,e("_process"))},{_process:96}],113:[function(e,t,n){arguments[4][88][0].apply(n,arguments)},{dup:88}],114:[function(e,t,n){(function(e){!function(t){"use strict";t(function(){return function(t){function n(e,t){this._handler=e===h?t:function(e){function t(e){n.reject(e)}var n=new p;try{e(function(e){n.resolve(e)},t,function(e){n.notify(e)})}catch(e){t(e)}return n}(e)}function r(e){return E(e)?e:new n(h,new m(u(e)))}function i(e){return new n(h,new m(new y(e)))}function o(){return F}function a(e,t,r){function i(e,t,n){u[e]=t,0==--c&&n.become(new g(u))}for(var o,a="function"==typeof t?function(n,o,a){a.resolved||s(r,i,n,e(t,o,n),a)}:i,l=new p,c=r.length>>>0,u=new Array(c),d=0;d<r.length&&!l.resolved;++d)void 0!==(o=r[d])||d in r?s(r,a,d,o,l):--c;return 0===c&&l.become(new g(u)),new n(h,l)}function s(e,t,n,r,i){if(A(r)){var o=function(e){return E(e)?e._handler.join():d(e)}(r),a=o.state();0===a?o.fold(t,n,void 0,i):a>0?t(n,o.value,i):(i.become(o),l(e,n+1,o))}else t(n,r,i)}function l(e,t,n){for(var r=t;r<e.length;++r)c(u(e[r]),n)}function c(e,t){if(e!==t){var n=e.state();0===n?e.visit(e,void 0,e._unreport):n<0&&e._unreport()}}function u(e){return E(e)?e._handler.join():A(e)?d(e):new g(e)}function d(e){try{var t=e.then;return"function"==typeof t?new v(t,e):new g(e)}catch(e){return new y(e)}}function h(){}function f(){}function p(e,t){n.createContext(this,t),this.consumers=void 0,this.receiver=e,this.handler=void 0,this.resolved=!1}function m(e){this.handler=e}function v(e,t){p.call(this),P.enqueue(new S(e,t,this))}function g(e){n.createContext(this),this.value=e}function y(e){n.createContext(this),this.id=++z,this.value=e,this.handled=!1,this.reported=!1,this._report()}function _(e,t){this.rejection=e,this.context=t}function b(e){this.rejection=e}function w(e,t){this.continuation=e,this.handler=t}function x(e,t){this.handler=t,this.value=e}function S(e,t,n){this._then=e,this.thenable=t,this.resolver=n}function T(e,t,n,r){this.f=e,this.z=t,this.c=n,this.to=r,this.resolver=q,this.receiver=this}function E(e){return e instanceof n}function A(e){return("object"==typeof e||"function"==typeof e)&&null!==e}function M(e,t,r,i){return"function"!=typeof e?i.become(t):(n.enterContext(t),function(e,t,n,r){try{r.become(u(e.call(n,t)))}catch(e){r.become(new y(e))}}(e,t.value,r,i),void n.exitContext())}function L(e,t,r,i,o){return"function"!=typeof e?o.become(r):(n.enterContext(r),function(e,t,n,r,i){try{e.call(r,t,n,i)}catch(e){i.become(new y(e))}}(e,t,r.value,i,o),void n.exitContext())}function C(e,t,r,i,o){return"function"!=typeof e?o.notify(t):(n.enterContext(r),function(e,t,n,r){try{r.notify(e.call(n,t))}catch(e){r.notify(e)}}(e,t,i,o),void n.exitContext())}function k(e,t,n){try{return e(t,n)}catch(e){return i(e)}}function D(e,t){t.prototype=R(e.prototype),t.prototype.constructor=t}function I(e,t){return t}function O(){}var P=t.scheduler,N=void 0!==e&&null!==e&&"function"==typeof e.emit?function(t,n){return"unhandledRejection"===t?e.emit(t,n.value,n):e.emit(t,n)}:"undefined"!=typeof self&&"function"==typeof CustomEvent?function(e,t,n){var r=!1;try{r=new n("unhandledRejection")instanceof n}catch(e){}return r?function(e,r){var i=new n(e,{detail:{reason:r.value,key:r},bubbles:!1,cancelable:!0});return!t.dispatchEvent(i)}:e}(O,self,CustomEvent):O,R=Object.create||function(e){function t(){}return t.prototype=e,new t};n.resolve=r,n.reject=i,n.never=o,n._defer=function(){return new n(h,new p)},n._handler=u,n.prototype.then=function(e,t,n){var r=this._handler,i=r.join().state();if("function"!=typeof e&&i>0||"function"!=typeof t&&i<0)return new this.constructor(h,r);var o=this._beget(),a=o._handler;return r.chain(a,r.receiver,e,t,n),o},n.prototype.catch=function(e){return this.then(void 0,e)},n.prototype._beget=function(){return e=this._handler,new(0,this.constructor)(h,new p(e.receiver,e.join().context));var e},n.all=function(e){return a(I,null,e)},n.race=function(e){return"object"!=typeof e||null===e?i(new TypeError("non-iterable passed to race()")):0===e.length?o():1===e.length?r(e[0]):function(e){var t,r,i,o=new p;for(t=0;t<e.length;++t)if(void 0!==(r=e[t])||t in e){if(0!==(i=u(r)).state()){o.become(i),l(e,t+1,i);break}i.visit(o,o.resolve,o.reject)}return new n(h,o)}(e)},n._traverse=function(e,t){return a(k,e,t)},n._visitRemaining=l,h.prototype.when=h.prototype.become=h.prototype.notify=h.prototype.fail=h.prototype._unreport=h.prototype._report=O,h.prototype._state=0,h.prototype.state=function(){return this._state},h.prototype.join=function(){for(var e=this;void 0!==e.handler;)e=e.handler;return e},h.prototype.chain=function(e,t,n,r,i){this.when({resolver:e,receiver:t,fulfilled:n,rejected:r,progress:i})},h.prototype.visit=function(e,t,n,r){this.chain(q,e,t,n,r)},h.prototype.fold=function(e,t,n,r){this.when(new T(e,t,n,r))},D(h,f),f.prototype.become=function(e){e.fail()};var q=new f;D(h,p),p.prototype._state=0,p.prototype.resolve=function(e){this.become(u(e))},p.prototype.reject=function(e){this.resolved||this.become(new y(e))},p.prototype.join=function(){if(!this.resolved)return this;for(var e=this;void 0!==e.handler;)if((e=e.handler)===this)return this.handler=new y(new TypeError("Promise cycle"));return e},p.prototype.run=function(){var e=this.consumers,t=this.handler;this.handler=this.handler.join(),this.consumers=void 0;for(var n=0;n<e.length;++n)t.when(e[n])},p.prototype.become=function(e){this.resolved||(this.resolved=!0,this.handler=e,void 0!==this.consumers&&P.enqueue(this),void 0!==this.context&&e._report(this.context))},p.prototype.when=function(e){this.resolved?P.enqueue(new w(e,this.handler)):void 0===this.consumers?this.consumers=[e]:this.consumers.push(e)},p.prototype.notify=function(e){this.resolved||P.enqueue(new x(e,this))},p.prototype.fail=function(e){var t=void 0===e?this.context:e;this.resolved&&this.handler.join().fail(t)},p.prototype._report=function(e){this.resolved&&this.handler.join()._report(e)},p.prototype._unreport=function(){this.resolved&&this.handler.join()._unreport()},D(h,m),m.prototype.when=function(e){P.enqueue(new w(e,this))},m.prototype._report=function(e){this.join()._report(e)},m.prototype._unreport=function(){this.join()._unreport()},D(p,v),D(h,g),g.prototype._state=1,g.prototype.fold=function(e,t,n,r){L(e,t,this,n,r)},g.prototype.when=function(e){M(e.fulfilled,this,e.receiver,e.resolver)};var z=0;D(h,y),y.prototype._state=-1,y.prototype.fold=function(e,t,n,r){r.become(this)},y.prototype.when=function(e){"function"==typeof e.rejected&&this._unreport(),M(e.rejected,this,e.receiver,e.resolver)},y.prototype._report=function(e){P.afterQueue(new _(this,e))},y.prototype._unreport=function(){this.handled||(this.handled=!0,P.afterQueue(new b(this)))},y.prototype.fail=function(e){this.reported=!0,N("unhandledRejection",this),n.onFatalRejection(this,void 0===e?this.context:e)},_.prototype.run=function(){this.rejection.handled||this.rejection.reported||(this.rejection.reported=!0,N("unhandledRejection",this.rejection)||n.onPotentiallyUnhandledRejection(this.rejection,this.context))},b.prototype.run=function(){this.rejection.reported&&(N("rejectionHandled",this.rejection)||n.onPotentiallyUnhandledRejectionHandled(this.rejection))},n.createContext=n.enterContext=n.exitContext=n.onPotentiallyUnhandledRejection=n.onPotentiallyUnhandledRejectionHandled=n.onFatalRejection=O;var F=new n(h,new h);return w.prototype.run=function(){this.handler.join().when(this.continuation)},x.prototype.run=function(){var e=this.handler.consumers;if(void 0!==e)for(var t,n=0;n<e.length;++n)C((t=e[n]).progress,this.value,this.handler,t.receiver,t.resolver)},S.prototype.run=function(){var e=this.resolver;!function(e,t,n,r,i){try{e.call(t,n,r,i)}catch(e){r(e)}}(this._then,this.thenable,function(t){e.resolve(t)},function(t){e.reject(t)},function(t){e.notify(t)})},T.prototype.fulfilled=function(e){this.f.call(this.c,this.z,e,this.to)},T.prototype.rejected=function(e){this.to.reject(e)},T.prototype.progress=function(e){this.to.notify(e)},n}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})}).call(this,e("_process"))},{_process:96}],115:[function(e,t,n){!function(e){"use strict";e(function(){function e(){return{state:"pending"}}function t(e){return{state:"rejected",reason:e}}function n(e){return{state:"fulfilled",value:e}}return{pending:e,fulfilled:n,rejected:t,inspect:function(e){var r=e.state();return 0===r?{state:"pending"}:r>0?n(e.value):t(e.value)}}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],116:[function(e,t,n){!function(e){"use strict";e(function(e){function t(e,t,n,r){var i=p.resolve(e);return arguments.length<2?i:i.then(t,n,r)}function n(e){return function(){for(var t=0,n=arguments.length,r=new Array(n);t<n;++t)r[t]=arguments[t];return m(e,this,r)}}function r(e){for(var t=0,n=arguments.length-1,r=new Array(n);t<n;++t)r[t]=arguments[t+1];return m(e,this,r)}var i=e("./lib/decorators/timed"),o=e("./lib/decorators/array"),a=e("./lib/decorators/flow"),s=e("./lib/decorators/fold"),l=e("./lib/decorators/inspect"),c=e("./lib/decorators/iterate"),u=e("./lib/decorators/progress"),d=e("./lib/decorators/with"),h=e("./lib/decorators/unhandledRejection"),f=e("./lib/TimeoutError"),p=[o,a,s,c,u,l,d,i,h].reduce(function(e,t){return t(e)},e("./lib/Promise")),m=e("./lib/apply")(p);return t.promise=function(e){return new p(e)},t.resolve=p.resolve,t.reject=p.reject,t.lift=n,t.try=r,t.attempt=r,t.iterate=p.iterate,t.unfold=p.unfold,t.join=function(){return p.all(arguments)},t.all=function(e){return t(e,p.all)},t.settle=function(e){return t(e,p.settle)},t.any=n(p.any),t.some=n(p.some),t.race=n(p.race),t.map=function(e,n){return t(e,function(e){return p.map(e,n)})},t.filter=function(e,n){return t(e,function(e){return p.filter(e,n)})},t.reduce=n(p.reduce),t.reduceRight=n(p.reduceRight),t.isPromiseLike=function(e){return e&&"function"==typeof e.then},t.Promise=p,t.defer=function(){return new function(){function e(e){r._handler.resolve(e)}function t(e){r._handler.reject(e)}function n(e){r._handler.notify(e)}var r=p._defer();this.promise=r,this.resolve=e,this.reject=t,this.notify=n,this.resolver={resolve:e,reject:t,notify:n}}},t.TimeoutError=f,t})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"./lib/Promise":99,"./lib/TimeoutError":101,"./lib/apply":102,"./lib/decorators/array":103,"./lib/decorators/flow":104,"./lib/decorators/fold":105,"./lib/decorators/inspect":106,"./lib/decorators/iterate":107,"./lib/decorators/progress":108,"./lib/decorators/timed":109,"./lib/decorators/unhandledRejection":110,"./lib/decorators/with":111}]},{},[28]),webGl();